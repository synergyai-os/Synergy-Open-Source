import{d as ye,c as Y,f as m,a as r,b as _e,e as ue,t as $e}from"../chunks/ClEwQIZJ.js";import{P as et,a2 as tt,ba as rt,bb as at,Z as it,$ as nt,bc as st,b3 as Ve,ay as ot,R as lt,af as pe,p as be,f as F,s as k,c as C,r as x,t as X,j as n,T as le,X as Me,V as I,Y as ae,a as ge,a1 as me,an as dt}from"../chunks/kOT-I_MI.js";import{s as Ce,a as ct}from"../chunks/DjvPQNYr.js";import{i as w}from"../chunks/SF-wfan-.js";import{b as vt,s as U}from"../chunks/LC4C1fji.js";import{a as Ze,s as ze}from"../chunks/CxucRfwL.js";import{p as fe,a as Qe,s as Ke}from"../chunks/DgY3EWrn.js";import{g as ut}from"../chunks/DbDA9aFy.js";import{w as ft}from"../chunks/C3G0mfPY.js";import{M as mt,P as bt,D as gt,a as Fe,b as ht,c as xt,R as pt,d as Le,s as Ne,e as yt,f as _t,r as Ie,u as wt}from"../chunks/dGi1Vphu.js";import{c as re}from"../chunks/BLTX30nU.js";import{a as kt,S as Ct,t as Mt,i as St}from"../chunks/DEx5EEyN.js";import{a as jt}from"../chunks/QKLj4cNN.js";import{e as Ue,i as At}from"../chunks/Imjd_TE3.js";import{B as Oe}from"../chunks/oOxICoJY.js";import{u as Pt,m as Et}from"../chunks/CmDhudRb.js";import{u as Tt}from"../chunks/-dmxCEhl.js";const Dt=()=>performance.now(),ne={tick:t=>requestAnimationFrame(t),now:()=>Dt(),tasks:new Set};function Ye(){const t=ne.now();ne.tasks.forEach(e=>{e.c(t)||(ne.tasks.delete(e),e.f())}),ne.tasks.size!==0&&ne.tick(Ye)}function Je(t){let e;return ne.tasks.size===0&&ne.tick(Ye),{promise:new Promise(l=>{ne.tasks.add(e={c:t,f:l})}),abort(){ne.tasks.delete(e)}}}function we(t,e){Ve(()=>{t.dispatchEvent(new CustomEvent(e))})}function Lt(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Xe(t){const e={},l=t.split(";");for(const c of l){const[d,o]=c.split(":");if(!d||o===void 0)break;const s=Lt(d.trim());e[s]=o.trim()}return e}const Bt=t=>t;function Be(t,e,l,c){var d=(t&st)!==0,o="both",s,y=e.inert,A=e.style.overflow,T,v;function b(){return Ve(()=>s??=l()(e,c?.()??{},{direction:o}))}var p={is_global:d,in(){e.inert=y,we(e,"introstart"),T=We(e,b(),v,1,()=>{we(e,"introend"),T?.abort(),T=s=void 0,e.style.overflow=A})},out(W){e.inert=!0,we(e,"outrostart"),v=We(e,b(),T,0,()=>{we(e,"outroend"),W?.()})},stop:()=>{T?.abort(),v?.abort()}},_=et;if((_.transitions??=[]).push(p),vt){var g=d;if(!g){for(var u=_.parent;u&&(u.f&tt)!==0;)for(;(u=u.parent)&&(u.f&rt)===0;);g=!u||(u.f&at)!==0}g&&it(()=>{nt(()=>p.in())})}}function We(t,e,l,c,d){var o=c===1;if(ot(e)){var s,y=!1;return lt(()=>{if(!y){var W=e({direction:o?"in":"out"});s=We(t,W,l,c,d)}}),{abort:()=>{y=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(l?.deactivate(),!e?.duration)return d(),{abort:pe,deactivate:pe,reset:pe,t:()=>c};const{delay:A=0,css:T,tick:v,easing:b=Bt}=e;var p=[];if(o&&l===void 0&&(v&&v(0,1),T)){var _=Xe(T(0,1));p.push(_,_)}var g=()=>1-c,u=t.animate(p,{duration:A,fill:"forwards"});return u.onfinish=()=>{u.cancel();var W=l?.t()??1-c;l?.abort();var O=c-W,q=e.duration*Math.abs(O),V=[];if(q>0){var H=!1;if(T)for(var Z=Math.ceil(q/16.666666666666668),G=0;G<=Z;G+=1){var ee=W+O*b(G/Z),J=Xe(T(ee,1-ee));V.push(J),H||=J.overflow==="hidden"}H&&(t.style.overflow="hidden"),g=()=>{var a=u.currentTime;return W+O*b(a/q)},v&&Je(()=>{if(u.playState!=="running")return!1;var a=g();return v(a,1-a),!0})}u=t.animate(V,{duration:q,fill:"forwards"}),u.onfinish=()=>{g=()=>c,v?.(c,1-c),d()}},{abort:()=>{u&&(u.cancel(),u.effect=null,u.onfinish=pe)},deactivate:()=>{d=pe},reset:()=>{c===0&&v?.(1,0)},t:()=>g()}}function qe(t){return Object.prototype.toString.call(t)==="[object Date]"}function Rt(t){return t}function ke(t){const e=t-1;return e*e*e+1}function He(t,e){if(t===e||t!==t)return()=>t;const l=typeof t;if(l!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const c=e.map((d,o)=>He(t[o],d));return d=>c.map(o=>o(d))}if(l==="object"){if(!t||!e)throw new Error("Object cannot be null");if(qe(t)&&qe(e)){const o=t.getTime(),y=e.getTime()-o;return A=>new Date(o+A*y)}const c=Object.keys(e),d={};return c.forEach(o=>{d[o]=He(t[o],e[o])}),o=>{const s={};return c.forEach(y=>{s[y]=d[y](o)}),s}}if(l==="number"){const c=e-t;return d=>t+d*c}return()=>e}function Wt(t,e={}){const l=ft(t);let c,d=t;function o(s,y){if(d=s,t==null)return l.set(t=s),Promise.resolve();let A=c,T=!1,{delay:v=0,duration:b=400,easing:p=Rt,interpolate:_=He}={...e,...y};if(b===0)return A&&(A.abort(),A=null),l.set(t=d),Promise.resolve();const g=ne.now()+v;let u;return c=Je(W=>{if(W<g)return!0;T||(u=_(t,s),typeof b=="function"&&(b=b(t,s)),T=!0),A&&(A.abort(),A=null);const O=W-g;return O>b?(l.set(t=s),!1):(l.set(t=u(p(O/b))),!0)}),c.promise}return{set:o,update:(s,y)=>o(s(d,t),y),subscribe:l.subscribe}}const Ht=t=>t;function Re(t,{delay:e=0,duration:l=400,easing:c=Ht}={}){const d=+getComputedStyle(t).opacity;return{delay:e,duration:l,easing:c,css:o=>`opacity: ${o*d}`}}var zt=m('<div class="flex items-center gap-icon-wide flex-1 min-w-0"><div class="w-7 h-7 rounded-md bg-teal-500 flex items-center justify-center flex-shrink-0 shadow-sm"><span class="text-white text-xs font-semibold">A</span></div> <span class="font-medium text-sm text-sidebar-primary truncate"> </span> <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></div>'),Ft=m('<span class="font-normal">Settings</span> <span class="text-label text-tertiary ml-3 font-mono">G then S</span>',1),Nt=_e('<svg class="w-3.5 h-3.5 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>'),It=_e('<svg class="w-3.5 h-3.5 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>'),Ot=m('<div class="flex items-center justify-between w-full"><span class="font-normal">Log out</span> <span class="text-label text-tertiary ml-3 font-mono">⌘⇧Q</span></div>'),Xt=m('<!> <div class="px-menu-item py-menu-item flex items-center justify-between gap-3" role="presentation"><div class="flex items-center gap-icon flex-1"><span class="text-sm font-normal text-primary"> </span> <!></div> <!></div> <!> <!>',1),qt=m("<!> <!>",1);function Gt(t,e){be(e,!0);const l=()=>Qe(St,"$isDark",c),[c,d]=Ke();let o=fe(e,"workspaceName",3,"Axon"),s=le(!1);var y=Y(),A=F(y);re(A,()=>xt,(T,v)=>{v(T,{get open(){return n(s)},set open(b){I(s,b,!0)},children:(b,p)=>{var _=qt(),g=F(_);re(g,()=>mt,(W,O)=>{O(W,{type:"button",class:"flex items-center gap-icon-wide px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover-solid transition-colors w-full text-left group",children:(q,V)=>{var H=zt(),Z=k(C(H),2),G=C(Z,!0);x(Z);var ee=k(Z,2);let J;x(H),X(()=>{U(G,o()),J=Ce(ee,0,"w-3.5 h-3.5 text-sidebar-secondary flex-shrink-0 transition-transform duration-200 group-hover:text-sidebar-primary",null,J,{"rotate-180":n(s)})}),r(q,H)},$$slots:{default:!0}})});var u=k(g,2);re(u,()=>bt,(W,O)=>{O(W,{children:(q,V)=>{var H=Y(),Z=F(H);re(Z,()=>gt,(G,ee)=>{ee(G,{class:"bg-elevated rounded-md shadow-lg border border-base min-w-[180px] py-1 z-50",side:"bottom",align:"start",sideOffset:4,children:(J,a)=>{var i=Xt(),j=F(i);re(j,()=>Fe,(h,S)=>{S(h,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Settings",onSelect:()=>{e.onSettings?.(),I(s,!1)},children:(z,R)=>{var $=Ft();Me(2),r(z,$)},$$slots:{default:!0}})});var L=k(j,2);L.__click=h=>h.stopPropagation();var B=C(L),D=C(B),N=C(D,!0);x(D);var Q=k(D,2);{var te=h=>{var S=Nt();r(h,S)},M=h=>{var S=It();r(h,S)};w(Q,h=>{l()?h(te):h(M,!1)})}x(B);var f=k(B,2);{let h=ae(()=>l()?"bg-gray-900":"bg-gray-300");re(f,()=>kt,(S,z)=>{z(S,{get checked(){return l()},onCheckedChange:R=>{Mt.setTheme(R?"dark":"light")},get class(){return`relative inline-flex h-4 w-8 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 ${n(h)??""}`},children:(R,$)=>{var oe=Y(),he=F(oe);re(he,()=>Ct,(Se,je)=>{je(Se,{class:"pointer-events-none inline-block h-3 w-3 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out translate-x-0 data-[state=checked]:translate-x-4"})}),r(R,oe)},$$slots:{default:!0}})})}x(L);var E=k(L,2);re(E,()=>ht,(h,S)=>{S(h,{class:"my-1 border-t border-base"})});var P=k(E,2);re(P,()=>Fe,(h,S)=>{S(h,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer focus:bg-hover-solid outline-none",textValue:"Log out",onSelect:()=>{e.onLogout?.(),I(s,!1)},children:(z,R)=>{var $=Ot();r(z,$)},$$slots:{default:!0}})}),X(()=>U(N,l()?"Dark mode":"Light mode")),r(J,i)},$$slots:{default:!0}})}),r(q,H)},$$slots:{default:!0}})}),r(b,_)},$$slots:{default:!0}})}),r(t,y),ge(),d()}ye(["click"]);var Vt=m('<div class="flex-1 min-w-0"><!></div> <div class="flex items-center gap-0.5"><button type="button" class="p-1.5 rounded hover:bg-sidebar-hover-solid transition-colors text-sidebar-secondary hover:text-sidebar-primary" aria-label="Search"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button> <button type="button" class="p-1.5 rounded hover:bg-sidebar-hover-solid transition-colors text-sidebar-secondary hover:text-sidebar-primary" aria-label="Edit"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg></button></div>',1),Zt=m('<div class="sticky top-0 z-10 bg-sidebar border-b border-sidebar px-header py-system-header h-system-header flex items-center justify-between flex-shrink-0"><div class="flex items-center gap-icon"><!></div></div>');function Ge(t,e){be(e,!0);let l=fe(e,"workspaceName",3,"Axon"),c=fe(e,"isMobile",3,!1),d=fe(e,"sidebarCollapsed",3,!1),o=fe(e,"isHovered",3,!1);var s=Zt(),y=C(s),A=C(y);{var T=v=>{var b=Vt(),p=F(b),_=C(p);Gt(_,{get workspaceName(){return l()},get onSettings(){return e.onSettings},get onLogout(){return e.onLogout}}),x(p);var g=k(p,2),u=C(g);u.__click=()=>e.onSearch?.();var W=k(u,2);W.__click=()=>e.onEdit?.(),x(g),r(v,b)};w(A,v=>{(!d()||c()&&!d()||o()&&!c())&&v(T)})}x(y),x(s),r(t,s),ge()}ye(["click"]);ye(["click"]);var Qt=m('<div class="fixed left-0 top-0 bottom-0 hover:bg-transparent pointer-events-auto" style="width: 8px; z-index: 50;" role="presentation"></div>'),Kt=m('<div class="fixed inset-0 bg-black/50 z-40 transition-opacity" role="button" tabindex="0" aria-label="Close sidebar"></div>'),Ut=m('<span class="bg-sidebar-badge text-sidebar-badge text-label font-medium px-badge py-badge rounded min-w-[18px] text-center flex-shrink-0"> </span>'),Yt=m('<nav class="flex-1 px-nav-container py-nav-container overflow-y-auto"><a href="/inbox" class="group relative flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary" title="Inbox"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg> <span class="font-normal flex-1 min-w-0">Inbox</span> <!></a> <a href="/flashcards" class="group flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary" title="Flashcards"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="font-normal">Flashcards</span></a> <div class="border-t border-sidebar my-2"></div> <div class="px-section py-section"><p class="text-label font-medium text-sidebar-tertiary uppercase tracking-wider mb-1.5">Categories</p> <div class="space-y-0.5"><button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary"><span class="font-normal">Product Delivery</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary pl-indent"><span class="font-normal">Sprint Planning</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary pl-indent"><span class="font-normal">Roadmapping</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary"><span class="font-normal">Product Discovery</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary"><span class="font-normal">Leadership</span></button></div></div></nav>'),Jt=m('<div class="px-nav-container py-nav-container border-t border-sidebar"><button type="button" class="w-full flex items-center justify-center gap-icon bg-sidebar-hover hover:bg-sidebar-hover-solid text-sidebar-primary py-nav-item px-header rounded-md transition-all duration-150 text-sm font-normal"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Item</button></div>'),$t=m('<aside class="bg-sidebar text-sidebar-primary flex flex-col border-r border-sidebar h-full overflow-hidden svelte-129hoe0" style="pointer-events: auto; z-index: 50;"><!> <!> <!> <!></aside>'),er=m('<span class="bg-sidebar-badge text-sidebar-badge text-label font-medium px-badge py-badge rounded min-w-[18px] text-center flex-shrink-0"> </span>'),tr=m('<span class="font-normal flex-1 min-w-0">Inbox</span> <!>',1),rr=m('<span class="absolute top-0 right-0 bg-sidebar-badge text-sidebar-badge text-label font-medium px-1 py-0.5 rounded leading-none"> </span>'),ar=m('<span class="bg-sidebar-badge text-sidebar-badge text-label font-medium px-badge py-badge rounded min-w-[18px] text-center flex-shrink-0"> </span>'),ir=m('<span class="font-normal">Inbox</span> <!>',1),nr=m('<span class="font-normal">Flashcards</span>'),sr=m('<div class="border-t border-sidebar my-2"></div> <div class="px-section py-section"><p class="text-label font-medium text-sidebar-tertiary uppercase tracking-wider mb-1.5">Categories</p> <div class="space-y-0.5"><button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary"><span class="font-normal">Product Delivery</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary pl-indent"><span class="font-normal">Sprint Planning</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary pl-indent"><span class="font-normal">Roadmapping</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary"><span class="font-normal">Product Discovery</span></button> <button type="button" class="w-full flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary"><span class="font-normal">Leadership</span></button></div></div>',1),or=m('<nav class="flex-1 px-nav-container py-nav-container overflow-y-auto"><a href="/inbox"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"></path></svg> <!></a> <a href="/flashcards"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <!></a> <!></nav>'),lr=m('<div class="px-nav-container py-nav-container border-t border-sidebar"><button type="button" class="w-full flex items-center justify-center gap-icon bg-sidebar-hover hover:bg-sidebar-hover-solid text-sidebar-primary py-nav-item px-header rounded-md transition-all duration-150 text-sm font-normal"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> New Item</button></div>'),dr=m("<aside><!> <!> <!> <!></aside>"),cr=m("<!>  <!> <!>",1);function vr(t,e){be(e,!0);const l=()=>Qe(_,"$animatedWidth",c),[c,d]=Ke();let o=fe(e,"sidebarWidth",3,256),s=!1,y=le(!1),A=le(!1);function T(a){if(!e.sidebarCollapsed||e.isMobile||!n(v))return;const i=a.target;if(i&&(i.closest("[data-radix-portal]")||i.closest('[role="menu"]')||i.closest("[data-radix-dropdown-menu-content]")||i.closest("[data-bits-ui-dropdown-menu-content]"))){b&&(clearTimeout(b),b=null),p(!0,0);return}const j=document.querySelector("aside.fixed, aside:not(.hidden)"),L=document.querySelector('[role="presentation"]');if(j){const B=j.getBoundingClientRect();if(a.clientX>=B.left&&a.clientX<=B.right){b&&(clearTimeout(b),b=null);return}}if(L){const B=L.getBoundingClientRect();if(a.clientX>=B.left&&a.clientX<=B.right){b&&(clearTimeout(b),b=null);return}}if(j){const N=j.getBoundingClientRect().right+o()*.1;a.clientX>=N&&p(!1,200)}}let v=le(!1),b=null;function p(a,i=50){b&&clearTimeout(b),a?(I(v,!0),I(y,!0)):b=setTimeout(()=>{I(v,!1),I(y,!1),b=null},i)}const _=Wt(e.sidebarCollapsed?0:o(),{duration:250,easing:ke});me(()=>{!e.sidebarCollapsed&&!e.isMobile&&_.set(o(),{duration:250,easing:ke})}),me(()=>{e.isMobile||(e.sidebarCollapsed&&!n(v)&&!s?_.set(0,{duration:250,easing:ke}):(!e.sidebarCollapsed||n(v)||s)&&_.set(o(),{duration:250,easing:ke}))});const g=ae(()=>()=>e.isMobile&&e.sidebarCollapsed?0:e.isMobile&&!e.sidebarCollapsed||!e.sidebarCollapsed?o():l());let u=le(!1);const W=ae(()=>!e.isMobile&&!n(u)&&(!e.sidebarCollapsed||e.sidebarCollapsed&&n(v)));me(()=>{if(!(typeof window>"u")&&e.sidebarCollapsed&&!e.isMobile&&n(v))return document.addEventListener("mousemove",T),()=>{document.removeEventListener("mousemove",T)}});var O=cr(),q=F(O);{var V=a=>{var i=Qt();ue("mouseenter",i,()=>{p(!0,0)}),ue("mouseleave",i,()=>{}),r(a,i)};w(q,a=>{!e.isMobile&&e.sidebarCollapsed&&a(V)})}var H=k(q,2);{var Z=a=>{var i=Kt();i.__click=()=>e.onToggleCollapse(),i.__keydown=j=>{(j.key==="Enter"||j.key===" ")&&(j.preventDefault(),e.onToggleCollapse())},r(a,i)};w(H,a=>{e.isMobile&&!e.sidebarCollapsed&&a(Z)})}var G=k(H,2);{var ee=a=>{{let i=ae(()=>e.sidebarCollapsed?n(A):!0),j=ae(()=>e.sidebarCollapsed&&n(v));pt(a,{get initialWidth(){return o()},minWidth:192,maxWidth:384,onWidthChange:L=>e.onSidebarWidthChange?.(L),get showHandle(){return n(i)},get shouldAnimateOpen(){return n(j)},onClose:()=>{I(u,!0),e.onToggleCollapse(),setTimeout(()=>{I(u,!1)},350)},children:(L,B)=>{var D=$t();D.__mousemove=P=>{if(e.sidebarCollapsed&&!e.isMobile&&n(v)){const h=P.currentTarget.getBoundingClientRect(),S=P.clientX,R=h.right-S;I(A,R<=32)}else if(!e.sidebarCollapsed){const h=P.currentTarget.getBoundingClientRect(),S=P.clientX,R=h.right-S;I(A,R<=32)}};var N=C(D);Ge(N,{workspaceName:"Axon",get sidebarCollapsed(){return e.sidebarCollapsed},get isMobile(){return e.isMobile},get isHovered(){return n(y)},onSettings:()=>{ut("/settings")},onLogout:()=>{console.log("Logout clicked")}});var Q=k(N,2);{var te=P=>{var h=Yt(),S=C(h),z=k(C(S),4);{var R=$=>{var oe=Ut(),he=C(oe,!0);x(oe),X(()=>U(he,e.inboxCount)),r($,oe)};w(z,$=>{e.inboxCount>0&&$(R)})}x(S),Me(6),x(h),Be(3,h,()=>Re,()=>({duration:200})),r(P,h)};w(Q,P=>{(!e.sidebarCollapsed||s||n(v)&&!e.isMobile)&&P(te)})}var M=k(Q,2);{var f=P=>{var h=Jt();Be(3,h,()=>Re,()=>({duration:200})),r(P,h)};w(M,P=>{(!e.sidebarCollapsed||s||n(v)&&!e.isMobile)&&!e.isMobile&&P(f)})}var E=k(M,2);w(E,P=>{}),x(D),ue("mouseenter",D,()=>{p(!0,0)}),ue("mouseleave",D,P=>{I(A,!1)}),r(L,D)},$$slots:{default:!0}})}},J=a=>{var i=dr();let j;var L=C(i);Ge(L,{workspaceName:"Axon",get sidebarCollapsed(){return e.sidebarCollapsed},get isMobile(){return e.isMobile},get isHovered(){return n(y)},onSettings:()=>{typeof window<"u"&&(window.location.href="/settings")},onLogout:()=>{console.log("Logout clicked")}});var B=k(L,2);{var D=M=>{var f=or(),E=C(f);let P;var h=k(C(E),2);{var S=K=>{var se=tr(),Ae=k(F(se),2);{var Pe=xe=>{var ie=er(),de=C(ie,!0);x(ie),X(()=>U(de,e.inboxCount)),r(xe,ie)};w(Ae,xe=>{e.inboxCount>0&&xe(Pe)})}r(K,se)},z=K=>{var se=Y(),Ae=F(se);{var Pe=ie=>{var de=Y(),Ee=F(de);{var Te=ce=>{var ve=rr(),De=C(ve,!0);x(ve),X(()=>U(De,e.inboxCount)),r(ce,ve)};w(Ee,ce=>{e.inboxCount>0&&ce(Te)})}r(ie,de)},xe=ie=>{var de=ir(),Ee=k(F(de),2);{var Te=ce=>{var ve=ar(),De=C(ve,!0);x(ve),X(()=>U(De,e.inboxCount)),r(ce,ve)};w(Ee,ce=>{e.inboxCount>0&&ce(Te)})}r(ie,de)};w(Ae,ie=>{e.isMobile&&e.sidebarCollapsed?ie(Pe):ie(xe,!1)},!0)}r(K,se)};w(h,K=>{e.isMobile?K(z,!1):K(S)})}x(E);var R=k(E,2);let $;var oe=k(C(R),2);{var he=K=>{var se=nr();r(K,se)};w(oe,K=>{(!e.isMobile||!e.sidebarCollapsed)&&K(he)})}x(R);var Se=k(R,2);{var je=K=>{var se=sr();Me(2),r(K,se)};w(Se,K=>{e.isMobile||K(je)})}x(f),X(()=>{P=Ce(E,1,"group relative flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary",null,P,{"justify-center":e.isMobile&&e.sidebarCollapsed}),ze(E,"title",e.isMobile&&e.sidebarCollapsed?"Inbox":""),$=Ce(R,1,"group flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-sidebar-hover transition-all duration-150 text-sm text-sidebar-secondary hover:text-sidebar-primary",null,$,{"justify-center":e.isMobile&&e.sidebarCollapsed}),ze(R,"title",e.isMobile&&e.sidebarCollapsed?"Flashcards":"")}),r(M,f)};w(B,M=>{(!e.sidebarCollapsed||n(v)&&!e.isMobile||e.isMobile&&!e.sidebarCollapsed)&&M(D)})}var N=k(B,2);{var Q=M=>{var f=lr();Be(3,f,()=>Re,()=>({duration:200})),r(M,f)};w(N,M=>{(!e.sidebarCollapsed||n(v)&&!e.isMobile||e.isMobile&&!e.sidebarCollapsed)&&!e.isMobile&&M(Q)})}var te=k(N,2);w(te,M=>{}),x(i),X(M=>{j=Ce(i,1,"bg-sidebar text-sidebar-primary flex flex-col border-r border-sidebar overflow-hidden h-full svelte-129hoe0",null,j,{fixed:e.sidebarCollapsed&&!e.isMobile&&n(v)||e.isMobile&&!e.sidebarCollapsed,"z-50":e.sidebarCollapsed&&!e.isMobile&&n(v)||e.isMobile&&!e.sidebarCollapsed,hidden:e.isMobile&&e.sidebarCollapsed}),Ze(i,`width: ${M??""}px; transition: width 250ms cubic-bezier(0.4, 0, 0.2, 1);`)},[()=>n(g)()]),ue("mouseenter",i,()=>{p(!0,0)}),ue("mouseleave",i,M=>{const f=M.relatedTarget;f&&(f.closest("[data-radix-portal]")||f.closest('[role="menu"]')||f.closest("[data-radix-dropdown-menu-content]")||f.closest("[data-bits-ui-dropdown-menu-content]"))}),r(a,i)};w(G,a=>{n(W)&&e.onSidebarWidthChange?a(ee):a(J,!1)})}r(t,O),ge(),d()}ye(["click","keydown","mousemove"]);var ur=m('<span class="text-base flex-shrink-0"> </span>'),fr=_e('<svg class="w-4 h-4 animate-spin text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>'),mr=_e('<svg class="w-4 h-4 text-accent-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),br=_e('<svg class="w-4 h-4 text-error flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>'),gr=m('<span class="text-tertiary font-normal"> </span>'),hr=m('<button type="button" class="w-5 h-5 flex items-center justify-center rounded hover:bg-hover-solid transition-colors text-tertiary hover:text-secondary flex-shrink-0" aria-label="Dismiss"><svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg></button>'),xr=m('<span class="text-tertiary ml-2 flex-shrink-0"> </span>'),pr=m('<div class="flex items-center justify-between text-xs mb-2"><span class="text-secondary font-medium truncate flex-1"> </span> <!></div>'),yr=m('<div class="w-full h-2 bg-base rounded-full overflow-hidden"><div class="h-full bg-primary transition-all duration-300 ease-out"></div></div>'),_r=m('<div class="w-full h-2 bg-base rounded-full overflow-hidden"><div class="h-full bg-primary animate-pulse" style="width: 60%"></div></div>'),wr=m('<p class="text-xs text-tertiary mt-2"> </p>'),kr=m('<div class="px-menu-item py-menu-item border-b border-base"><!> <!> <!></div>'),Cr=m("<span> </span>"),Mr=m("<!> ",1),Sr=m('<div class="px-menu-item py-menu-item border-b border-base flex items-center gap-2 flex-wrap"></div>'),jr=m('<div class="bg-elevated border border-base rounded-md shadow-lg min-w-[320px] max-w-[400px] overflow-hidden"><div class="px-menu-item py-menu-item border-b border-base flex items-center justify-between gap-icon"><div class="flex items-center gap-icon flex-1 min-w-0"><!> <div class="flex-1 min-w-0"><h4 class="text-sm font-medium text-primary truncate"> <!></h4></div></div> <!></div> <!> <!> <div class="px-menu-item py-menu-item flex items-center justify-end gap-2"><!></div></div>');function Ar(t,e){be(e,!0);const l=ae(()=>()=>e.activity.progress?.indeterminate?0:e.activity.progress?.percentage!==void 0?e.activity.progress.percentage:e.activity.progress?.current!==void 0&&e.activity.progress?.total!==void 0&&e.activity.progress.total>0?Math.min(100,Math.round(e.activity.progress.current/e.activity.progress.total*100)):0),c=ae(()=>()=>e.activity.progress&&(e.activity.progress.current!==void 0||e.activity.progress.indeterminate||e.activity.progress.currentStep!==void 0));function d(a){a(),e.onDismiss&&e.onDismiss()}var o=jr(),s=C(o),y=C(s),A=C(y);{var T=a=>{var i=ur(),j=C(i,!0);x(i),X(()=>U(j,e.activity.icon)),r(a,i)},v=a=>{var i=Y(),j=F(i);{var L=D=>{var N=fr();r(D,N)},B=D=>{var N=Y(),Q=F(N);{var te=f=>{var E=mr();r(f,E)},M=f=>{var E=Y(),P=F(E);{var h=S=>{var z=br();r(S,z)};w(P,S=>{e.activity.status==="error"&&S(h)},!0)}r(f,E)};w(Q,f=>{e.activity.status==="completed"?f(te):f(M,!1)},!0)}r(D,N)};w(j,D=>{e.activity.status==="running"?D(L):D(B,!1)})}r(a,i)};w(A,a=>{e.activity.icon?a(T):a(v,!1)})}var b=k(A,2),p=C(b),_=C(p),g=k(_);{var u=a=>{var i=gr(),j=C(i,!0);x(i),X(()=>U(j,e.activity.metadata.source)),r(a,i)};w(g,a=>{e.activity.metadata?.source&&a(u)})}x(p),x(b),x(y);var W=k(y,2);{var O=a=>{var i=hr();i.__click=function(...j){e.onDismiss?.apply(this,j)},r(a,i)};w(W,a=>{e.onDismiss&&a(O)})}x(s);var q=k(s,2);{var V=a=>{var i=kr(),j=C(i);{var L=M=>{var f=pr(),E=C(f),P=C(E,!0);x(E);var h=k(E,2);{var S=z=>{var R=xr(),$=C(R);x(R),X(()=>U($,`${e.activity.progress.current??""} / ${e.activity.progress.total??""}`)),r(z,R)};w(h,z=>{e.activity.progress.current!==void 0&&e.activity.progress.total!==void 0&&z(S)})}x(f),X(()=>U(P,e.activity.progress.step)),r(M,f)};w(j,M=>{e.activity.progress?.step&&M(L)})}var B=k(j,2);{var D=M=>{var f=yr(),E=C(f);x(f),X(P=>Ze(E,`width: ${P??""}%`),[()=>n(l)()]),r(M,f)},N=M=>{var f=Y(),E=F(f);{var P=h=>{var S=_r();r(h,S)};w(E,h=>{e.activity.progress?.indeterminate&&h(P)},!0)}r(M,f)};w(B,M=>{!e.activity.progress?.indeterminate&&n(l)()>0?M(D):M(N,!1)})}var Q=k(B,2);{var te=M=>{var f=wr(),E=C(f,!0);x(f),X(()=>U(E,e.activity.progress.message)),r(M,f)};w(Q,M=>{e.activity.progress?.message&&M(te)})}x(i),r(a,i)};w(q,a=>{n(c)()&&a(V)})}var H=k(q,2);{var Z=a=>{var i=Sr();Ue(i,21,()=>e.activity.quickActions,At,(j,L)=>{var B=Y(),D=F(B);re(D,()=>Oe,(N,Q)=>{Q(N,{onclick:()=>d(n(L).action),class:"px-menu-item py-menu-item text-xs text-primary hover:bg-hover-solid rounded-md transition-colors flex items-center gap-icon",children:(te,M)=>{var f=Mr(),E=F(f);{var P=S=>{var z=Cr(),R=C(z,!0);x(z),X(()=>U(R,n(L).icon)),r(S,z)};w(E,S=>{n(L).icon&&S(P)})}var h=k(E);X(()=>U(h,` ${n(L).label??""}`)),r(te,f)},$$slots:{default:!0}})}),r(j,B)}),x(i),r(a,i)};w(H,a=>{e.activity.quickActions&&e.activity.quickActions.length>0&&a(Z)})}var G=k(H,2),ee=C(G);{var J=a=>{var i=Y(),j=F(i);re(j,()=>Oe,(L,B)=>{B(L,{get onclick(){return e.onCancel},class:"px-menu-item py-menu-item text-xs text-tertiary hover:text-secondary hover:bg-hover-solid rounded-md transition-colors",children:(D,N)=>{Me();var Q=$e("Cancel");r(D,Q)},$$slots:{default:!0}})}),r(a,i)};w(ee,a=>{e.activity.status==="running"&&e.onCancel&&a(J)})}x(G),x(o),X(()=>U(_,`${e.activity.type==="sync"?"Syncing":e.activity.type==="generation"?"Generating":e.activity.type==="notification"?"Notification":e.activity.type==="export"?"Exporting":e.activity.type==="bulk"?"Processing":"Activity"} `)),r(t,o),ge()}ye(["click"]);var Pr=m('<div class="fixed bottom-4 right-4 z-50 flex flex-col gap-2 items-end"></div>');function Er(t,e){be(e,!0);const l=Pt(),c={getSyncProgress:Et("inbox:getSyncProgress")},d=ae(()=>Le.activities);async function o(){if(!l||!c)return;const p=n(d).filter(_=>_.type==="sync"&&_.status==="running");if(p.length!==0)try{const _=await l.query(c.getSyncProgress,{});for(const g of p)_&&wt(g.id,{status:"running",progress:{step:_.step,current:_.current,total:_.total,message:_.message}})}catch(_){console.error("Failed to poll sync progress:",_)}}function s(){_t(async()=>{await o()})}function y(p){p.onDismiss&&p.onDismiss(),Ie(p.id)}function A(p){p.onCancel&&p.onCancel(),Ie(p.id)}me(()=>{n(d).length>0&&!Le.pollingInterval&&s(),n(d).length===0&&Le.pollingInterval&&Ne()}),jt(()=>{Ne()}),me(()=>{n(d).length>0&&yt()});var T=Y(),v=F(T);{var b=p=>{var _=Pr();Ue(_,21,()=>n(d),g=>g.id,(g,u)=>{Ar(g,{get activity(){return n(u)},onDismiss:()=>y(n(u)),onCancel:()=>A(n(u))})}),x(_),r(p,_)};w(v,p=>{n(d).length>0&&p(b)})}r(t,T),ge()}var Tr=m('<div class="h-screen flex items-center justify-center bg-base"><p class="text-secondary">Loading...</p></div>'),Dr=m('<div class="h-screen flex overflow-hidden"><!> <div class="flex-1 overflow-hidden"><!></div> <!></div>'),Lr=m('<div class="h-screen flex items-center justify-center bg-base"><div class="text-center"><p class="text-primary mb-4">Please log in to continue</p> <a href="/login" class="text-accent-primary">Go to Login</a></div></div>');function Yr(t,e){be(e,!0);const l=Tt(),c=ae(()=>l.isAuthenticated),d=ae(()=>l.isLoading),o=ae(()=>0);let s=le(!1);I(s,window.innerWidth<768),window.addEventListener("resize",()=>{I(s,window.innerWidth<768)});let y=le(!1),A=le(286);{const g=parseInt(localStorage.getItem("sidebarWidth")||"286");I(A,Math.max(192,g),!0)}function T(g){g>0&&(I(A,g,!0),localStorage.setItem("sidebarWidth",g.toString()))}dt("sidebar",{get sidebarCollapsed(){return n(y)},get isMobile(){return n(s)},onSidebarToggle:()=>{I(y,!n(y))}}),me(()=>{!n(d)&&!n(c)&&(window.location.href="/login")});var v=Y(),b=F(v);{var p=g=>{var u=Tr();r(g,u)},_=g=>{var u=Y(),W=F(u);{var O=V=>{var H=Dr(),Z=C(H);vr(Z,{inboxCount:n(o),get isMobile(){return n(s)},get sidebarCollapsed(){return n(y)},onToggleCollapse:()=>I(y,!n(y)),get sidebarWidth(){return n(A)},onSidebarWidthChange:T});var G=k(Z,2),ee=C(G);ct(ee,()=>e.children),x(G);var J=k(G,2);Er(J,{}),x(H),r(V,H)},q=V=>{var H=Lr();r(V,H)};w(W,V=>{n(c)?V(O):V(q,!1)},!0)}r(g,u)};w(b,g=>{n(d)?g(p):g(_,!1)})}r(t,v),ge()}export{Yr as component};
