import{c as Q,a as r,f as u,p as _t,o as fo,d as it,e as mo,b as lt,t as Je}from"../chunks/ClEwQIZJ.js";import{a1 as Ve,$ as bo,T as ue,j as t,V as v,Y as x,ag as xo,p as Te,f as w,a as Ne,af as Ze,s as n,c as a,r as s,U as pt,X as De,t as oe,bf as yo,W as yt,am as _o}from"../chunks/kOT-I_MI.js";import{s as ce}from"../chunks/LC4C1fji.js";import{i as m}from"../chunks/SF-wfan-.js";import{g as qt,h as rr,n as wo,p as ko,i as Co,j as Io,F as Gr,k as Po,l as Kr,m as qr,o as Wr,G as So,P as Nt,q as xt,M as ir,D as lr,a as nt,b as zr,c as dr,t as To,u as bt,r as Bt,R as No,v as Ir}from"../chunks/dGi1Vphu.js";import{e as We,i as Qe}from"../chunks/Imjd_TE3.js";import{c as Y}from"../chunks/BLTX30nU.js";import{b as je,s as rt,a as St,c as cr,r as Pr}from"../chunks/CxucRfwL.js";import{b as ct}from"../chunks/BHj6_6we.js";import{p as S,b as At,r as gt}from"../chunks/DgY3EWrn.js";import{a as Se,s as Re}from"../chunks/DjvPQNYr.js";import{b as er}from"../chunks/03nhvbbV.js";import{C as Ft,a as ft,w as vt,j as Ur,y as Yr,A as Ht,v as Gt,u as Do,r as Ao,z as Fo,D as Oo,F as Mo,G as Ro,M as Eo,E as ur,I as Lo,J as Ho,K as Vo,L as jo,N as Bo,O as Go,P as Ko,Q as qo,R as Wo,T as zo,U as Uo,V as Yo,W as Sr,X as Qo,Y as Qr,H as Jr,Z as Xr,x as Zr,b as ht,d as Kt,f as or,i as $,c as Wt,n as ot,m as Xe,h as wt,S as $r,e as eo,_ as to}from"../chunks/hVhnLUET.js";import{o as ro,a as oo,P as so,R as ao,i as Jo,b as Xo}from"../chunks/BdPpXn7q.js";import{H as no}from"../chunks/4ZCJRGyS.js";import{u as io,m as Dt,a as lo}from"../chunks/CmDhudRb.js";import{B as ut}from"../chunks/oOxICoJY.js";import{i as Zo}from"../chunks/2OqfTREQ.js";function $o(F){Ve(()=>bo(()=>F()))}const Tr=[Do,Yr,Ao,Fo,Oo,Mo,Ro,Eo,ur,Lo,Ho,Vo,jo,Bo,Go,Ko,qo,Wo,zo,Uo,Yo],es=[Gt,Qr,Jr],ts=[Ht,Xr,Zr],rs=[...es,...ts],os=Wt({component:"select",parts:["trigger","content","item","viewport","scroll-up-button","scroll-down-button","group","group-label","separator","arrow","input","content-wrapper","item-text","value"]}),zt=new Ft("Select.Root | Combobox.Root"),ss=new Ft("Select.Content | Combobox.Content");class co{opts;#e=ue(!1);get touchedInput(){return t(this.#e)}set touchedInput(e){v(this.#e,e,!0)}#r=ue(null);get inputNode(){return t(this.#r)}set inputNode(e){v(this.#r,e,!0)}#t=ue(null);get contentNode(){return t(this.#t)}set contentNode(e){v(this.#t,e,!0)}contentPresence;#o=ue(null);get viewportNode(){return t(this.#o)}set viewportNode(e){v(this.#o,e,!0)}#s=ue(null);get triggerNode(){return t(this.#s)}set triggerNode(e){v(this.#s,e,!0)}#a=ue("");get valueId(){return t(this.#a)}set valueId(e){v(this.#a,e,!0)}#n=ue(null);get highlightedNode(){return t(this.#n)}set highlightedNode(e){v(this.#n,e,!0)}#i=x(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-value"):null);get highlightedValue(){return t(this.#i)}set highlightedValue(e){v(this.#i,e)}#l=x(()=>{if(this.highlightedNode)return this.highlightedNode.id});get highlightedId(){return t(this.#l)}set highlightedId(e){v(this.#l,e)}#d=x(()=>this.highlightedNode?this.highlightedNode.getAttribute("data-label"):null);get highlightedLabel(){return t(this.#d)}set highlightedLabel(e){v(this.#d,e)}isUsingKeyboard=!1;isCombobox=!1;domContext=new qt(()=>null);constructor(e){this.opts=e,this.isCombobox=e.isCombobox,this.contentPresence=new so({ref:$(()=>this.contentNode),open:this.opts.open,onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),xo(()=>{this.opts.open.current||this.setHighlightedNode(null)})}setHighlightedNode(e,o=!1){this.highlightedNode=e,e&&(this.isUsingKeyboard||o)&&e.scrollIntoView({block:this.opts.scrollAlignment.current})}getCandidateNodes(){const e=this.contentNode;return e?Array.from(e.querySelectorAll(`[${this.getBitsAttr("item")}]:not([data-disabled])`)):[]}setHighlightedToFirstCandidate(e=!1){this.setHighlightedNode(null);let o=this.getCandidateNodes();if(o.length){if(this.viewportNode){const l=this.viewportNode.getBoundingClientRect();o=o.filter(i=>{if(!this.viewportNode)return!1;const d=i.getBoundingClientRect();return d.right<l.right&&d.left>l.left&&d.bottom<l.bottom&&d.top>l.top})}this.setHighlightedNode(o[0],e)}}getNodeByValue(e){return this.getCandidateNodes().find(l=>l.dataset.value===e)??null}setOpen(e){this.opts.open.current=e}toggleOpen(){this.opts.open.current=!this.opts.open.current}handleOpen(){this.setOpen(!0)}handleClose(){this.setHighlightedNode(null),this.setOpen(!1)}toggleMenu(){this.toggleOpen()}getBitsAttr=e=>os.getAttr(e,this.isCombobox?"combobox":void 0)}class as extends co{opts;isMulti=!1;#e=x(()=>this.opts.value.current!=="");get hasValue(){return t(this.#e)}set hasValue(e){v(this.#e,e)}#r=x(()=>this.opts.items.current.length?this.opts.items.current.find(e=>e.value===this.opts.value.current)?.label??"":"");get currentLabel(){return t(this.#r)}set currentLabel(e){v(this.#r,e)}#t=x(()=>this.opts.items.current.length?this.opts.items.current.filter(o=>!o.disabled).map(o=>o.label):[]);get candidateLabels(){return t(this.#t)}set candidateLabels(e){v(this.#t,e)}#o=x(()=>!(this.isMulti||this.opts.items.current.length===0));get dataTypeaheadEnabled(){return t(this.#o)}set dataTypeaheadEnabled(e){v(this.#o,e)}constructor(e){super(e),this.opts=e,Ve(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),vt(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}includesItem(e){return this.opts.value.current===e}toggleItem(e,o=e){const l=this.includesItem(e)?"":e;this.opts.value.current=l,l!==""&&(this.opts.inputValue.current=o)}setInitialHighlightedNode(){oo(()=>{if(!(this.highlightedNode&&this.domContext.getDocument().contains(this.highlightedNode))){if(this.opts.value.current!==""){const e=this.getNodeByValue(this.opts.value.current);if(e){this.setHighlightedNode(e,!0);return}}this.setHighlightedToFirstCandidate(!0)}})}}class ns extends co{opts;isMulti=!0;#e=x(()=>this.opts.value.current.length>0);get hasValue(){return t(this.#e)}set hasValue(e){v(this.#e,e)}constructor(e){super(e),this.opts=e,Ve(()=>{!this.opts.open.current&&this.highlightedNode&&this.setHighlightedNode(null)}),vt(()=>this.opts.open.current,()=>{this.opts.open.current&&this.setInitialHighlightedNode()})}includesItem(e){return this.opts.value.current.includes(e)}toggleItem(e,o=e){this.includesItem(e)?this.opts.value.current=this.opts.value.current.filter(l=>l!==e):this.opts.value.current=[...this.opts.value.current,e],this.opts.inputValue.current=o}setInitialHighlightedNode(){oo(()=>{if(this.domContext&&!(this.highlightedNode&&this.domContext.getDocument().contains(this.highlightedNode))){if(this.opts.value.current.length&&this.opts.value.current[0]!==""){const e=this.getNodeByValue(this.opts.value.current[0]);if(e){this.setHighlightedNode(e,!0);return}}this.setHighlightedToFirstCandidate(!0)}})}}class is{static create(e){const{type:o,...l}=e,i=o==="single"?new as(l):new ns(l);return zt.set(i)}}class vr{static create(e){return new vr(e,zt.get())}opts;root;attachment;constructor(e,o){this.opts=e,this.root=o,this.attachment=ft(e.ref,l=>this.root.inputNode=l),this.root.domContext=new qt(e.ref),this.onkeydown=this.onkeydown.bind(this),this.oninput=this.oninput.bind(this),vt([()=>this.root.opts.value.current,()=>this.opts.clearOnDeselect.current],([l,i],[d])=>{i&&(Array.isArray(l)&&Array.isArray(d)?l.length===0&&d.length!==0&&(this.root.opts.inputValue.current=""):l===""&&d!==""&&(this.root.opts.inputValue.current=""))})}onkeydown(e){if(this.root.isUsingKeyboard=!0,e.key!==Yr){if((e.key===Ht||e.key===Gt)&&e.preventDefault(),!this.root.opts.open.current){if(Tr.includes(e.key)||e.key===Sr||e.key===Qo&&this.root.opts.inputValue.current===""||(this.root.handleOpen(),this.root.hasValue))return;const o=this.root.getCandidateNodes();if(!o.length)return;if(e.key===Gt){const l=o[0];this.root.setHighlightedNode(l)}else if(e.key===Ht){const l=o[o.length-1];this.root.setHighlightedNode(l)}return}if(e.key===Sr){this.root.handleClose();return}if(e.key===ur&&!e.isComposing){e.preventDefault();const o=this.root.highlightedValue===this.root.opts.value.current;if(!this.root.opts.allowDeselect.current&&o&&!this.root.isMulti){this.root.handleClose();return}this.root.highlightedValue&&this.root.highlightedNode&&this.root.highlightedNode.isConnected&&this.root.toggleItem(this.root.highlightedValue,this.root.highlightedLabel??void 0),!this.root.isMulti&&!o&&this.root.handleClose()}if(e.key===Ht&&e.altKey&&this.root.handleClose(),rs.includes(e.key)){e.preventDefault();const o=this.root.getCandidateNodes(),l=this.root.highlightedNode,i=l?o.indexOf(l):-1,d=this.root.opts.loop.current;let c;if(e.key===Gt?c=wo(o,i,d):e.key===Ht?c=ko(o,i,d):e.key===Xr?c=Co(o,i,10,d):e.key===Qr?c=Io(o,i,10,d):e.key===Jr?c=o[0]:e.key===Zr&&(c=o[o.length-1]),!c)return;this.root.setHighlightedNode(c);return}Tr.includes(e.key)||this.root.highlightedNode||this.root.setHighlightedToFirstCandidate()}}oninput(e){this.root.opts.inputValue.current=e.currentTarget.value,this.root.setHighlightedToFirstCandidate()}#e=x(()=>({id:this.opts.id.current,role:"combobox",disabled:this.root.opts.disabled.current?!0:void 0,"aria-activedescendant":this.root.highlightedId,"aria-autocomplete":"list","aria-expanded":Kt(this.root.opts.open.current),"data-state":Ur(this.root.opts.open.current),"data-disabled":ht(this.root.opts.disabled.current),onkeydown:this.onkeydown,oninput:this.oninput,[this.root.getBitsAttr("input")]:"",...this.attachment}));get props(){return t(this.#e)}set props(e){v(this.#e,e)}}class hr{static create(e){return ss.set(new hr(e,zt.get()))}opts;root;attachment;#e=ue(!1);get isPositioned(){return t(this.#e)}set isPositioned(e){v(this.#e,e,!0)}domContext;constructor(e,o){this.opts=e,this.root=o,this.attachment=ft(e.ref,l=>this.root.contentNode=l),this.domContext=new qt(this.opts.ref),this.root.domContext===null&&(this.root.domContext=this.domContext),ro(()=>{this.root.contentNode=null,this.isPositioned=!1}),vt(()=>this.root.opts.open.current,()=>{this.root.opts.open.current||(this.isPositioned=!1)}),this.onpointermove=this.onpointermove.bind(this)}onpointermove(e){this.root.isUsingKeyboard=!1}#r=x(()=>rr(this.root.isCombobox?"combobox":"select"));onInteractOutside=e=>{if(e.target===this.root.triggerNode||e.target===this.root.inputNode){e.preventDefault();return}this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()};onEscapeKeydown=e=>{this.opts.onEscapeKeydown.current(e),!e.defaultPrevented&&this.root.handleClose()};onOpenAutoFocus=e=>{e.preventDefault()};onCloseAutoFocus=e=>{e.preventDefault()};get shouldRender(){return this.root.contentPresence.shouldRender}#t=x(()=>({open:this.root.opts.open.current}));get snippetProps(){return t(this.#t)}set snippetProps(e){v(this.#t,e)}#o=x(()=>({id:this.opts.id.current,role:"listbox","aria-multiselectable":this.root.isMulti?"true":void 0,"data-state":Ur(this.root.opts.open.current),[this.root.getBitsAttr("content")]:"",style:{display:"flex",flexDirection:"column",outline:"none",boxSizing:"border-box",pointerEvents:"auto",...t(this.#r)},onpointermove:this.onpointermove,...this.attachment}));get props(){return t(this.#o)}set props(e){v(this.#o,e)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus,trapFocus:!1,loop:!1,onPlaced:()=>{this.root.opts.open.current&&(this.isPositioned=!0)}}}class pr{static create(e){return new pr(e,zt.get())}opts;root;#e=x(()=>this.root.opts.name.current!=="");get shouldRender(){return t(this.#e)}set shouldRender(e){v(this.#e,e)}constructor(e,o){this.opts=e,this.root=o,this.onfocus=this.onfocus.bind(this)}onfocus(e){e.preventDefault(),this.root.isCombobox?this.root.inputNode?.focus():this.root.triggerNode?.focus()}#r=x(()=>({disabled:or(this.root.opts.disabled.current),required:or(this.root.opts.required.current),name:this.root.opts.name.current,value:this.opts.value.current,onfocus:this.onfocus}));get props(){return t(this.#r)}set props(e){v(this.#r,e)}}function Nr(F,e){Te(e,!0);let o=S(e,"value",15);const l=pr.create({value:$(()=>o())});var i=Q(),d=w(i);{var c=k=>{no(k,At(()=>l.props,{get autocomplete(){return e.autocomplete},get value(){return o()},set value(g){o(g)}}))};m(d,k=>{l.shouldRender&&k(c)})}r(F,i),Ne()}var ls=u("<!> <!>",1);function ds(F,e){Te(e,!0);let o=S(e,"value",15),l=S(e,"onValueChange",3,ot),i=S(e,"name",3,""),d=S(e,"disabled",3,!1),c=S(e,"open",15,!1),k=S(e,"onOpenChange",3,ot),g=S(e,"onOpenChangeComplete",3,ot),C=S(e,"loop",3,!1),B=S(e,"scrollAlignment",3,"nearest"),I=S(e,"required",3,!1),P=S(e,"items",19,()=>[]),L=S(e,"allowDeselect",3,!0),G=S(e,"inputValue",7,"");if(o()===void 0){const V=e.type==="single"?"":[];o(V)}vt.pre(()=>o(),()=>{o()===void 0&&o(e.type==="single"?"":[])});const H=is.create({type:e.type,value:$(()=>o(),V=>{o(V),l()(V)}),disabled:$(()=>d()),required:$(()=>I()),open:$(()=>c(),V=>{c(V),k()(V)}),loop:$(()=>C()),scrollAlignment:$(()=>B()),name:$(()=>i()),isCombobox:!0,items:$(()=>P()),allowDeselect:$(()=>L()),inputValue:$(()=>G(),V=>G(V)),onOpenChangeComplete:$(()=>g())});var z=ls(),O=w(z);Gr(O,{children:(V,pe)=>{var te=Q(),ee=w(te);Se(ee,()=>e.children??Ze),r(V,te)},$$slots:{default:!0}});var X=n(O,2);{var Z=V=>{var pe=Q(),te=w(pe);{var ee=ae=>{var fe=Q(),M=w(fe);We(M,16,()=>H.opts.value.current,R=>R,(R,U)=>{Nr(R,{get value(){return U}})}),r(ae,fe)};m(te,ae=>{H.opts.value.current.length&&ae(ee)})}r(V,pe)},se=V=>{Nr(V,{get value(){return H.opts.value.current},set value(pe){H.opts.value.current=pe}})};m(X,V=>{Array.isArray(H.opts.value.current)?V(Z):V(se,!1)})}r(F,z),Ne()}var cs=u("<input/>");function us(F,e){Te(e,!0);let o=S(e,"id",19,Po),l=S(e,"ref",15,null),i=S(e,"clearOnDeselect",3,!1),d=gt(e,["$$slots","$$events","$$legacy","id","ref","child","defaultValue","clearOnDeselect"]);const c=vr.create({id:$(()=>o()),ref:$(()=>l(),B=>l(B)),clearOnDeselect:$(()=>i())});e.defaultValue&&(c.root.opts.inputValue.current=e.defaultValue);const k=x(()=>Xe(d,c.props,{value:c.root.opts.inputValue.current}));var g=Q(),C=w(g);Y(C,()=>Kr,(B,I)=>{I(B,{get id(){return o()},get ref(){return c.opts.ref},children:(P,L)=>{var G=Q(),H=w(G);{var z=X=>{var Z=Q(),se=w(Z);Se(se,()=>e.child,()=>({props:t(k)})),r(X,Z)},O=X=>{var Z=cs();je(Z,()=>({...t(k)}),void 0,void 0,void 0,void 0,!0),r(X,Z)};m(H,X=>{e.child?X(z):X(O,!1)})}r(P,G)},$$slots:{default:!0}})}),r(F,g),Ne()}var vs=u("<div><div><!></div></div>"),hs=u("<div><div><!></div></div>");function ps(F,e){const o=_t();Te(e,!0);let l=S(e,"id",19,()=>wt(o)),i=S(e,"ref",15,null),d=S(e,"forceMount",3,!1),c=S(e,"side",3,"bottom"),k=S(e,"onInteractOutside",3,ot),g=S(e,"onEscapeKeydown",3,ot),C=S(e,"preventScroll",3,!1),B=gt(e,["$$slots","$$events","$$legacy","id","ref","forceMount","side","onInteractOutside","onEscapeKeydown","children","child","preventScroll"]);const I=hr.create({id:$(()=>l()),ref:$(()=>i(),O=>i(O)),onInteractOutside:$(()=>k()),onEscapeKeydown:$(()=>g())}),P=x(()=>Xe(B,I.props));var L=Q(),G=w(L);{var H=O=>{qr(O,At(()=>t(P),()=>I.popperProps,{get ref(){return I.opts.ref},get side(){return c()},get enabled(){return I.root.opts.open.current},get id(){return l()},get preventScroll(){return C()},forceMount:!0,get shouldRender(){return I.shouldRender},popper:(Z,se)=>{let V=()=>se?.().props,pe=()=>se?.().wrapperProps;const te=x(()=>Xe(V(),{style:I.props.style}));var ee=Q(),ae=w(ee);{var fe=R=>{var U=Q(),ie=w(U);{let ve=x(()=>({props:t(te),wrapperProps:pe(),...I.snippetProps}));Se(ie,()=>e.child,()=>t(ve))}r(R,U)},M=R=>{var U=vs();je(U,()=>({...pe()}));var ie=a(U);je(ie,()=>({...t(te)}));var ve=a(ie);Se(ve,()=>e.children??Ze),s(ie),s(U),r(R,U)};m(ae,R=>{e.child?R(fe):R(M,!1)})}r(Z,ee)},$$slots:{popper:!0}}))},z=O=>{var X=Q(),Z=w(X);{var se=V=>{Wr(V,At(()=>t(P),()=>I.popperProps,{get ref(){return I.opts.ref},get side(){return c()},get open(){return I.root.opts.open.current},get id(){return l()},get preventScroll(){return C()},forceMount:!1,get shouldRender(){return I.shouldRender},popper:(te,ee)=>{let ae=()=>ee?.().props,fe=()=>ee?.().wrapperProps;const M=x(()=>Xe(ae(),{style:I.props.style}));var R=Q(),U=w(R);{var ie=J=>{var h=Q(),D=w(h);{let f=x(()=>({props:t(M),wrapperProps:fe(),...I.snippetProps}));Se(D,()=>e.child,()=>t(f))}r(J,h)},ve=J=>{var h=hs();je(h,()=>({...fe()}));var D=a(h);je(D,()=>({...t(M)}));var f=a(D);Se(f,()=>e.children??Ze),s(D),s(h),r(J,h)};m(U,J=>{e.child?J(ie):J(ve,!1)})}r(te,R)},$$slots:{popper:!0}}))};m(Z,V=>{d()||V(se)},!0)}r(O,X)};m(G,O=>{d()?O(H):O(z,!1)})}r(F,L),Ne()}const sr=Wt({component:"radio-group",parts:["root","item"]}),gr=new Ft("RadioGroup.Root");class fr{static create(e){return gr.set(new fr(e))}opts;#e=x(()=>this.opts.value.current!=="");get hasValue(){return t(this.#e)}set hasValue(e){v(this.#e,e)}rovingFocusGroup;attachment;constructor(e){this.opts=e,this.attachment=ft(this.opts.ref),this.rovingFocusGroup=new ao({rootNode:this.opts.ref,candidateAttr:sr.item,loop:this.opts.loop,orientation:this.opts.orientation})}isChecked(e){return this.opts.value.current===e}setValue(e){this.opts.value.current=e}#r=x(()=>({id:this.opts.id.current,role:"radiogroup","aria-required":Kt(this.opts.required.current),"aria-disabled":Kt(this.opts.disabled.current),"aria-readonly":this.opts.readonly.current?"true":void 0,"data-disabled":ht(this.opts.disabled.current),"data-readonly":ht(this.opts.readonly.current),"data-orientation":this.opts.orientation.current,[sr.root]:"",...this.attachment}));get props(){return t(this.#r)}set props(e){v(this.#r,e)}}class mr{static create(e){return new mr(e,gr.get())}opts;root;attachment;#e=x(()=>this.root.opts.value.current===this.opts.value.current);get checked(){return t(this.#e)}set checked(e){v(this.#e,e)}#r=x(()=>this.opts.disabled.current||this.root.opts.disabled.current);#t=x(()=>this.root.opts.readonly.current);#o=x(()=>this.root.isChecked(this.opts.value.current));#s=ue(-1);constructor(e,o){this.opts=e,this.root=o,this.attachment=ft(this.opts.ref),this.opts.value.current===this.root.opts.value.current?(this.root.rovingFocusGroup.setCurrentTabStopId(this.opts.id.current),v(this.#s,0)):this.root.opts.value.current||v(this.#s,0),Ve(()=>{v(this.#s,this.root.rovingFocusGroup.getTabIndex(this.opts.ref.current),!0)}),vt([()=>this.opts.value.current,()=>this.root.opts.value.current],()=>{this.opts.value.current===this.root.opts.value.current&&(this.root.rovingFocusGroup.setCurrentTabStopId(this.opts.id.current),v(this.#s,0))}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this),this.onfocus=this.onfocus.bind(this)}onclick(e){this.opts.disabled.current||t(this.#t)||this.root.setValue(this.opts.value.current)}onfocus(e){!this.root.hasValue||t(this.#t)||this.root.setValue(this.opts.value.current)}onkeydown(e){if(!t(this.#r)){if(e.key===$r){e.preventDefault(),t(this.#t)||this.root.setValue(this.opts.value.current);return}this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e,!0)}}#a=x(()=>({checked:t(this.#o)}));get snippetProps(){return t(this.#a)}set snippetProps(e){v(this.#a,e)}#n=x(()=>({id:this.opts.id.current,disabled:t(this.#r)?!0:void 0,"data-value":this.opts.value.current,"data-orientation":this.root.opts.orientation.current,"data-disabled":ht(t(this.#r)),"data-readonly":ht(t(this.#t)),"data-state":t(this.#o)?"checked":"unchecked","aria-checked":eo(t(this.#o)),[sr.item]:"",type:"button",role:"radio",tabindex:t(this.#s),onkeydown:this.onkeydown,onfocus:this.onfocus,onclick:this.onclick,...this.attachment}));get props(){return t(this.#n)}set props(e){v(this.#n,e)}}class br{static create(){return new br(gr.get())}root;#e=x(()=>this.root.opts.name.current!==void 0);get shouldRender(){return t(this.#e)}set shouldRender(e){v(this.#e,e)}constructor(e){this.root=e,this.onfocus=this.onfocus.bind(this)}onfocus(e){this.root.rovingFocusGroup.focusCurrentTabStop()}#r=x(()=>({name:this.root.opts.name.current,value:this.root.opts.value.current,required:this.root.opts.required.current,disabled:this.root.opts.disabled.current,onfocus:this.onfocus}));get props(){return t(this.#r)}set props(e){v(this.#r,e)}}function gs(F,e){Te(e,!1);const o=br.create();Zo();var l=Q(),i=w(l);{var d=c=>{no(c,At(()=>o.props))};m(i,c=>{o.shouldRender&&c(d)})}r(F,l),Ne()}var fs=u("<div><!></div>"),ms=u("<!> <!>",1);function Dr(F,e){const o=_t();Te(e,!0);let l=S(e,"disabled",3,!1),i=S(e,"value",15,""),d=S(e,"ref",15,null),c=S(e,"orientation",3,"vertical"),k=S(e,"loop",3,!0),g=S(e,"name",3,void 0),C=S(e,"required",3,!1),B=S(e,"readonly",3,!1),I=S(e,"id",19,()=>wt(o)),P=S(e,"onValueChange",3,ot),L=gt(e,["$$slots","$$events","$$legacy","disabled","children","child","value","ref","orientation","loop","name","required","readonly","id","onValueChange"]);const G=fr.create({orientation:$(()=>c()),disabled:$(()=>l()),loop:$(()=>k()),name:$(()=>g()),required:$(()=>C()),readonly:$(()=>B()),id:$(()=>I()),value:$(()=>i(),V=>{V!==i()&&(i(V),P()?.(V))}),ref:$(()=>d(),V=>d(V))}),H=x(()=>Xe(L,G.props));var z=ms(),O=w(z);{var X=V=>{var pe=Q(),te=w(pe);Se(te,()=>e.child,()=>({props:t(H)})),r(V,pe)},Z=V=>{var pe=fs();je(pe,()=>({...t(H)}));var te=a(pe);Se(te,()=>e.children??Ze),s(pe),r(V,pe)};m(O,V=>{e.child?V(X):V(Z,!1)})}var se=n(O,2);gs(se,{}),r(F,z),Ne()}var bs=u("<button><!></button>");function qe(F,e){const o=_t();Te(e,!0);let l=S(e,"id",19,()=>wt(o)),i=S(e,"disabled",3,!1),d=S(e,"ref",15,null),c=gt(e,["$$slots","$$events","$$legacy","id","children","child","value","disabled","ref"]);const k=mr.create({value:$(()=>e.value),disabled:$(()=>i()??!1),id:$(()=>l()),ref:$(()=>d(),L=>d(L))}),g=x(()=>Xe(c,k.props));var C=Q(),B=w(C);{var I=L=>{var G=Q(),H=w(G);{let z=x(()=>({props:t(g),...k.snippetProps}));Se(H,()=>e.child,()=>t(z))}r(L,G)},P=L=>{var G=bs();je(G,()=>({...t(g)}));var H=a(G);Se(H,()=>e.children??Ze,()=>k.snippetProps),s(G),r(L,G)};m(B,L=>{e.child?L(I):L(P,!1)})}r(F,C),Ne()}const ar=Wt({component:"toggle-group",parts:["root","item"]}),uo=new Ft("ToggleGroup.Root");class vo{opts;rovingFocusGroup;attachment;constructor(e){this.opts=e,this.attachment=ft(this.opts.ref),this.rovingFocusGroup=new ao({candidateAttr:ar.item,rootNode:e.ref,loop:e.loop,orientation:e.orientation})}#e=x(()=>({id:this.opts.id.current,[ar.root]:"",role:"group","data-orientation":this.opts.orientation.current,"data-disabled":ht(this.opts.disabled.current),...this.attachment}));get props(){return t(this.#e)}set props(e){v(this.#e,e)}}class xs extends vo{opts;isMulti=!1;#e=x(()=>this.opts.value.current!=="");get anyPressed(){return t(this.#e)}set anyPressed(e){v(this.#e,e)}constructor(e){super(e),this.opts=e}includesItem(e){return this.opts.value.current===e}toggleItem(e,o){this.includesItem(e)?this.opts.value.current="":(this.opts.value.current=e,this.rovingFocusGroup.setCurrentTabStopId(o))}}class ys extends vo{opts;isMulti=!0;#e=x(()=>this.opts.value.current.length>0);get anyPressed(){return t(this.#e)}set anyPressed(e){v(this.#e,e)}constructor(e){super(e),this.opts=e}includesItem(e){return this.opts.value.current.includes(e)}toggleItem(e,o){this.includesItem(e)?this.opts.value.current=this.opts.value.current.filter(l=>l!==e):(this.opts.value.current=[...this.opts.value.current,e],this.rovingFocusGroup.setCurrentTabStopId(o))}}class _s{static create(e){const{type:o,...l}=e,i=o==="single"?new xs(l):new ys(l);return uo.set(i)}}class xr{static create(e){return new xr(e,uo.get())}opts;root;attachment;#e=x(()=>this.opts.disabled.current||this.root.opts.disabled.current);#r=x(()=>this.root.includesItem(this.opts.value.current));get isPressed(){return t(this.#r)}set isPressed(e){v(this.#r,e)}#t=x(()=>this.root.isMulti?void 0:eo(this.isPressed));#o=x(()=>this.root.isMulti?Kt(this.isPressed):void 0);constructor(e,o){this.opts=e,this.root=o,this.attachment=ft(this.opts.ref),Ve(()=>{this.root.opts.rovingFocus.current?v(this.#a,this.root.rovingFocusGroup.getTabIndex(this.opts.ref.current),!0):v(this.#a,0)}),this.onclick=this.onclick.bind(this),this.onkeydown=this.onkeydown.bind(this)}#s(){t(this.#e)||this.root.toggleItem(this.opts.value.current,this.opts.id.current)}onclick(e){t(this.#e)||this.root.toggleItem(this.opts.value.current,this.opts.id.current)}onkeydown(e){if(!t(this.#e)){if(e.key===ur||e.key===$r){e.preventDefault(),this.#s();return}this.root.opts.rovingFocus.current&&this.root.rovingFocusGroup.handleKeydown(this.opts.ref.current,e)}}#a=ue(0);#n=x(()=>({pressed:this.isPressed}));get snippetProps(){return t(this.#n)}set snippetProps(e){v(this.#n,e)}#i=x(()=>({id:this.opts.id.current,role:this.root.isMulti?void 0:"radio",tabindex:t(this.#a),"data-orientation":this.root.opts.orientation.current,"data-disabled":ht(t(this.#e)),"data-state":ws(this.isPressed),"data-value":this.opts.value.current,"aria-pressed":t(this.#o),"aria-checked":t(this.#t),disabled:or(t(this.#e)),[ar.item]:"",onclick:this.onclick,onkeydown:this.onkeydown,...this.attachment}));get props(){return t(this.#i)}set props(e){v(this.#i,e)}}function ws(F){return F?"on":"off"}var ks=u("<div><!></div>");function Cs(F,e){const o=_t();Te(e,!0);let l=S(e,"id",19,()=>wt(o)),i=S(e,"ref",15,null),d=S(e,"value",15),c=S(e,"onValueChange",3,ot),k=S(e,"disabled",3,!1),g=S(e,"loop",3,!0),C=S(e,"orientation",3,"horizontal"),B=S(e,"rovingFocus",3,!0),I=gt(e,["$$slots","$$events","$$legacy","id","ref","value","onValueChange","type","disabled","loop","orientation","rovingFocus","child","children"]);function P(){d()===void 0&&d(e.type==="single"?"":[])}P(),vt.pre(()=>d(),()=>{P()});const L=_s.create({id:$(()=>l()),value:$(()=>d(),Z=>{d(Z),c()(Z)}),disabled:$(()=>k()),loop:$(()=>g()),orientation:$(()=>C()),rovingFocus:$(()=>B()),type:e.type,ref:$(()=>i(),Z=>i(Z))}),G=x(()=>Xe(I,L.props));var H=Q(),z=w(H);{var O=Z=>{var se=Q(),V=w(se);Se(V,()=>e.child,()=>({props:t(G)})),r(Z,se)},X=Z=>{var se=ks();je(se,()=>({...t(G)}));var V=a(se);Se(V,()=>e.children??Ze),s(se),r(Z,se)};m(z,Z=>{e.child?Z(O):Z(X,!1)})}r(F,H),Ne()}var Is=u("<button><!></button>");function tr(F,e){const o=_t();Te(e,!0);let l=S(e,"ref",15,null),i=S(e,"disabled",3,!1),d=S(e,"id",19,()=>wt(o)),c=S(e,"type",3,"button"),k=gt(e,["$$slots","$$events","$$legacy","children","child","ref","value","disabled","id","type"]);const g=xr.create({id:$(()=>d()),value:$(()=>e.value),disabled:$(()=>i()??!1),ref:$(()=>l(),G=>l(G))}),C=x(()=>Xe(k,g.props,{type:c()}));var B=Q(),I=w(B);{var P=G=>{var H=Q(),z=w(H);{let O=x(()=>({props:t(C),...g.snippetProps}));Se(z,()=>e.child,()=>t(O))}r(G,H)},L=G=>{var H=Is();je(H,()=>({...t(C)}));var z=a(H);Se(z,()=>e.children??Ze,()=>g.snippetProps),s(H),r(G,H)};m(I,G=>{e.child?G(P):G(L,!1)})}r(F,B),Ne()}class nr{#e;#r;#t=null;constructor(e,o){this.#r=e,this.#e=o,this.stop=this.stop.bind(this),this.start=this.start.bind(this),ro(this.stop)}#o(){this.#t!==null&&(window.clearTimeout(this.#t),this.#t=null)}stop(){this.#o()}start(...e){this.#o(),this.#t=window.setTimeout(()=>{this.#t=null,this.#r(...e)},this.#e)}}const ho=Wt({component:"tooltip",parts:["content","trigger"]}),po=new Ft("Tooltip.Provider"),yr=new Ft("Tooltip.Root");class _r{static create(e){return po.set(new _r(e))}opts;#e=ue(!0);get isOpenDelayed(){return t(this.#e)}set isOpenDelayed(e){v(this.#e,e,!0)}isPointerInTransit=to(!1);#r;#t=ue(null);constructor(e){this.opts=e,this.#r=new nr(()=>{this.isOpenDelayed=!0},this.opts.skipDelayDuration.current)}#o=()=>{this.opts.skipDelayDuration.current!==0&&this.#r.start()};#s=()=>{this.#r.stop()};onOpen=e=>{t(this.#t)&&t(this.#t)!==e&&t(this.#t).handleClose(),this.#s(),this.isOpenDelayed=!1,v(this.#t,e,!0)};onClose=e=>{t(this.#t)===e&&v(this.#t,null),this.#o()};isTooltipOpen=e=>t(this.#t)===e}class wr{static create(e){return yr.set(new wr(e,po.get()))}opts;provider;#e=x(()=>this.opts.delayDuration.current??this.provider.opts.delayDuration.current);get delayDuration(){return t(this.#e)}set delayDuration(e){v(this.#e,e)}#r=x(()=>this.opts.disableHoverableContent.current??this.provider.opts.disableHoverableContent.current);get disableHoverableContent(){return t(this.#r)}set disableHoverableContent(e){v(this.#r,e)}#t=x(()=>this.opts.disableCloseOnTriggerClick.current??this.provider.opts.disableCloseOnTriggerClick.current);get disableCloseOnTriggerClick(){return t(this.#t)}set disableCloseOnTriggerClick(e){v(this.#t,e)}#o=x(()=>this.opts.disabled.current??this.provider.opts.disabled.current);get disabled(){return t(this.#o)}set disabled(e){v(this.#o,e)}#s=x(()=>this.opts.ignoreNonKeyboardFocus.current??this.provider.opts.ignoreNonKeyboardFocus.current);get ignoreNonKeyboardFocus(){return t(this.#s)}set ignoreNonKeyboardFocus(e){v(this.#s,e)}#a=ue(null);get contentNode(){return t(this.#a)}set contentNode(e){v(this.#a,e,!0)}contentPresence;#n=ue(null);get triggerNode(){return t(this.#n)}set triggerNode(e){v(this.#n,e,!0)}#i=ue(!1);#l;#d=x(()=>this.opts.open.current?t(this.#i)?"delayed-open":"instant-open":"closed");get stateAttr(){return t(this.#d)}set stateAttr(e){v(this.#d,e)}constructor(e,o){this.opts=e,this.provider=o,this.#l=new nr(()=>{v(this.#i,!0),this.opts.open.current=!0},this.delayDuration??0),this.contentPresence=new so({open:this.opts.open,ref:$(()=>this.contentNode),onComplete:()=>{this.opts.onOpenChangeComplete.current(this.opts.open.current)}}),vt(()=>this.delayDuration,()=>{this.delayDuration!==void 0&&(this.#l=new nr(()=>{v(this.#i,!0),this.opts.open.current=!0},this.delayDuration))}),vt(()=>this.opts.open.current,l=>{l?this.provider.onOpen(this):this.provider.onClose(this)},{lazy:!0})}handleOpen=()=>{this.#l.stop(),v(this.#i,!1),this.opts.open.current=!0};handleClose=()=>{this.#l.stop(),this.opts.open.current=!1};#c=()=>{this.#l.stop();const e=!this.provider.isOpenDelayed,o=this.delayDuration??0;e||o===0?(v(this.#i,o>0&&e,!0),this.opts.open.current=!0):this.#l.start()};onTriggerEnter=()=>{this.#c()};onTriggerLeave=()=>{this.disableHoverableContent?this.handleClose():this.#l.stop()}}class kr{static create(e){return new kr(e,yr.get())}opts;root;attachment;#e=to(!1);#r=ue(!1);#t=x(()=>this.opts.disabled.current||this.root.disabled);domContext;constructor(e,o){this.opts=e,this.root=o,this.domContext=new qt(e.ref),this.attachment=ft(this.opts.ref,l=>this.root.triggerNode=l)}handlePointerUp=()=>{this.#e.current=!1};#o=()=>{t(this.#t)||(this.#e.current=!1)};#s=()=>{t(this.#t)||(this.#e.current=!0,this.domContext.getDocument().addEventListener("pointerup",()=>{this.handlePointerUp()},{once:!0}))};#a=e=>{t(this.#t)||e.pointerType!=="touch"&&(t(this.#r)||this.root.provider.isPointerInTransit.current||(this.root.onTriggerEnter(),v(this.#r,!0)))};#n=()=>{t(this.#t)||(this.root.onTriggerLeave(),v(this.#r,!1))};#i=e=>{this.#e.current||t(this.#t)||this.root.ignoreNonKeyboardFocus&&!Jo(e.currentTarget)||this.root.handleOpen()};#l=()=>{t(this.#t)||this.root.handleClose()};#d=()=>{this.root.disableCloseOnTriggerClick||t(this.#t)||this.root.handleClose()};#c=x(()=>({id:this.opts.id.current,"aria-describedby":this.root.opts.open.current?this.root.contentNode?.id:void 0,"data-state":this.root.stateAttr,"data-disabled":ht(t(this.#t)),"data-delay-duration":`${this.root.delayDuration}`,[ho.trigger]:"",tabindex:t(this.#t)?void 0:0,disabled:this.opts.disabled.current,onpointerup:this.#o,onpointerdown:this.#s,onpointermove:this.#a,onpointerleave:this.#n,onfocus:this.#i,onblur:this.#l,onclick:this.#d,...this.attachment}));get props(){return t(this.#c)}set props(e){v(this.#c,e)}}class Cr{static create(e){return new Cr(e,yr.get())}opts;root;attachment;constructor(e,o){this.opts=e,this.root=o,this.attachment=ft(this.opts.ref,l=>this.root.contentNode=l),new So({triggerNode:()=>this.root.triggerNode,contentNode:()=>this.root.contentNode,enabled:()=>this.root.opts.open.current&&!this.root.disableHoverableContent,onPointerExit:()=>{this.root.provider.isTooltipOpen(this.root)&&this.root.handleClose()},setIsPointerInTransit:l=>{this.root.provider.isPointerInTransit.current=l},transitTimeout:this.root.provider.opts.skipDelayDuration.current}),$o(()=>fo(window,"scroll",l=>{const i=l.target;i&&i.contains(this.root.triggerNode)&&this.root.handleClose()}))}onInteractOutside=e=>{if(Xo(e.target)&&this.root.triggerNode?.contains(e.target)&&this.root.disableCloseOnTriggerClick){e.preventDefault();return}this.opts.onInteractOutside.current(e),!e.defaultPrevented&&this.root.handleClose()};onEscapeKeydown=e=>{this.opts.onEscapeKeydown.current?.(e),!e.defaultPrevented&&this.root.handleClose()};onOpenAutoFocus=e=>{e.preventDefault()};onCloseAutoFocus=e=>{e.preventDefault()};get shouldRender(){return this.root.contentPresence.shouldRender}#e=x(()=>({open:this.root.opts.open.current}));get snippetProps(){return t(this.#e)}set snippetProps(e){v(this.#e,e)}#r=x(()=>({id:this.opts.id.current,"data-state":this.root.stateAttr,"data-disabled":ht(this.root.disabled),style:{pointerEvents:"auto",outline:"none"},[ho.content]:"",...this.attachment}));get props(){return t(this.#r)}set props(e){v(this.#r,e)}popperProps={onInteractOutside:this.onInteractOutside,onEscapeKeydown:this.onEscapeKeydown,onOpenAutoFocus:this.onOpenAutoFocus,onCloseAutoFocus:this.onCloseAutoFocus}}function Ar(F,e){Te(e,!0);let o=S(e,"open",15,!1),l=S(e,"onOpenChange",3,ot),i=S(e,"onOpenChangeComplete",3,ot);wr.create({open:$(()=>o(),d=>{o(d),l()(d)}),delayDuration:$(()=>e.delayDuration),disableCloseOnTriggerClick:$(()=>e.disableCloseOnTriggerClick),disableHoverableContent:$(()=>e.disableHoverableContent),ignoreNonKeyboardFocus:$(()=>e.ignoreNonKeyboardFocus),disabled:$(()=>e.disabled),onOpenChangeComplete:$(()=>i())}),Gr(F,{tooltip:!0,children:(d,c)=>{var k=Q(),g=w(k);Se(g,()=>e.children??Ze),r(d,k)},$$slots:{default:!0}}),Ne()}var Ps=u("<div><div><!></div></div>"),Ss=u("<div><div><!></div></div>");function Fr(F,e){const o=_t();Te(e,!0);let l=S(e,"id",19,()=>wt(o)),i=S(e,"ref",15,null),d=S(e,"side",3,"top"),c=S(e,"sideOffset",3,0),k=S(e,"align",3,"center"),g=S(e,"avoidCollisions",3,!0),C=S(e,"arrowPadding",3,0),B=S(e,"sticky",3,"partial"),I=S(e,"hideWhenDetached",3,!1),P=S(e,"collisionPadding",3,0),L=S(e,"onInteractOutside",3,ot),G=S(e,"onEscapeKeydown",3,ot),H=S(e,"forceMount",3,!1),z=gt(e,["$$slots","$$events","$$legacy","children","child","id","ref","side","sideOffset","align","avoidCollisions","arrowPadding","sticky","strategy","hideWhenDetached","collisionPadding","onInteractOutside","onEscapeKeydown","forceMount"]);const O=Cr.create({id:$(()=>l()),ref:$(()=>i(),ee=>i(ee)),onInteractOutside:$(()=>L()),onEscapeKeydown:$(()=>G())}),X=x(()=>({side:d(),sideOffset:c(),align:k(),avoidCollisions:g(),arrowPadding:C(),sticky:B(),hideWhenDetached:I(),collisionPadding:P(),strategy:e.strategy})),Z=x(()=>Xe(z,t(X),O.props));var se=Q(),V=w(se);{var pe=ee=>{qr(ee,At(()=>t(Z),()=>O.popperProps,{get enabled(){return O.root.opts.open.current},get id(){return l()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!0,get ref(){return O.opts.ref},tooltip:!0,get shouldRender(){return O.shouldRender},popper:(fe,M)=>{let R=()=>M?.().props,U=()=>M?.().wrapperProps;const ie=x(()=>Xe(R(),{style:rr("tooltip")}));var ve=Q(),J=w(ve);{var h=f=>{var y=Q(),_=w(y);{let K=x(()=>({props:t(ie),wrapperProps:U(),...O.snippetProps}));Se(_,()=>e.child,()=>t(K))}r(f,y)},D=f=>{var y=Ps();je(y,()=>({...U()}));var _=a(y);je(_,()=>({...t(ie)}));var K=a(_);Se(K,()=>e.children??Ze),s(_),s(y),r(f,y)};m(J,f=>{e.child?f(h):f(D,!1)})}r(fe,ve)},$$slots:{popper:!0}}))},te=ee=>{var ae=Q(),fe=w(ae);{var M=R=>{Wr(R,At(()=>t(Z),()=>O.popperProps,{get open(){return O.root.opts.open.current},get id(){return l()},trapFocus:!1,loop:!1,preventScroll:!1,forceMount:!1,get ref(){return O.opts.ref},tooltip:!0,get shouldRender(){return O.shouldRender},popper:(ie,ve)=>{let J=()=>ve?.().props,h=()=>ve?.().wrapperProps;const D=x(()=>Xe(J(),{style:rr("tooltip")}));var f=Q(),y=w(f);{var _=E=>{var re=Q(),q=w(re);{let A=x(()=>({props:t(D),wrapperProps:h(),...O.snippetProps}));Se(q,()=>e.child,()=>t(A))}r(E,re)},K=E=>{var re=Ss();je(re,()=>({...h()}));var q=a(re);je(q,()=>({...t(D)}));var A=a(q);Se(A,()=>e.children??Ze),s(q),s(re),r(E,re)};m(y,E=>{e.child?E(_):E(K,!1)})}r(ie,f)},$$slots:{popper:!0}}))};m(fe,R=>{H()||R(M)},!0)}r(ee,ae)};m(V,ee=>{H()?ee(pe):ee(te,!1)})}r(F,se),Ne()}var Ts=u("<button><!></button>");function Or(F,e){const o=_t();Te(e,!0);let l=S(e,"id",19,()=>wt(o)),i=S(e,"disabled",3,!1),d=S(e,"type",3,"button"),c=S(e,"ref",15,null),k=gt(e,["$$slots","$$events","$$legacy","children","child","id","disabled","type","ref"]);const g=kr.create({id:$(()=>l()),disabled:$(()=>i()??!1),ref:$(()=>c(),B=>c(B))}),C=x(()=>Xe(k,g.props,{type:d()}));Kr(F,{get id(){return l()},get ref(){return g.opts.ref},tooltip:!0,children:(B,I)=>{var P=Q(),L=w(P);{var G=z=>{var O=Q(),X=w(O);Se(X,()=>e.child,()=>({props:t(C)})),r(z,O)},H=z=>{var O=Ts();je(O,()=>({...t(C)}));var X=a(O);Se(X,()=>e.children??Ze),s(O),r(z,O)};m(L,z=>{e.child?z(G):z(H,!1)})}r(B,P)},$$slots:{default:!0}}),Ne()}function Ns(F,e){Te(e,!0);let o=S(e,"delayDuration",3,700),l=S(e,"disableCloseOnTriggerClick",3,!1),i=S(e,"disableHoverableContent",3,!1),d=S(e,"disabled",3,!1),c=S(e,"ignoreNonKeyboardFocus",3,!1),k=S(e,"skipDelayDuration",3,300);_r.create({delayDuration:$(()=>o()),disableCloseOnTriggerClick:$(()=>l()),disableHoverableContent:$(()=>i()),disabled:$(()=>d()),ignoreNonKeyboardFocus:$(()=>c()),skipDelayDuration:$(()=>k())});var g=Q(),C=w(g);Se(C,()=>e.children??Ze),r(F,g),Ne()}const Vt=[{name:"Grey",hex:"#94a3b8"},{name:"Dark Grey",hex:"#64748b"},{name:"Purple",hex:"#a78bfa"},{name:"Teal",hex:"#2dd4bf"},{name:"Green",hex:"#4ade80"},{name:"Yellow",hex:"#facc15"},{name:"Orange",hex:"#fb923c"},{name:"Pink",hex:"#f472b6"},{name:"Red",hex:"#f87171"}],Tt=Vt[0].hex;var Ds=u('<button type="button" class="inline-flex items-center gap-icon px-badge py-badge rounded bg-tag text-tag text-label hover:opacity-80 transition-opacity"><div class="w-2 h-2 rounded-full flex-shrink-0"></div> <span> </span></button>'),As=u('<div class="flex flex-wrap gap-2 mb-2"><!> <button type="button" class="w-6 h-6 flex items-center justify-center rounded-full hover:bg-hover-solid transition-colors text-secondary hover:text-primary" aria-label="Add tag"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg></button></div>'),Fs=u('<div class="relative" aria-hidden="true"></div>'),Os=u('<div class="relative"><button type="button" class="w-full px-menu-item py-menu-item text-sm text-secondary hover:text-primary bg-base border border-base rounded-md hover:bg-hover-solid transition-colors flex items-center gap-icon text-left" aria-label="Add Tags"><svg class="w-4 h-4 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path></svg> <span>Add Tags</span></button></div>'),Ms=u('<button type="button" class="w-full px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center gap-icon focus:bg-hover-solid outline-none text-left"><svg class="w-4 h-4 text-accent-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> <div class="w-2 h-2 rounded-full flex-shrink-0"></div> <span class="flex-1"> </span></button>'),Rs=u('<div class="h-px bg-base my-1"></div>'),Es=u('<div class="px-menu-item py-menu-item"><p class="text-label font-medium text-tertiary uppercase tracking-wider mb-1">Selected</p> <div class="space-y-0.5"></div></div> <!>',1),Ls=u('<button type="button" class="w-full px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center gap-icon focus:bg-hover-solid outline-none text-left"><div class="w-4 h-4 flex-shrink-0"></div> <div class="w-2 h-2 rounded-full flex-shrink-0"></div> <span class="flex-1"> </span></button>'),Hs=u('<button type="button" class="w-full px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center gap-icon focus:bg-hover-solid outline-none text-left"><div class="w-4 h-4 flex-shrink-0"></div> <div class="w-2 h-2 rounded-full flex-shrink-0"></div> <span class="flex-1"> </span></button>'),Vs=u('<div class="mt-2"><p class="text-label font-medium text-tertiary uppercase tracking-wider mb-1 px-menu-item"> </p> <!></div>'),js=u("<!> <!>",1),Bs=u('<div class="px-menu-item py-menu-item text-sm text-tertiary text-center"> </div>'),Gs=u('<div class="px-menu-item py-menu-item"><p class="text-label font-medium text-tertiary uppercase tracking-wider mb-1">Available Tags</p> <!></div>'),Ks=u('<div class="h-px bg-base my-1"></div>'),qs=u('<button type="button"><div class="w-2 h-2 rounded-full flex-shrink-0"></div> <span class="flex-1"> </span></button>'),Ws=u('<div class="border-t border-base mt-1 pt-1"><p class="px-menu-item py-menu-item text-label font-medium text-secondary mb-1">Pick a color for label</p> <div role="listbox" tabindex="0"></div></div>'),zs=u('<div class="border-t border-base mt-1 pt-1"><button type="button" class="w-full px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center gap-icon focus:bg-hover-solid outline-none text-left"><svg class="w-4 h-4 text-secondary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg> <span class="flex-1"> </span></button></div>'),Us=u("<!> <!>",1),Ys=u('<div class="px-menu-item py-menu-item text-sm text-tertiary text-center">No tags yet. Create your first tag!</div>'),Qs=u('<div class="relative px-menu-item py-menu-item border-b border-base mb-1"><!> <div class="absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none flex items-center gap-1" aria-label="Keyboard shortcut: T"><span class="text-label text-tertiary bg-elevated px-1 py-0.5 rounded border border-base">T</span></div></div>  <!>   <!> <!>  <!>',1),Js=u("<!> <!>",1),Xs=u('<div class="space-y-2"><p class="text-label font-medium text-secondary uppercase tracking-wider mb-2">Tags</p> <!> <div class="relative"><!></div></div>');function Zs(F,e){Te(e,!0);let o=S(e,"selectedTagIds",31,()=>pt([])),l=S(e,"onTagsChange",7),i=S(e,"tagInputRef",15,null),d=S(e,"comboboxOpen",15,void 0);l()||l(()=>{});let c=ue(pt([]));Ve(()=>{if(e.availableTags&&Array.isArray(e.availableTags)&&t(c).length>0){const h=new Set(e.availableTags.map(f=>f._id).filter(Boolean)),D=t(c).filter(f=>!h.has(f._id));D.length!==t(c).length&&v(c,D,!0)}});const k=x(()=>()=>{const h=e.availableTags&&Array.isArray(e.availableTags)?e.availableTags:[],D=new Map;return h.forEach(y=>{y?._id&&D.set(y._id,y)}),t(c).forEach(y=>{y?._id&&D.set(y._id,y)}),Array.from(D.values())});let g=ue(!1);const C=x(()=>d()!==void 0?d():t(g));function B(h){d()!==void 0?d(h):v(g,h,!0)}function I(h){d()!==void 0&&d()!==h&&d(h)}Ve(()=>{if(d()!==void 0){const h=d();h!==t(g)&&v(g,h,!0)}});let P=ue(""),L=ue(!1),G=ue(""),H=ue(!1);const z=x(()=>()=>{const h=t(k)();return o().map(D=>h.find(f=>f._id===D)).filter(D=>D!==void 0)}),O=x(()=>()=>{const h=t(k)();if(!t(P)||t(P).trim().length===0)return h;const D=t(P).toLowerCase().trim();return h.filter(f=>f.displayName.toLowerCase().includes(D))}),X=x(()=>()=>{const h=new Map,D=[],f=new Set(o()),y=new Map,_=t(k)();for(const E of _)y.set(E._id,E);const K=t(O)().filter(E=>!f.has(E._id));for(const E of K)if(E.parentId&&y.has(E.parentId)){const re=E.parentId;!f.has(re)&&K.some(q=>q._id===re)?(h.has(re)||h.set(re,[]),h.get(re).push(E)):D.push(E)}else D.push(E);return{groups:h,rootTags:D}}),Z=x(()=>()=>{const h=t(k)();return t(P).trim().length>0&&!h.some(D=>D.displayName.toLowerCase()===t(P).trim().toLowerCase())}),se=x(()=>()=>{const h=t(k)(),D=t(P).trim().toLowerCase();return h.find(f=>f.displayName.toLowerCase()===D)});function V(h){o().includes(h)?o(o().filter(D=>D!==h)):o([...o(),h]),l()(o())}function pe(){t(Z)()&&(v(G,t(P).trim(),!0),v(L,!0),v(H,!0),v(M,0))}async function te(h){if(!(!t(G)||!e.onCreateTagWithColor))try{const D=t(se)(),f=await e.onCreateTagWithColor(t(G),h,D?._id),y={_id:f,displayName:t(G),color:h,parentId:D?._id,level:0};v(c,[...t(c),y],!0),o([...o(),f]),l()(o()),v(P,""),v(L,!1),v(H,!1),v(G,""),B(!1)}catch(D){console.error("Failed to create tag:",D)}}let ee=ue(null);Ve(()=>{t(L)&&t(H)&&t(ee)&&setTimeout(()=>{t(ee)?.focus()},0)});function ae(){B(!0)}function fe(h){(h.key==="Enter"||h.key==="Return")&&(h.preventDefault(),h.stopPropagation(),t(L)||(t(Z)()&&t(P).trim().length>0?pe():t(X)().rootTags.length>0||t(X)().groups.size>0))}let M=ue(0);Ve(()=>{t(C)&&!t(L)&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{setTimeout(()=>{let h=null;const D=document.querySelector("[data-bits-combobox-content]");D&&(h=D.querySelector('input[placeholder="Add tags..."]')),h||(h=document.querySelector('input[placeholder="Add tags..."]')),h&&(h.focus(),h.select(),h.scrollIntoView({block:"nearest",behavior:"smooth"}))},100)})})});var R=Xs(),U=n(a(R),2);{var ie=h=>{var D=As(),f=a(D);We(f,17,()=>t(z)(),Qe,(_,K)=>{var E=Ds();E.__click=()=>V(t(K)._id);var re=a(E),q=n(re,2),A=a(q,!0);s(q),s(E),oe(()=>{rt(E,"aria-label",`Remove tag ${t(K).displayName}`),St(re,`background-color: ${(t(K).color||Tt)??""}`),ce(A,t(K).displayName)}),r(_,E)});var y=n(f,2);y.__click=_=>{_.preventDefault(),_.stopPropagation(),B(!0)},s(D),r(h,D)};m(U,h=>{t(z)().length>0&&h(ie)})}var ve=n(U,2),J=a(ve);Y(J,()=>ds,(h,D)=>{D(h,{type:"multiple",onOpenChange:I,onValueChange:f=>{o(f),l()(o())},get value(){return o()},set value(f){o(f)},get open(){return t(g)},set open(f){v(g,f,!0)},children:(f,y)=>{var _=Js(),K=w(_);{var E=A=>{var b=Fs();er(b,T=>i(T),()=>i()),r(A,b)},re=A=>{var b=Os(),T=a(b);T.__click=N=>{N.preventDefault(),N.stopPropagation(),B(!0)},s(b),er(b,N=>i(N),()=>i()),r(A,b)};m(K,A=>{t(z)().length>0?A(E):A(re,!1)})}var q=n(K,2);Y(q,()=>Nt,(A,b)=>{b(A,{children:(T,N)=>{var ne=Q(),le=w(ne);Y(le,()=>ps,(Ie,Pe)=>{Pe(Ie,{class:"bg-elevated rounded-md shadow-lg border border-base min-w-[280px] max-h-[320px] overflow-y-auto py-1 z-50",side:"bottom",align:"start",sideOffset:4,get customAnchor(){return i()},children:(Ae,Fe)=>{const Ke=x(()=>t(Z)()&&t(P).trim().length>0),dt=x(()=>t(X)().rootTags.length>0||t(X)().groups.size>0),Oe=x(()=>t(k)()),$e=x(()=>t(Oe).some(p=>!o().includes(p._id))),mt=x(()=>t($e)||t(P).trim().length>0),Ot=x(()=>t(k)());var Mt=Qs(),kt=w(Mt),Ut=a(kt);Y(Ut,()=>us,(p,j)=>{j(p,{get defaultValue(){return t(P)},oninput:W=>{v(P,W.currentTarget.value,!0),B(!0)},onkeydown:fe,onfocus:ae,placeholder:"Add tags...",class:"w-full px-menu-item py-menu-item text-sm text-primary bg-base border border-base rounded-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-accent-primary pr-8","aria-label":"Tag selector input"})}),De(2),s(kt);var jt=n(kt,2);{var Yt=p=>{var j=Es(),W=w(j),he=n(a(W),2);We(he,21,()=>t(z)(),Qe,(ke,de)=>{var ge=Ms();ge.__click=()=>V(t(de)._id);var me=n(a(ge),2),be=n(me,2),ye=a(be,!0);s(be),s(ge),oe(()=>{rt(ge,"aria-label",`Toggle tag ${t(de).displayName}`),St(me,`background-color: ${(t(de).color||Tt)??""}`),ce(ye,t(de).displayName)}),r(ke,ge)}),s(he),s(W);var _e=n(W,2);{var xe=ke=>{var de=Rs();r(ke,de)};m(_e,ke=>{t(z)().length>0&&(t(X)().rootTags.length>0||t(X)().groups.size>0)&&ke(xe)})}r(p,j)};m(jt,p=>{t(z)().length>0&&!t(Ke)&&p(Yt)})}var Rt=n(jt,2);{var Qt=p=>{var j=Gs(),W=n(a(j),2);{var he=xe=>{var ke=js(),de=w(ke);We(de,17,()=>t(X)().rootTags,Qe,(me,be)=>{var ye=Ls();ye.__click=()=>V(t(be)._id);var Ce=n(a(ye),2),we=n(Ce,2),Be=a(we,!0);s(we),s(ye),oe(()=>{rt(ye,"aria-label",`Select tag ${t(be).displayName}`),St(Ce,`background-color: ${(t(be).color||Tt)??""}`),ce(Be,t(be).displayName)}),r(me,ye)});var ge=n(de,2);We(ge,17,()=>Array.from(t(X)().groups.entries()),Qe,(me,be,ye,Ce)=>{var we=x(()=>yo(t(be),2));let Be=()=>t(we)[0],Me=()=>t(we)[1];const st=x(()=>t(Oe).find(ze=>ze._id===Be()));var et=Q(),Ct=w(et);{var at=ze=>{var Ue=Vs(),Ee=a(Ue),Le=a(Ee,!0);s(Ee);var Ge=n(Ee,2);We(Ge,17,Me,Qe,(tt,He)=>{var Ye=Hs();Ye.__click=()=>V(t(He)._id);var It=n(a(Ye),2),Pt=n(It,2),Lt=a(Pt,!0);s(Pt),s(Ye),oe(()=>{rt(Ye,"aria-label",`Select tag ${t(He).displayName}`),St(It,`background-color: ${(t(He).color||Tt)??""}`),ce(Lt,t(He).displayName)}),r(tt,Ye)}),s(Ue),oe(()=>ce(Le,t(st).displayName)),r(ze,Ue)};m(Ct,ze=>{t(st)&&ze(at)})}r(me,et)}),r(xe,ke)},_e=xe=>{var ke=Q(),de=w(ke);{var ge=me=>{var be=Bs(),ye=a(be);s(be),oe(()=>ce(ye,`No tags match "${t(P)??""}"`)),r(me,be)};m(de,me=>{t(P).trim().length>0&&me(ge)},!0)}r(xe,ke)};m(W,xe=>{t(dt)?xe(he):xe(_e,!1)})}s(j),r(p,j)};m(Rt,p=>{t(mt)&&p(Qt)})}var Et=n(Rt,2);{var Jt=p=>{var j=Us(),W=w(j);{var he=de=>{var ge=Ks();r(de,ge)};m(W,de=>{(t(mt)||t(z)().length>0)&&de(he)})}var _e=n(W,2);{var xe=de=>{var ge=Ws(),me=n(a(ge),2);me.__keydown=be=>{be.key==="Enter"||be.key==="Return"?(be.preventDefault(),Vt[t(M)]&&te(Vt[t(M)].hex)):be.key==="ArrowDown"?(be.preventDefault(),v(M,Math.min(t(M)+1,Vt.length-1),!0)):be.key==="ArrowUp"?(be.preventDefault(),v(M,Math.max(t(M)-1,0),!0)):be.key==="Escape"&&(be.preventDefault(),v(L,!1),v(H,!1),v(P,""),B(!1))},We(me,21,()=>Vt,Qe,(be,ye,Ce)=>{var we=qs();let Be;we.__click=()=>te(t(ye).hex);var Me=a(we),st=n(Me,2),et=a(st,!0);s(st),s(we),oe(()=>{Be=Re(we,1,"w-full px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center gap-icon focus:bg-hover-solid outline-none text-left",null,Be,{"bg-hover-solid":t(M)===Ce}),rt(we,"aria-label",`Select color ${t(ye).name}`),rt(we,"tabindex",Ce===t(M)?0:-1),St(Me,`background-color: ${t(ye).hex??""}`),ce(et,t(ye).name)}),mo("focus",we,()=>{v(M,Ce,!0)}),r(be,we)}),s(me),er(me,be=>v(ee,be),()=>t(ee)),s(ge),r(de,ge)},ke=de=>{var ge=zs(),me=a(ge);me.__click=pe,me.__keydown=Ce=>{(Ce.key==="Enter"||Ce.key==="Return")&&(Ce.preventDefault(),pe())};var be=n(a(me),2),ye=a(be);s(be),s(me),s(ge),oe((Ce,we)=>{rt(me,"aria-label",Ce),ce(ye,`Create new tag: '${we??""}'`)},[()=>`Create new tag: ${t(P).trim()}`,()=>t(P).trim()]),r(de,ge)};m(_e,de=>{t(L)&&t(H)?de(xe):de(ke,!1)})}r(p,j)};m(Et,p=>{t(Z)()&&e.onCreateTagWithColor&&t(P).trim().length>0&&p(Jt)})}var Xt=n(Et,2);{var Zt=p=>{var j=Q(),W=w(j);{var he=_e=>{var xe=Ys();r(_e,xe)};m(W,_e=>{t(Ot).length===0&&_e(he)})}r(p,j)};m(Xt,p=>{!t(Z)()&&!t(mt)&&t(z)().length===0&&p(Zt)})}r(Ae,Mt)},$$slots:{default:!0}})}),r(T,ne)},$$slots:{default:!0}})}),r(f,_)},$$slots:{default:!0}})}),s(ve),s(R),r(F,R),Ne()}it(["click","keydown"]);var $s=u('<button><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg></button>'),ea=u('<span class="text-sm text-primary">Navigate down</span> <span class="px-1.5 py-0.5 rounded border border-base bg-base text-sm text-primary font-medium min-w-[1.25rem] text-center">J</span>',1),ta=u("<!> <!>",1),ra=u('<button><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7"></path></svg></button>'),oa=u('<span class="text-sm text-primary">Navigate up</span> <span class="px-1.5 py-0.5 rounded border border-base bg-base text-sm text-primary font-medium min-w-[1.25rem] text-center">K</span>',1),sa=u("<!> <!>",1),aa=u('<div class="flex items-center gap-2"><div class="flex items-center gap-0.5"><span class="text-sm text-primary font-normal"> </span> <span class="text-sm text-secondary font-normal">/</span> <span class="text-sm text-secondary font-normal"> </span></div> <!> <!></div>'),na=lt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>'),ia=u('<span class="font-normal"> Generate Flashcard</span>'),la=u('<span class="font-normal"> Skip</span>'),da=u("<!> <!> <!>",1),ca=u("<!> <!>",1),ua=u('<div class="mb-16 mt-8"><div class="relative pl-inbox-container pr-inbox-container py-readable-quote bg-surface border-l-4 border-accent-primary rounded-lg"><div class="absolute top-6 left-6 text-accent-primary opacity-10"><svg class="w-20 h-20" fill="currentColor" viewBox="0 0 24 24"><path d="M14.017 21v-7.391c0-5.522-4.477-10-10-10v-2.609c0-5.522 4.477-10 10-10h7.017v21h-7.017zm-10 0v-7.391c0-5.522-4.477-10-10-10v-2.609c0-5.522 4.477-10 10-10h7.017v21h-7.017z"></path></svg></div> <p class="text-2xl sm:text-3xl text-primary leading-readable font-normal tracking-readable relative z-10 max-w-none"> </p></div></div>'),va=u('<div class="mb-8 p-inbox-container bg-elevated border border-base rounded-lg"><div class="flex flex-col items-center gap-4 py-6"><svg class="w-8 h-8 animate-spin text-accent-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> <div class="flex flex-col items-center gap-1"><p class="text-sm font-medium text-primary"> </p> <p class="text-xs text-tertiary">This may take a few seconds...</p></div></div></div>'),ha=u("<option> </option>"),pa=u('<div class="mb-8 border-2 border-accent-primary rounded-lg p-inbox-container bg-elevated transition-all duration-300" style="animation: fadeIn 0.3s ease-in"><h3 class="font-semibold text-primary mb-4">Generated Flashcard</h3> <div class="mb-4"><p class="text-sm font-medium text-secondary mb-2">Front</p> <textarea class="w-full p-inbox-container border border-base rounded-lg resize-none bg-base text-primary" rows="3"></textarea></div> <div class="mb-4"><p class="text-sm font-medium text-secondary mb-2">Back</p> <textarea class="w-full p-inbox-container border border-base rounded-lg resize-none bg-base text-primary" rows="5"></textarea></div> <div class="mb-4"><p class="text-sm font-medium text-secondary mb-2">Category</p> <select class="w-full p-inbox-container border border-base rounded-lg bg-base text-primary"><option>Select category...</option><!></select></div> <!></div>'),ga=u('<p class="text-xs text-secondary"> </p>'),fa=u('<p class="text-xs text-secondary"> </p>'),ma=u('<div><p class="text-xs font-medium text-secondary uppercase tracking-wider mb-2">Source</p> <div class="space-y-1"><h3 class="text-sm font-semibold text-primary"> </h3> <!></div></div>'),ba=u('<div><p class="text-xs font-medium text-secondary uppercase tracking-wider mb-2">Tags</p> <p class="text-sm text-tertiary">Tags API not available yet. Restart Convex dev server to regenerate API.</p></div>'),xa=u('<div><p class="text-xs font-medium text-secondary uppercase tracking-wider mb-2">Tags</p> <p class="text-sm text-tertiary">No highlight ID available</p></div>'),ya=u('<div><p class="text-xs font-medium text-secondary uppercase tracking-wider mb-2">Note</p> <p class="text-xs text-secondary leading-relaxed"> </p></div>'),_a=u('<div><p class="text-xs font-medium text-secondary uppercase tracking-wider mb-2">Links</p> <a target="_blank" rel="noopener noreferrer" class="text-xs text-primary hover:text-secondary flex items-center gap-icon transition-colors"><span>View in Readwise</span> <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path></svg></a></div>'),wa=u('<span class="text-xs text-tertiary font-mono"> </span>'),ka=u('<div class="pt-6 border-t border-base"><div class="flex flex-col gap-1"><span class="text-xs text-tertiary"> </span> <!></div></div>'),Ca=u('<div class="flex flex-col h-full"><div class="sticky top-0 z-10 bg-surface border-b border-base px-inbox-header py-system-header h-system-header flex items-center justify-between flex-shrink-0"><div class="flex items-center gap-icon"><button type="button" class="flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary" aria-label="Back to inbox"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> <span class="text-sm">Back</span></button> <h2 class="text-sm font-normal text-secondary">Readwise Highlight</h2></div> <div class="flex items-center gap-icon"><!> <!></div></div> <div class="flex flex-1 overflow-hidden"><div class="flex-1 overflow-y-auto"><div class="max-w-readable mx-auto px-inbox-container py-inbox-container"><!> <!> <!></div></div> <div class="w-64 border-l border-base bg-surface overflow-y-auto flex-shrink-0"><div class="p-inbox-container space-y-6"><!> <!> <div><p class="text-xs font-medium text-secondary uppercase tracking-wider mb-2">Actions</p> <div class="space-y-2"><!> <!></div></div> <!> <!> <!></div></div></div></div>');function Mr(F,e){Te(e,!0);let o=S(e,"currentIndex",19,()=>-1),l=S(e,"totalItems",3,0);const i=x(()=>o()>=0?o()+1:0),d=x(()=>e.onNext!==void 0&&o()<l()-1),c=x(()=>e.onPrevious!==void 0&&o()>0),k=io(),g=Dt("inbox:markProcessed");let C=null,B=null;if(xt.tags?.createTag&&xt.tags?.assignTagsToHighlight)try{C=Dt("tags:createTag"),B=Dt("tags:assignTagsToHighlight")}catch(p){console.warn("Tags API not available:",p)}const I=lo(xt.tags?.listAllTags?xt.tags.listAllTags:null,xt.tags?.listAllTags?{}:null),P=x(()=>()=>{if(I&&typeof I=="object"&&"data"in I)return I.data});let L=ue(!1),G=ue(""),H=ue(null),z=ue(!1),O=ue(""),X=ue(!1),Z=ue(pt([])),se=ue(null),V=ue(!1);const pe=["Product Delivery","Product Discovery","Leadership"];let te=ue(!1);Ve(()=>{if(!t(te))if(e.item?.tags&&Array.isArray(e.item.tags)&&e.item.tags.length>0){const p=e.item.tags.map(he=>he._id).filter(Boolean),j=[...t(Z)].sort().join(","),W=[...p].sort().join(",");if(j!==W){const he=new Set(t(Z)),_e=new Set(p);[...he].some(ke=>!_e.has(ke))||v(Z,p,!0)}}else!e.item?.tags||Array.isArray(e.item.tags)&&e.item.tags.length});const ee=x(()=>e.item?.highlight?._id);let ae=ue(void 0);Ve(()=>{const p=t(ee);t(ae)!==void 0&&p!==t(ae)&&v(V,!1),v(ae,p,!0)});const fe=x(()=>()=>{const p=t(P)(),j=new Map;return p!=null&&Array.isArray(p)&&p.forEach(W=>{W?._id&&j.set(W._id,{_id:W._id,displayName:W.displayName,color:W.color||Tt,parentId:W.parentId,level:W.level||0})}),e.item?.tags&&Array.isArray(e.item.tags)&&e.item.tags.forEach(W=>{W?._id&&!j.has(W._id)&&j.set(W._id,{_id:W._id,displayName:W.displayName||W.name,color:W.color||Tt,parentId:W.parentId,level:W.level||0})}),Array.from(j.values())});async function M(p){if(!(!t(ee)||!k||!B)){v(te,!0),v(Z,p,!0);try{await k.mutation(B,{highlightId:t(ee),tagIds:p}),setTimeout(()=>{v(te,!1)},500)}catch(j){console.error("Failed to assign tags:",j),v(te,!1),e.item?.tags&&v(Z,e.item.tags.map(W=>W._id).filter(Boolean),!0)}}}async function R(p,j,W){if(!k||!C)throw new Error("Convex client not available");try{return await k.mutation(C,{displayName:p,color:j,parentId:W})}catch(he){throw console.error("Failed to create tag:",he),he}}function U(p){const j=p.target;j.tagName==="INPUT"||j.tagName==="TEXTAREA"||j.isContentEditable||(p.key==="t"||p.key==="T")&&(p.preventDefault(),v(V,!0))}Ve(()=>(window.addEventListener("keydown",U),()=>{window.removeEventListener("keydown",U)}));async function ie(){v(L,!0),v(z,!1),v(G,"Analyzing highlight..."),await new Promise(he=>setTimeout(he,800)),v(G,"Generating flashcard question..."),await new Promise(he=>setTimeout(he,700)),v(G,"Creating answer content..."),await new Promise(he=>setTimeout(he,500));const p=e.item?.highlight?.text||e.item?.sourceData?.highlightText||"",j=e.item?.source?.title||e.item?.sourceData?.bookTitle||"Unknown",W=e.item?.author?.displayName||e.item?.sourceData?.author||"Unknown";v(H,{front:`What is ${p.split(".").slice(0,1)[0]}?`,back:p,explanation:`From ${j} by ${W}`},!0),v(z,!0),v(L,!1),v(G,"")}async function ve(){if(k&&g&&e.inboxItemId)try{await k.mutation(g,{inboxItemId:e.inboxItemId})}catch(p){console.error("Failed to mark as processed:",p)}e.onClose()}async function J(){if(k&&g&&e.inboxItemId)try{await k.mutation(g,{inboxItemId:e.inboxItemId})}catch(p){console.error("Failed to mark as processed:",p)}e.onClose()}var h=Ca(),D=a(h),f=a(D),y=a(f);y.__click=function(...p){e.onClose?.apply(this,p)},De(2),s(f);var _=n(f,2),K=a(_);{var E=p=>{var j=Q(),W=w(j);Y(W,()=>Ns,(he,_e)=>{_e(he,{delayDuration:300,children:(xe,ke)=>{var de=aa(),ge=a(de),me=a(ge),be=a(me,!0);s(me);var ye=n(me,4),Ce=a(ye,!0);s(ye),s(ge);var we=n(ge,2);Y(we,()=>Ar,(Me,st)=>{st(Me,{children:(et,Ct)=>{var at=ta(),ze=w(at);{const Ee=(Le,Ge)=>{let tt=()=>Ge?.().props;var He=$s(),Ye=()=>e.onNext?.();je(He,()=>({...tt(),type:"button",class:"w-6 h-6 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-primary disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-transparent",onclick:Ye,disabled:!t(d),"aria-label":"Next item (J)"})),r(Le,He)};Y(ze,()=>Or,(Le,Ge)=>{Ge(Le,{child:Ee,$$slots:{child:!0}})})}var Ue=n(ze,2);Y(Ue,()=>Nt,(Ee,Le)=>{Le(Ee,{children:(Ge,tt)=>{var He=Q(),Ye=w(He);Y(Ye,()=>Fr,(It,Pt)=>{Pt(It,{class:"bg-elevated border border-base rounded-md shadow-lg px-3 py-1.5 flex items-center gap-2 z-50",side:"bottom",sideOffset:6,children:(Lt,go)=>{var $t=ea();De(2),r(Lt,$t)},$$slots:{default:!0}})}),r(Ge,He)},$$slots:{default:!0}})}),r(et,at)},$$slots:{default:!0}})});var Be=n(we,2);Y(Be,()=>Ar,(Me,st)=>{st(Me,{children:(et,Ct)=>{var at=sa(),ze=w(at);{const Ee=(Le,Ge)=>{let tt=()=>Ge?.().props;var He=ra(),Ye=()=>e.onPrevious?.();je(He,()=>({...tt(),type:"button",class:"w-6 h-6 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-secondary disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-transparent",onclick:Ye,disabled:!t(c),"aria-label":"Previous item (K)"})),r(Le,He)};Y(ze,()=>Or,(Le,Ge)=>{Ge(Le,{child:Ee,$$slots:{child:!0}})})}var Ue=n(ze,2);Y(Ue,()=>Nt,(Ee,Le)=>{Le(Ee,{children:(Ge,tt)=>{var He=Q(),Ye=w(He);Y(Ye,()=>Fr,(It,Pt)=>{Pt(It,{class:"bg-elevated border border-base rounded-md shadow-lg px-3 py-1.5 flex items-center gap-2 z-50",side:"bottom",sideOffset:6,children:(Lt,go)=>{var $t=oa();De(2),r(Lt,$t)},$$slots:{default:!0}})}),r(Ge,He)},$$slots:{default:!0}})}),r(et,at)},$$slots:{default:!0}})}),s(de),oe(()=>{ce(be,t(i)),ce(Ce,l())}),r(xe,de)},$$slots:{default:!0}})}),r(p,j)};m(K,p=>{l()>0&&(e.onNext||e.onPrevious)&&p(E)})}var re=n(K,2);Y(re,()=>dr,(p,j)=>{j(p,{get open(){return t(X)},set open(W){v(X,W,!0)},children:(W,he)=>{var _e=ca(),xe=w(_e);Y(xe,()=>ir,(de,ge)=>{ge(de,{type:"button",class:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary","aria-label":"More options",children:(me,be)=>{var ye=na();r(me,ye)},$$slots:{default:!0}})});var ke=n(xe,2);Y(ke,()=>Nt,(de,ge)=>{ge(de,{children:(me,be)=>{var ye=Q(),Ce=w(ye);Y(Ce,()=>lr,(we,Be)=>{Be(we,{class:"bg-elevated rounded-md shadow-lg border border-base min-w-[180px] py-1 z-50",side:"bottom",align:"end",sideOffset:4,children:(Me,st)=>{var et=da(),Ct=w(et);Y(Ct,()=>nt,(Ue,Ee)=>{Ee(Ue,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Generate Flashcard",onSelect:()=>{!t(L)&&!t(z)&&ie(),v(X,!1)},children:(Le,Ge)=>{var tt=ia();r(Le,tt)},$$slots:{default:!0}})});var at=n(Ct,2);Y(at,()=>zr,(Ue,Ee)=>{Ee(Ue,{class:"h-px bg-base my-1"})});var ze=n(at,2);Y(ze,()=>nt,(Ue,Ee)=>{Ee(Ue,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Skip",onSelect:()=>{J(),v(X,!1)},children:(Le,Ge)=>{var tt=la();r(Le,tt)},$$slots:{default:!0}})}),r(Me,et)},$$slots:{default:!0}})}),r(me,ye)},$$slots:{default:!0}})}),r(W,_e)},$$slots:{default:!0}})}),s(_),s(D);var q=n(D,2),A=a(q),b=a(A),T=a(b);{var N=p=>{var j=ua(),W=a(j),he=n(a(W),2),_e=a(he,!0);s(he),s(W),s(j),oe(()=>ce(_e,e.item.highlight.text)),r(p,j)};m(T,p=>{e.item?.highlight&&p(N)})}var ne=n(T,2);{var le=p=>{var j=va(),W=a(j),he=n(a(W),2),_e=a(he),xe=a(_e,!0);s(_e),De(2),s(he),s(W),s(j),oe(()=>ce(xe,t(G))),r(p,j)};m(ne,p=>{t(L)&&p(le)})}var Ie=n(ne,2);{var Pe=p=>{var j=pa(),W=n(a(j),2),he=n(a(W),2);yt(he),s(W);var _e=n(W,2),xe=n(a(_e),2);yt(xe),s(_e);var ke=n(_e,2),de=n(a(ke),2),ge=a(de);ge.value=ge.__value="";var me=n(ge);We(me,17,()=>pe,Qe,(ye,Ce)=>{var we=ha(),Be=a(we,!0);s(we);var Me={};oe(()=>{ce(Be,t(Ce)),Me!==(Me=t(Ce))&&(we.value=(we.__value=t(Ce))??"")}),r(ye,we)}),s(de),s(ke);var be=n(ke,2);Y(be,()=>ut,(ye,Ce)=>{Ce(ye,{onclick:ve,class:"w-full bg-accent-primary text-white py-3 px-4 rounded-lg hover:bg-accent-hover transition-all duration-150 font-medium",children:(we,Be)=>{De();var Me=Je(" Save Flashcard");r(we,Me)},$$slots:{default:!0}})}),s(j),ct(he,()=>t(H).front,ye=>t(H).front=ye),ct(xe,()=>t(H).back,ye=>t(H).back=ye),cr(de,()=>t(O),ye=>v(O,ye)),r(p,j)};m(Ie,p=>{t(z)&&t(H)&&!t(L)&&p(Pe)})}s(b),s(A);var Ae=n(A,2),Fe=a(Ae),Ke=a(Fe);{var dt=p=>{var j=ma(),W=n(a(j),2),he=a(W),_e=a(he,!0);s(he);var xe=n(he,2);{var ke=ge=>{var me=ga(),be=a(me);s(me),oe(()=>ce(be,`by ${e.item.author.displayName??""}`)),r(ge,me)},de=ge=>{var me=Q(),be=w(me);{var ye=Ce=>{var we=fa(),Be=a(we);s(we),oe(Me=>ce(Be,`by ${Me??""}`),[()=>e.item.authors.map(Me=>Me?.displayName).filter(Boolean).join(", ")]),r(Ce,we)};m(be,Ce=>{e.item.authors&&e.item.authors.length>0&&Ce(ye)},!0)}r(ge,me)};m(xe,ge=>{e.item.author?ge(ke):ge(de,!1)})}s(W),s(j),oe(()=>ce(_e,e.item.source.title)),r(p,j)};m(Ke,p=>{e.item?.source&&p(dt)})}var Oe=n(Ke,2);{var $e=p=>{var j=Q(),W=w(j);{var he=xe=>{{let ke=x(()=>t(fe)());Zs(xe,{get availableTags(){return t(ke)},onTagsChange:M,onCreateTagWithColor:R,get selectedTagIds(){return t(Z)},set selectedTagIds(de){v(Z,de,!0)},get tagInputRef(){return t(se)},set tagInputRef(de){v(se,de,!0)},get comboboxOpen(){return t(V)},set comboboxOpen(de){v(V,de,!0)}})}},_e=xe=>{var ke=ba();r(xe,ke)};m(W,xe=>{xt.tags?.listAllTags?xe(he):xe(_e,!1)})}r(p,j)},mt=p=>{var j=xa();r(p,j)};m(Oe,p=>{t(ee)?p($e):p(mt,!1)})}var Ot=n(Oe,2),Mt=n(a(Ot),2),kt=a(Mt);{var Ut=p=>{var j=Q(),W=w(j);Y(W,()=>ut,(he,_e)=>{_e(he,{onclick:ie,get disabled(){return t(L)},class:"w-full bg-accent-primary text-white py-2 px-3 rounded-lg hover:bg-accent-hover transition-all duration-150 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:(xe,ke)=>{De();var de=Je(" Generate Flashcard");r(xe,de)},$$slots:{default:!0}})}),r(p,j)};m(kt,p=>{!t(z)&&!t(L)&&p(Ut)})}var jt=n(kt,2);{var Yt=p=>{var j=Q(),W=w(j);Y(W,()=>ut,(he,_e)=>{_e(he,{onclick:J,class:"w-full bg-hover-solid text-secondary py-2 px-3 rounded-lg hover:bg-hover transition-all duration-150 text-sm font-medium",children:(xe,ke)=>{De();var de=Je(" Skip");r(xe,de)},$$slots:{default:!0}})}),r(p,j)};m(jt,p=>{t(L)||p(Yt)})}s(Mt),s(Ot);var Rt=n(Ot,2);{var Qt=p=>{var j=ya(),W=n(a(j),2),he=a(W,!0);s(W),s(j),oe(()=>ce(he,e.item.highlight.note)),r(p,j)};m(Rt,p=>{e.item?.highlight?.note&&p(Qt)})}var Et=n(Rt,2);{var Jt=p=>{var j=_a(),W=n(a(j),2);s(j),oe(()=>rt(W,"href",e.item.highlight.externalUrl)),r(p,j)};m(Et,p=>{e.item?.highlight?.externalUrl&&p(Jt)})}var Xt=n(Et,2);{var Zt=p=>{var j=ka(),W=a(j),he=a(W),_e=a(he);s(he);var xe=n(he,2);{var ke=de=>{var ge=wa(),me=a(ge);s(ge),oe(()=>ce(me,`ID: ${e.item._id??""}`)),r(de,ge)};m(xe,de=>{e.item?._id&&de(ke)})}s(W),s(j),oe(de=>ce(_e,`Added ${de??""}`),[()=>new Date(e.item.createdAt).toLocaleDateString()]),r(p,j)};m(Xt,p=>{e.item?.createdAt&&p(Zt)})}s(Fe),s(Ae),s(q),s(h),r(F,h),Ne()}it(["click"]);var Ia=u("<option> </option>"),Pa=u('<div class="border-2 border-green-500 rounded-lg p-6 mb-6 bg-green-50"><h3 class="font-semibold text-green-900 mb-4">Generated Flashcard</h3> <div class="mb-4"><p class="text-sm font-medium text-gray-600 mb-2">Front</p> <textarea class="w-full p-3 border border-gray-300 rounded-lg resize-none" rows="3"></textarea></div> <div class="mb-4"><p class="text-sm font-medium text-gray-600 mb-2">Back</p> <textarea class="w-full p-3 border border-gray-300 rounded-lg resize-none" rows="5"></textarea></div> <div class="mb-4"><p class="text-sm font-medium text-gray-600 mb-2">Category</p> <select class="w-full p-2 border border-gray-300 rounded-lg"><option>Select category...</option><!></select></div></div>'),Sa=u('<div class="p-6"><div class="flex items-center gap-icon mb-6"><button type="button" class="flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary" aria-label="Back to inbox"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> <span class="text-sm">Back</span></button> <h2 class="text-xl font-bold text-primary flex-1">Photo Note</h2></div> <div class="mb-6"><div class="w-full aspect-video bg-gray-200 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300"><span class="text-gray-500"> </span></div></div> <div class="bg-purple-50 border border-purple-200 rounded-lg p-4 mb-6"><p class="text-sm font-semibold text-purple-900">Source</p> <p class="text-sm text-purple-700"> </p></div> <div class="mb-6"><p class="text-sm font-medium text-gray-600 mb-2">Transcribed Text</p> <textarea class="w-full p-3 border border-gray-300 rounded-lg resize-none font-mono text-sm" rows="8"></textarea> <p class="text-xs text-gray-500 mt-1">You can edit the text before generating a flashcard</p></div> <!> <div class="space-y-3"><!> <!> <!></div> <div class="mt-6 pt-6 border-t border-gray-200"><div class="flex items-center justify-between text-xs text-gray-500"><span> </span> <span> </span></div></div></div>');function Rr(F,e){Te(e,!0);let o=ue(!1),l=ue(null),i=ue(!1),d=ue(""),c=ue(pt(e.item.sourceData.transcribedText));const k=["Product Delivery","Product Discovery","Leadership"];async function g(){v(o,!0),v(i,!1),await new Promise(_=>setTimeout(_,2e3)),v(l,{front:`What key insight from the ${e.item.sourceData.source}?`,back:t(c),explanation:`From ${e.item.sourceData.source}`},!0),v(i,!0),v(o,!1)}function C(){alert("Flashcard saved! (Mock)"),e.onClose()}function B(){alert("Item skipped! (Mock)"),e.onClose()}var I=Sa(),P=a(I),L=a(P);L.__click=function(..._){e.onClose?.apply(this,_)},De(2),s(P);var G=n(P,2),H=a(G),z=a(H),O=a(z);s(z),s(H),s(G);var X=n(G,2),Z=n(a(X),2),se=a(Z,!0);s(Z),s(X);var V=n(X,2),pe=n(a(V),2);yt(pe),De(2),s(V);var te=n(V,2);{var ee=_=>{var K=Pa(),E=n(a(K),2),re=n(a(E),2);yt(re),s(E);var q=n(E,2),A=n(a(q),2);yt(A),s(q);var b=n(q,2),T=n(a(b),2),N=a(T);N.value=N.__value="";var ne=n(N);We(ne,17,()=>k,Qe,(le,Ie)=>{var Pe=Ia(),Ae=a(Pe,!0);s(Pe);var Fe={};oe(()=>{ce(Ae,t(Ie)),Fe!==(Fe=t(Ie))&&(Pe.value=(Pe.__value=t(Ie))??"")}),r(le,Pe)}),s(T),s(b),s(K),ct(re,()=>t(l).front,le=>t(l).front=le),ct(A,()=>t(l).back,le=>t(l).back=le),cr(T,()=>t(d),le=>v(d,le)),r(_,K)};m(te,_=>{t(i)&&t(l)&&_(ee)})}var ae=n(te,2),fe=a(ae);{var M=_=>{var K=Q(),E=w(K);Y(E,()=>ut,(re,q)=>{q(re,{onclick:g,get disabled(){return t(o)},class:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:(A,b)=>{De();var T=Je();oe(()=>ce(T,t(o)?"Generating...":" Generate Flashcard")),r(A,T)},$$slots:{default:!0}})}),r(_,K)};m(fe,_=>{t(i)||_(M)})}var R=n(fe,2);{var U=_=>{var K=Q(),E=w(K);Y(E,()=>ut,(re,q)=>{q(re,{onclick:C,class:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors font-medium",children:(A,b)=>{De();var T=Je(" Save Flashcard");r(A,T)},$$slots:{default:!0}})}),r(_,K)};m(R,_=>{t(i)&&_(U)})}var ie=n(R,2);Y(ie,()=>ut,(_,K)=>{K(_,{onclick:B,class:"w-full bg-gray-200 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:(E,re)=>{De();var q=Je(" Skip");r(E,q)},$$slots:{default:!0}})}),s(ae);var ve=n(ae,2),J=a(ve),h=a(J),D=a(h);s(h);var f=n(h,2),y=a(f);s(f),s(J),s(ve),s(I),oe(_=>{ce(O,` Image: ${e.item.title??""}`),ce(se,e.item.sourceData.source),ce(D,`Added ${_??""}`),ce(y,`ID: ${e.item.id??""}`)},[()=>e.item.createdAt.toLocaleDateString()]),ct(pe,()=>t(c),_=>v(c,_)),r(F,I),Ne()}it(["click"]);var Ta=u('<span class="bg-gray-100 text-gray-600 text-sm px-2 py-1 rounded"> </span>'),Na=u("<option> </option>"),Da=u('<div class="border-2 border-green-500 rounded-lg p-6 mb-6 bg-green-50"><h3 class="font-semibold text-green-900 mb-4">Generated Flashcard</h3> <div class="mb-4"><p class="text-sm font-medium text-gray-600 mb-2">Front</p> <textarea class="w-full p-3 border border-gray-300 rounded-lg resize-none" rows="3"></textarea></div> <div class="mb-4"><p class="text-sm font-medium text-gray-600 mb-2">Back</p> <textarea class="w-full p-3 border border-gray-300 rounded-lg resize-none" rows="5"></textarea></div> <div class="mb-4"><p class="text-sm font-medium text-gray-600 mb-2">Category</p> <select class="w-full p-2 border border-gray-300 rounded-lg"><option>Select category...</option><!></select></div></div>'),Aa=u('<div class="p-6"><div class="flex items-center gap-icon mb-6"><button type="button" class="flex items-center gap-icon px-nav-item py-nav-item rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary" aria-label="Back to inbox"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> <span class="text-sm">Back</span></button> <h2 class="text-xl font-bold text-primary flex-1">Manual Note</h2></div> <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 mb-6"><p class="text-sm font-semibold text-gray-900">Source</p> <p class="text-sm text-gray-700"> </p></div> <div class="mb-6"><p class="text-sm font-medium text-gray-600 mb-2">Note</p> <div class="bg-gray-50 border border-gray-200 rounded-lg p-4"><p class="text-gray-700 leading-relaxed whitespace-pre-wrap"> </p></div></div> <div class="mb-6"><p class="text-sm font-medium text-gray-600 mb-2">Tags</p> <div class="flex flex-wrap gap-2"></div></div> <!> <div class="space-y-3"><!> <!> <!></div> <div class="mt-6 pt-6 border-t border-gray-200"><div class="flex items-center justify-between text-xs text-gray-500"><span> </span> <span> </span></div></div></div>');function Er(F,e){Te(e,!0);let o=ue(!1),l=ue(null),i=ue(!1),d=ue("");const c=["Product Delivery","Product Discovery","Leadership"];async function k(){v(o,!0),v(i,!1),await new Promise(y=>setTimeout(y,2e3)),v(l,{front:`What is the key concept from ${e.item.sourceData.bookTitle}?`,back:e.item.sourceData.text,explanation:`From ${e.item.sourceData.bookTitle}`},!0),v(i,!0),v(o,!1)}function g(){alert("Flashcard saved! (Mock)"),e.onClose()}function C(){alert("Item skipped! (Mock)"),e.onClose()}var B=Aa(),I=a(B),P=a(I);P.__click=function(...y){e.onClose?.apply(this,y)},De(2),s(I);var L=n(I,2),G=n(a(L),2),H=a(G,!0);s(G),s(L);var z=n(L,2),O=n(a(z),2),X=a(O),Z=a(X,!0);s(X),s(O),s(z);var se=n(z,2),V=n(a(se),2);We(V,21,()=>e.item.tags,Qe,(y,_)=>{var K=Ta(),E=a(K,!0);s(K),oe(()=>ce(E,t(_))),r(y,K)}),s(V),s(se);var pe=n(se,2);{var te=y=>{var _=Da(),K=n(a(_),2),E=n(a(K),2);yt(E),s(K);var re=n(K,2),q=n(a(re),2);yt(q),s(re);var A=n(re,2),b=n(a(A),2),T=a(b);T.value=T.__value="";var N=n(T);We(N,17,()=>c,Qe,(ne,le)=>{var Ie=Na(),Pe=a(Ie,!0);s(Ie);var Ae={};oe(()=>{ce(Pe,t(le)),Ae!==(Ae=t(le))&&(Ie.value=(Ie.__value=t(le))??"")}),r(ne,Ie)}),s(b),s(A),s(_),ct(E,()=>t(l).front,ne=>t(l).front=ne),ct(q,()=>t(l).back,ne=>t(l).back=ne),cr(b,()=>t(d),ne=>v(d,ne)),r(y,_)};m(pe,y=>{t(i)&&t(l)&&y(te)})}var ee=n(pe,2),ae=a(ee);{var fe=y=>{var _=Q(),K=w(_);Y(K,()=>ut,(E,re)=>{re(E,{onclick:k,get disabled(){return t(o)},class:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:(q,A)=>{De();var b=Je();oe(()=>ce(b,t(o)?"Generating...":" Generate Flashcard")),r(q,b)},$$slots:{default:!0}})}),r(y,_)};m(ae,y=>{t(i)||y(fe)})}var M=n(ae,2);{var R=y=>{var _=Q(),K=w(_);Y(K,()=>ut,(E,re)=>{re(E,{onclick:g,class:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors font-medium",children:(q,A)=>{De();var b=Je(" Save Flashcard");r(q,b)},$$slots:{default:!0}})}),r(y,_)};m(M,y=>{t(i)&&y(R)})}var U=n(M,2);Y(U,()=>ut,(y,_)=>{_(y,{onclick:C,class:"w-full bg-gray-200 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:(K,E)=>{De();var re=Je(" Skip");r(K,re)},$$slots:{default:!0}})}),s(ee);var ie=n(ee,2),ve=a(ie),J=a(ve),h=a(J);s(J);var D=n(J,2),f=a(D);s(D),s(ve),s(ie),s(B),oe(y=>{ce(H,e.item.sourceData.bookTitle),ce(Z,e.item.sourceData.text),ce(h,`Added ${y??""}`),ce(f,`ID: ${e.item.id??""}`)},[()=>e.item.createdAt.toLocaleDateString()]),r(F,B),Ne()}it(["click"]);var Fa=u('<span class="bg-tag text-tag text-label px-badge py-badge rounded"> </span>'),Oa=u('<div class="flex items-center gap-1 mt-1.5"><div class="flex flex-wrap gap-1"></div></div>'),Ma=u('<button type="button"><div class="px-inbox-card py-inbox-card"><div class="flex items-start gap-inbox-icon"><div class="text-xl flex-shrink-0 leading-none"> </div> <div class="flex-1 min-w-0"><h3 class="font-semibold text-primary truncate text-sm leading-tight"> </h3> <p class="text-secondary text-xs mt-0.5 line-clamp-2 leading-relaxed"> </p> <!></div></div></div></button>');function Lr(F,e){Te(e,!0);let o=S(e,"selected",3,!1);function l(O){switch(O){case"readwise_highlight":return"";case"photo_note":return"";case"manual_text":return"";default:return""}}var i=Ma();let d;i.__click=O=>{O.currentTarget?.blur(),e.onClick()};var c=a(i),k=a(c),g=a(k),C=a(g,!0);s(g);var B=n(g,2),I=a(B),P=a(I,!0);s(I);var L=n(I,2),G=a(L,!0);s(L);var H=n(L,2);{var z=O=>{var X=Oa(),Z=a(X);We(Z,21,()=>e.item.tags.slice(0,2),Qe,(se,V)=>{var pe=Fa(),te=a(pe,!0);s(pe),oe(()=>ce(te,t(V))),r(se,pe)}),s(Z),s(X),r(O,X)};m(H,O=>{e.item.tags&&e.item.tags.length>0&&O(z)})}s(B),s(k),s(c),s(i),oe(O=>{rt(i,"data-inbox-item-id",e.item._id),d=Re(i,1,"w-full text-left bg-elevated rounded-md transition-all duration-150 border outline-none",null,d,{"border-2":o(),"border-selected":o(),"border-base":!o(),"hover:bg-hover-solid":!o(),"hover:border-elevated":!o(),"focus-visible:ring-2":!o(),"focus-visible:ring-accent-primary":!o(),"focus-visible:ring-offset-2":!o()}),ce(C,O),ce(P,e.item.title||"Untitled"),ce(G,e.item.snippet||"No preview available")},[()=>l(e.item.type)]),r(F,i),Ne()}it(["click"]);var Ra=lt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg>'),Ea=lt('<svg class="w-4 h-4 text-secondary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),La=u('<span class="font-normal">All</span> <!>',1),Ha=lt('<svg class="w-4 h-4 text-secondary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),Va=u('<span class="font-normal">Readwise</span> <!>',1),ja=lt('<svg class="w-4 h-4 text-secondary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),Ba=u('<span class="font-normal">Photos</span> <!>',1),Ga=lt('<svg class="w-4 h-4 text-secondary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>'),Ka=u('<span class="font-normal">Manual</span> <!>',1),qa=u("<!> <!> <!> <!>",1),Wa=u("<!> <!>",1);function za(F,e){Te(e,!0);let o=ue(!1);function l(c){e.onFilterChange(c),v(o,!1)}var i=Q(),d=w(i);Y(d,()=>dr,(c,k)=>{k(c,{get open(){return t(o)},set open(g){v(o,g,!0)},children:(g,C)=>{var B=Wa(),I=w(B);Y(I,()=>ir,(L,G)=>{G(L,{type:"button",class:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary","aria-label":"Filter inbox items",children:(H,z)=>{var O=Ra();r(H,O)},$$slots:{default:!0}})});var P=n(I,2);Y(P,()=>Nt,(L,G)=>{G(L,{children:(H,z)=>{var O=Q(),X=w(O);Y(X,()=>lr,(Z,se)=>{se(Z,{class:"bg-elevated rounded-md shadow-lg border border-base min-w-[180px] py-1 z-50",side:"bottom",align:"end",sideOffset:4,children:(V,pe)=>{var te=qa(),ee=w(te);Y(ee,()=>nt,(R,U)=>{U(R,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"All",onSelect:()=>l("all"),children:(ie,ve)=>{var J=La(),h=n(w(J),2);{var D=f=>{var y=Ea();r(f,y)};m(h,f=>{e.currentFilter==="all"&&f(D)})}r(ie,J)},$$slots:{default:!0}})});var ae=n(ee,2);Y(ae,()=>nt,(R,U)=>{U(R,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Readwise",onSelect:()=>l("readwise_highlight"),children:(ie,ve)=>{var J=Va(),h=n(w(J),2);{var D=f=>{var y=Ha();r(f,y)};m(h,f=>{e.currentFilter==="readwise_highlight"&&f(D)})}r(ie,J)},$$slots:{default:!0}})});var fe=n(ae,2);Y(fe,()=>nt,(R,U)=>{U(R,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Photos",onSelect:()=>l("photo_note"),children:(ie,ve)=>{var J=Ba(),h=n(w(J),2);{var D=f=>{var y=ja();r(f,y)};m(h,f=>{e.currentFilter==="photo_note"&&f(D)})}r(ie,J)},$$slots:{default:!0}})});var M=n(fe,2);Y(M,()=>nt,(R,U)=>{U(R,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Manual",onSelect:()=>l("manual_text"),children:(ie,ve)=>{var J=Ka(),h=n(w(J),2);{var D=f=>{var y=Ga();r(f,y)};m(h,f=>{e.currentFilter==="manual_text"&&f(D)})}r(ie,J)},$$slots:{default:!0}})}),r(V,te)},$$slots:{default:!0}})}),r(H,O)},$$slots:{default:!0}})}),r(g,B)},$$slots:{default:!0}})}),r(F,i),Ne()}var Ua=lt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>'),Ya=lt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>'),Qa=u('<button type="button" class="w-8 h-8 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary"><!></button>');function Ja(F,e){S(e,"isMobile",3,!1);var o=Qa();o.__click=function(...c){e.onToggle?.apply(this,c)};var l=a(o);{var i=c=>{var k=Ua();r(c,k)},d=c=>{var k=Ya();r(c,k)};m(l,c=>{e.sidebarCollapsed?c(i):c(d,!1)})}s(o),oe(()=>{rt(o,"aria-label",e.sidebarCollapsed?"Open sidebar":"Close sidebar"),rt(o,"title",e.sidebarCollapsed?"Open sidebar":"Close sidebar")}),r(F,o)}it(["click"]);var Xa=u('<span class="px-badge py-badge text-label font-medium text-white bg-accent-primary rounded-full min-w-[20px] text-center leading-none flex items-center justify-center"> </span>'),Za=lt('<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"></path></svg>'),$a=lt('<svg class="w-4 h-4 animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>'),en=u('<span class="font-normal"> </span> <!>',1),tn=u("<!> <!>",1),rn=u('<span class="font-normal">Delete all</span>'),on=u('<span class="font-normal">Delete all read</span>'),sn=u('<span class="font-normal">Delete all for completed issues and reviews</span>'),an=u("<!> <!> <!> <!>",1),nn=u("<!> <!>",1),ln=u('<div class="sticky top-0 z-10 bg-surface border-b border-base px-inbox-header py-system-header h-system-header flex items-center justify-between flex-shrink-0"><div class="flex items-center gap-icon"><!> <h2 class="text-sm font-normal text-secondary flex items-center gap-2">Inbox <!></h2> <!></div> <div class="flex items-center gap-icon"><!> <button type="button" class="w-8 h-8 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary" aria-label="Sort inbox items"><svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"></path></svg></button></div></div>');function Hr(F,e){Te(e,!0);let o=S(e,"isSyncing",3,!1),l=S(e,"sidebarCollapsed",3,!1),i=S(e,"isMobile",3,!1),d=S(e,"inboxCount",3,0),c=ue(!1);var k=ln(),g=a(k),C=a(g);{var B=X=>{Ja(X,{get sidebarCollapsed(){return l()},get onToggle(){return e.onSidebarToggle},get isMobile(){return i()}})};m(C,X=>{e.onSidebarToggle&&l()&&X(B)})}var I=n(C,2),P=n(a(I));{var L=X=>{var Z=Xa(),se=a(Z,!0);s(Z),oe(()=>ce(se,d())),r(X,Z)};m(P,X=>{d()>0&&X(L)})}s(I);var G=n(I,2);Y(G,()=>dr,(X,Z)=>{Z(X,{get open(){return t(c)},set open(se){v(c,se,!0)},children:(se,V)=>{var pe=nn(),te=w(pe);Y(te,()=>ir,(ae,fe)=>{fe(ae,{type:"button",class:"w-8 h-8 flex items-center justify-center rounded-md hover:bg-hover-solid transition-colors text-secondary hover:text-primary",children:(M,R)=>{var U=Za();r(M,U)},$$slots:{default:!0}})});var ee=n(te,2);Y(ee,()=>Nt,(ae,fe)=>{fe(ae,{children:(M,R)=>{var U=Q(),ie=w(U);Y(ie,()=>lr,(ve,J)=>{J(ve,{class:"bg-elevated rounded-md shadow-lg border border-base min-w-[180px] py-1 z-50",side:"bottom",align:"start",sideOffset:4,children:(h,D)=>{var f=an(),y=w(f);{var _=q=>{var A=tn(),b=w(A);Y(b,()=>nt,(N,ne)=>{ne(N,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none disabled:opacity-50 disabled:cursor-not-allowed",textValue:"Sync Readwise Highlights",get disabled(){return o()},onSelect:()=>{o()||(e.onSync(),v(c,!1))},children:(le,Ie)=>{var Pe=en(),Ae=w(Pe),Fe=a(Ae,!0);s(Ae);var Ke=n(Ae,2);{var dt=Oe=>{var $e=$a();r(Oe,$e)};m(Ke,Oe=>{o()&&Oe(dt)})}oe(()=>ce(Fe,o()?"Syncing...":"Sync Readwise Highlights")),r(le,Pe)},$$slots:{default:!0}})});var T=n(b,2);Y(T,()=>zr,(N,ne)=>{ne(N,{class:"h-px bg-base my-1"})}),r(q,A)};m(y,q=>{e.onSync&&q(_)})}var K=n(y,2);Y(K,()=>nt,(q,A)=>{A(q,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Delete all",onSelect:()=>{e.onDeleteAll?.(),v(c,!1)},children:(b,T)=>{var N=rn();r(b,N)},$$slots:{default:!0}})});var E=n(K,2);Y(E,()=>nt,(q,A)=>{A(q,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Delete all read",onSelect:()=>{e.onDeleteAllRead?.(),v(c,!1)},children:(b,T)=>{var N=on();r(b,N)},$$slots:{default:!0}})});var re=n(E,2);Y(re,()=>nt,(q,A)=>{A(q,{class:"px-menu-item py-menu-item text-sm text-primary hover:bg-hover-solid cursor-pointer flex items-center justify-between focus:bg-hover-solid outline-none",textValue:"Delete all for completed issues and reviews",onSelect:()=>{e.onDeleteAllCompleted?.(),v(c,!1)},children:(b,T)=>{var N=sn();r(b,N)},$$slots:{default:!0}})}),r(h,f)},$$slots:{default:!0}})}),r(M,U)},$$slots:{default:!0}})}),r(se,pe)},$$slots:{default:!0}})}),s(g);var H=n(g,2),z=a(H);za(z,{get currentFilter(){return e.currentFilter},get onFilterChange(){return e.onFilterChange}});var O=n(z,2);O.__click=()=>e.onSortClick?.(),s(H),s(k),r(F,k),Ne()}it(["click"]);var dn=u("<!> <!> <!>",1),cn=u("<span>Last 7 days</span>"),un=u("<span>Last 30 days</span>"),vn=u("<span>Last 90 days</span>"),hn=u("<span>Last 180 days</span>"),pn=u("<span>Last 365 days</span>"),gn=u("<span>All time</span>"),fn=u("<!> <!> <!> <!> <!> <!>",1),mn=u('<div class="flex flex-col gap-icon"><label class="text-sm font-normal text-tertiary">Select time range:</label> <!></div>'),bn=u("<span>Last 5 highlights</span>"),xn=u("<span>Last 10 highlights</span>"),yn=u("<span>Last 25 highlights</span>"),_n=u("<span>Last 50 highlights</span>"),wn=u("<span>Last 100 highlights</span>"),kn=u("<span>Last 250 highlights</span>"),Cn=u("<span>Last 500 highlights</span>"),In=u("<span>Last 1,000 highlights</span>"),Pn=u("<!> <!> <!> <!> <!> <!> <!> <!>",1),Sn=u('<div class="flex flex-col gap-icon"><label class="text-sm font-normal text-tertiary">Number of highlights:</label> <!></div>'),Tn=u('<div class="flex flex-col gap-icon"><div class="flex flex-col gap-icon"><label for="start-date" class="text-sm font-normal text-tertiary">Start date:</label> <input id="start-date" type="date" class="px-menu-item py-menu-item text-sm border border-base rounded-md bg-surface text-primary focus:outline-none focus:ring-2 focus:ring-primary"/></div> <div class="flex flex-col gap-icon"><label for="end-date" class="text-sm font-normal text-tertiary">End date:</label> <input id="end-date" type="date" class="px-menu-item py-menu-item text-sm border border-base rounded-md bg-surface text-primary focus:outline-none focus:ring-2 focus:ring-primary"/></div></div>'),Nn=u('<p class="text-label text-tertiary"> </p>'),Dn=u('<p class="text-label text-tertiary">Ready to import from Readwise</p>'),An=u('<div class="h-full flex flex-col"><div class="px-inbox-container py-system-header h-system-header border-b border-base flex items-center justify-between flex-shrink-0"><h3 class="text-sm font-normal text-secondary">Import Readwise Highlights</h3></div> <div class="flex-1 overflow-y-auto px-inbox-container py-system-content"><div class="max-w-md mx-auto flex flex-col gap-6"><div class="flex flex-col gap-icon"><label class="text-sm font-normal text-secondary">Import by:</label> <!></div> <!> <!> <!> <div class="flex items-center justify-between gap-icon pt-2 mt-2 border-t border-base"><div class="flex-1"><!></div> <div class="flex items-center gap-icon"><button type="button" class="px-menu-item py-menu-item text-sm text-secondary hover:text-primary hover:bg-hover-solid rounded-md transition-colors font-normal">Cancel</button> <button type="button" class="px-menu-item py-menu-item text-sm bg-primary text-on-primary rounded-md hover:bg-primary-hover transition-colors font-normal">Import</button></div></div></div></div></div>');function Fn(F,e){Te(e,!0);let o=ue("time"),l=ue("30d"),i=ue("10"),d=ue(""),c=ue("");Ve(()=>{t(o)==="custom"&&!t(c)&&v(c,new Date().toISOString().split("T")[0],!0)});function k(){if(t(o)==="time")e.onImport({dateRange:t(l)});else if(t(o)==="quantity")e.onImport({quantity:parseInt(t(i))});else if(t(o)==="custom"){if(!t(d)||!t(c)){alert("Please select both start and end dates");return}e.onImport({customStartDate:t(d),customEndDate:t(c)})}}var g=An(),C=n(a(g),2),B=a(C),I=a(B),P=n(a(I),2);Y(P,()=>Cs,(M,R)=>{R(M,{type:"single",class:"flex gap-0.5 bg-surface p-0.5 rounded-md",get value(){return t(o)},set value(U){v(o,U,!0)},children:(U,ie)=>{var ve=dn(),J=w(ve);Y(J,()=>tr,(f,y)=>{y(f,{value:"time",class:"flex-1 px-menu-item py-menu-item text-sm text-secondary hover:text-primary rounded transition-colors font-normal data-[state=on]:bg-elevated data-[state=on]:text-primary data-[state=on]:shadow-sm",children:(_,K)=>{De();var E=Je("Time range");r(_,E)},$$slots:{default:!0}})});var h=n(J,2);Y(h,()=>tr,(f,y)=>{y(f,{value:"quantity",class:"flex-1 px-menu-item py-menu-item text-sm text-secondary hover:text-primary rounded transition-colors font-normal data-[state=on]:bg-elevated data-[state=on]:text-primary data-[state=on]:shadow-sm",children:(_,K)=>{De();var E=Je("Number of items");r(_,E)},$$slots:{default:!0}})});var D=n(h,2);Y(D,()=>tr,(f,y)=>{y(f,{value:"custom",class:"flex-1 px-menu-item py-menu-item text-sm text-secondary hover:text-primary rounded transition-colors font-normal data-[state=on]:bg-elevated data-[state=on]:text-primary data-[state=on]:shadow-sm",children:(_,K)=>{De();var E=Je("Custom date");r(_,E)},$$slots:{default:!0}})}),r(U,ve)},$$slots:{default:!0}})}),s(I);var L=n(I,2);{var G=M=>{var R=mn(),U=n(a(R),2);Y(U,()=>Dr,(ie,ve)=>{ve(ie,{class:"flex flex-col gap-0.5",get value(){return t(l)},set value(J){v(l,J,!0)},children:(J,h)=>{var D=fn(),f=w(D);{const q=(A,b)=>{let T=()=>b?.().checked;var N=cn();oe(()=>Re(N,1,`text-sm ${T()?"text-white":"text-primary"}`)),r(A,N)};Y(f,()=>qe,(A,b)=>{b(A,{value:"7d",class:"flex items-center px-menu-item py-menu-item cursor-pointer rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:q,$$slots:{default:!0}})})}var y=n(f,2);{const q=(A,b)=>{let T=()=>b?.().checked;var N=un();oe(()=>Re(N,1,`text-sm ${T()?"text-white":"text-primary"}`)),r(A,N)};Y(y,()=>qe,(A,b)=>{b(A,{value:"30d",class:"flex items-center px-menu-item py-menu-item cursor-pointer rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:q,$$slots:{default:!0}})})}var _=n(y,2);{const q=(A,b)=>{let T=()=>b?.().checked;var N=vn();oe(()=>Re(N,1,`text-sm ${T()?"text-white":"text-primary"}`)),r(A,N)};Y(_,()=>qe,(A,b)=>{b(A,{value:"90d",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:q,$$slots:{default:!0}})})}var K=n(_,2);{const q=(A,b)=>{let T=()=>b?.().checked;var N=hn();oe(()=>Re(N,1,`text-sm ${T()?"text-white":"text-primary"}`)),r(A,N)};Y(K,()=>qe,(A,b)=>{b(A,{value:"180d",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:q,$$slots:{default:!0}})})}var E=n(K,2);{const q=(A,b)=>{let T=()=>b?.().checked;var N=pn();oe(()=>Re(N,1,`text-sm ${T()?"text-white":"text-primary"}`)),r(A,N)};Y(E,()=>qe,(A,b)=>{b(A,{value:"365d",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:q,$$slots:{default:!0}})})}var re=n(E,2);{const q=(A,b)=>{let T=()=>b?.().checked;var N=gn();oe(()=>Re(N,1,`text-sm ${T()?"text-white":"text-primary"}`)),r(A,N)};Y(re,()=>qe,(A,b)=>{b(A,{value:"all",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:q,$$slots:{default:!0}})})}r(J,D)},$$slots:{default:!0}})}),s(R),r(M,R)};m(L,M=>{t(o)==="time"&&M(G)})}var H=n(L,2);{var z=M=>{var R=Sn(),U=n(a(R),2);Y(U,()=>Dr,(ie,ve)=>{ve(ie,{class:"flex flex-col gap-0.5",get value(){return t(i)},set value(J){v(i,J,!0)},children:(J,h)=>{var D=Pn(),f=w(D);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=bn();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(f,()=>qe,(T,N)=>{N(T,{value:"5",class:"flex items-center px-menu-item py-menu-item cursor-pointer rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var y=n(f,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=xn();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(y,()=>qe,(T,N)=>{N(T,{value:"10",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var _=n(y,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=yn();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(_,()=>qe,(T,N)=>{N(T,{value:"25",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var K=n(_,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=_n();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(K,()=>qe,(T,N)=>{N(T,{value:"50",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var E=n(K,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=wn();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(E,()=>qe,(T,N)=>{N(T,{value:"100",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var re=n(E,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=kn();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(re,()=>qe,(T,N)=>{N(T,{value:"250",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var q=n(re,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=Cn();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(q,()=>qe,(T,N)=>{N(T,{value:"500",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}var A=n(q,2);{const b=(T,N)=>{let ne=()=>N?.().checked;var le=In();oe(()=>Re(le,1,`text-sm ${ne()?"text-white":"text-primary"}`)),r(T,le)};Y(A,()=>qe,(T,N)=>{N(T,{value:"1000",class:"flex items-center gap-icon cursor-pointer py-menu-item rounded-md hover:bg-hover transition-colors data-[state=checked]:bg-accent-primary data-[state=checked]:text-white",children:b,$$slots:{default:!0}})})}r(J,D)},$$slots:{default:!0}})}),s(R),r(M,R)};m(H,M=>{t(o)==="quantity"&&M(z)})}var O=n(H,2);{var X=M=>{var R=Tn(),U=a(R),ie=n(a(U),2);Pr(ie),s(U);var ve=n(U,2),J=n(a(ve),2);Pr(J),s(ve),s(R),ct(ie,()=>t(d),h=>v(d,h)),ct(J,()=>t(c),h=>v(c,h)),r(M,R)};m(O,M=>{t(o)==="custom"&&M(X)})}var Z=n(O,2),se=a(Z),V=a(se);{var pe=M=>{var R=Nn(),U=a(R);s(R),oe(()=>ce(U,`Approx. ${e.estimatedCount.highlights??""} highlights  ${e.estimatedCount.sources??""} sources`)),r(M,R)},te=M=>{var R=Dn();r(M,R)};m(V,M=>{e.estimatedCount?M(pe):M(te,!1)})}s(se);var ee=n(se,2),ae=a(ee);ae.__click=function(...M){e.onCancel?.apply(this,M)};var fe=n(ae,2);fe.__click=k,s(ee),s(Z),s(B),s(C),s(g),r(F,g),Ne()}it(["click"]);var On=u('<button type="button" class="text-xs text-tertiary hover:text-secondary transition-colors">Cancel</button>'),Mn=u('<span class="text-tertiary"> </span>'),Rn=u('<span class="text-tertiary"> </span>'),En=u('<p class="text-xs text-center text-tertiary"> </p>'),Ln=u('<p class="text-sm text-secondary text-center"> </p>'),Hn=u('<div class="h-full flex flex-col"><div class="px-inbox-container py-system-header h-system-header border-b border-base flex items-center justify-between flex-shrink-0"><h3 class="text-sm font-normal text-primary">Importing...</h3> <!></div> <div class="flex-1 overflow-y-auto px-inbox-container py-inbox-container flex items-center justify-center"><div class="w-full max-w-md flex flex-col gap-6"><div class="flex flex-col gap-3"><div class="flex flex-col gap-2"><div class="flex items-center justify-between text-xs"><span class="text-secondary font-medium"> </span> <!></div> <div class="w-full h-2.5 bg-base rounded-full overflow-hidden"><div class="h-full bg-primary transition-all duration-300 ease-out"></div></div> <!></div></div> <!> <div class="flex justify-center"><svg class="w-6 h-6 animate-spin text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></div></div></div></div>');function Vn(F,e){const o=x(()=>e.total&&e.total>0?Math.min(100,Math.round(e.current/e.total*100)):0);var l=Hn(),i=a(l),d=n(a(i),2);{var c=te=>{var ee=On();ee.__click=function(...ae){e.onCancel?.apply(this,ae)},r(te,ee)};m(d,te=>{e.onCancel&&te(c)})}s(i);var k=n(i,2),g=a(k),C=a(g),B=a(C),I=a(B),P=a(I),L=a(P,!0);s(P);var G=n(P,2);{var H=te=>{var ee=Mn(),ae=a(ee);s(ee),oe(()=>ce(ae,`${e.current??""} of ${e.total??""}`)),r(te,ee)},z=te=>{var ee=Q(),ae=w(ee);{var fe=M=>{var R=Rn(),U=a(R);s(R),oe(()=>ce(U,`${e.current??""} items`)),r(M,R)};m(ae,M=>{e.current>0&&M(fe)},!0)}r(te,ee)};m(G,te=>{e.total?te(H):te(z,!1)})}s(I);var O=n(I,2),X=a(O);s(O);var Z=n(O,2);{var se=te=>{var ee=En(),ae=a(ee);s(ee),oe(()=>ce(ae,`Processing ${e.current??""} of ${e.total??""} highlights...`)),r(te,ee)};m(Z,te=>{e.total&&te(se)})}s(B),s(C);var V=n(C,2);{var pe=te=>{var ee=Ln(),ae=a(ee,!0);s(ee),oe(()=>ce(ae,e.message)),r(te,ee)};m(V,te=>{e.message&&te(pe)})}De(2),s(g),s(k),s(l),oe(()=>{ce(L,e.step),St(X,`width: ${t(o)??""}%`)}),r(F,l)}it(["click"]);var jn=u('<p class="text-sm font-medium text-secondary"> </p>'),Bn=u('<div class="flex items-center justify-center h-full w-full"><div class="flex flex-col items-center gap-icon"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> <!></div></div>'),Gn=u('<p class="text-sm font-medium text-secondary"> </p>'),Kn=u('<div class="flex flex-col items-center gap-icon py-readable-quote"><svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg> <!></div>');function Vr(F,e){let o=S(e,"message",3,"Loading..."),l=S(e,"size",3,"md"),i=S(e,"fullHeight",3,!1);var d=Q(),c=w(d);{var k=C=>{var B=Bn(),I=a(B),P=a(I),L=n(P,2);{var G=H=>{var z=jn(),O=a(z,!0);s(z),oe(()=>ce(O,o())),r(H,z)};m(L,H=>{o()&&H(G)})}s(I),s(B),oe(()=>Re(P,0,`animate-spin text-accent-primary ${l()==="sm"?"w-4 h-4":l()==="lg"?"w-12 h-12":"w-8 h-8"}`)),r(C,B)},g=C=>{var B=Kn(),I=a(B),P=n(I,2);{var L=G=>{var H=Gn(),z=a(H,!0);s(H),oe(()=>ce(z,o())),r(G,H)};m(P,G=>{o()&&G(L)})}s(B),oe(()=>Re(I,0,`animate-spin text-accent-primary ${l()==="sm"?"w-4 h-4":l()==="lg"?"w-12 h-12":"w-8 h-8"}`)),r(C,B)};m(c,C=>{i()?C(k):C(g,!1)})}r(F,d)}function qn(F,e,o,l){const i=pt({isSyncing:!1,syncError:null,syncSuccess:!1,syncProgress:null,showSyncConfig:!1});let d=null,c=null;function k(){i.showSyncConfig=!0,i.syncProgress=null,i.syncSuccess=!1,i.syncError=null,i.isSyncing=!1,d&&(clearInterval(d),d=null),c&&(Bt(c),c=null),l&&l()}async function g(){if(!(!F||!e)&&!(!i.isSyncing&&!i.syncProgress))try{const I=await F.query(e.getSyncProgress,{});I&&(i.syncProgress=I,c&&bt(c,{status:"running",progress:{step:I.step,current:I.current,total:I.total,message:I.message}}))}catch(I){console.error("Failed to poll sync progress:",I),c&&i.isSyncing&&bt(c,{status:"error",progress:{message:I instanceof Error?I.message:"Failed to sync"}})}}async function C(I){if(!(!F||!e)){i.showSyncConfig=!1,i.isSyncing=!0,i.syncError=null,i.syncSuccess=!1,d&&(clearInterval(d),d=null),c&&(Bt(c),c=null),c=To({id:`sync-readwise-${Date.now()}`,type:"sync",status:"running",metadata:{source:"readwise",operation:"import"},progress:{step:"Starting sync...",current:0,indeterminate:!0},quickActions:[{label:"View Inbox",action:()=>{}}],onCancel:()=>{B()},autoDismiss:!0,dismissAfter:5e3}),d=setInterval(g,500),g();try{const P=await F.action(e.syncReadwiseHighlights,I);d&&(clearInterval(d),d=null),await g(),I.quantity&&P?.newCount===0&&P?.skippedCount>0?(i.syncError=null,i.syncSuccess=!0,i.syncProgress={step:"Already imported",current:P.skippedCount,total:P.skippedCount,message:`All ${P.skippedCount} highlights are already in your inbox. No new items imported.`},c&&bt(c,{status:"completed",progress:{step:"Already imported",current:P.skippedCount,total:P.skippedCount,message:`All ${P.skippedCount} highlights are already in your inbox.`}}),setTimeout(()=>{i.syncProgress=null,i.syncSuccess=!1,i.isSyncing=!1,d&&(clearInterval(d),d=null)},4e3)):P?.newCount===0&&P?.skippedCount===0?(i.syncError=null,i.syncSuccess=!1,i.syncProgress=null,i.isSyncing=!1,c&&bt(c,{status:"completed",progress:{message:"No new items to import"}})):(i.syncSuccess=!0,c&&P&&bt(c,{status:"completed",progress:{message:P.newCount>0?`Imported ${P.newCount} new highlight${P.newCount===1?"":"s"}`:"Sync completed"}}),setTimeout(()=>{i.syncProgress=null,i.syncSuccess=!1,i.isSyncing=!1,d&&(clearInterval(d),d=null)},2e3))}catch(P){i.syncError=P instanceof Error?P.message:"Failed to sync",i.syncProgress=null,i.isSyncing=!1,c&&(bt(c,{status:"error",progress:{message:i.syncError}}),setTimeout(()=>{c&&(Bt(c),c=null)},5e3)),d&&(clearInterval(d),d=null)}}}function B(){i.showSyncConfig=!1,i.syncProgress=null,i.isSyncing=!1,i.syncError=null,c&&(bt(c,{status:"cancelled"}),setTimeout(()=>{c&&(Bt(c),c=null)},1e3)),d&&(clearInterval(d),d=null)}return{get isSyncing(){return i.isSyncing},get syncError(){return i.syncError},get syncSuccess(){return i.syncSuccess},get syncProgress(){return i.syncProgress},get showSyncConfig(){return i.showSyncConfig},handleSyncClick:k,pollSyncProgress:g,handleImport:C,handleCancelSync:B}}function Wn(){const F=pt({filterType:"all"}),e=lo(xt.inbox.listInboxItems,()=>F.filterType==="all"?{processed:!1}:{filterType:F.filterType,processed:!1}),o=x(()=>e?.data??[]),l=x(()=>e?.isLoading??!1),i=x(()=>e?.error??null),d=x(()=>t(o));function c(k,g){F.filterType=k,g&&g()}return{get filterType(){return F.filterType},get inboxItems(){return t(o)},get isLoading(){return t(l)},get queryError(){return t(i)},get filteredItems(){return t(d)},setFilter:c}}function zn(F,e){const o=pt({selectedItemId:null,selectedItem:null});let l=null;Ve(()=>{if(!F||!e||!o.selectedItemId){o.selectedItem=null,l=null;return}const c=o.selectedItemId;return l=c,F.query(e.getInboxItemWithDetails,{inboxItemId:o.selectedItemId}).then(k=>{l===c&&(o.selectedItem=k)}).catch(k=>{l===c&&(console.error("Failed to load item details:",k),o.selectedItem=null)}),()=>{l===c&&(l=null)}});function i(c){o.selectedItemId=c}function d(){o.selectedItemId=null,o.selectedItem=null}return{get selectedItemId(){return o.selectedItemId},get selectedItem(){return o.selectedItem},selectItem:i,clearSelection:d}}function Un(F,e,o){function l(k){const g=F();if(g.length===0)return;const C=e(),B=C?g.findIndex(L=>L._id===C):-1;let I;B===-1?I=k==="down"?0:g.length-1:k==="down"?I=B<g.length-1?B+1:0:I=B>0?B-1:g.length-1;const P=g[I];P&&(document.querySelectorAll("[data-inbox-item-id]").forEach(L=>{L instanceof HTMLElement&&L.blur()}),o(P._id),setTimeout(()=>{document.querySelector(`[data-inbox-item-id="${P._id}"]`)?.scrollIntoView({behavior:"smooth",block:"nearest"})},0))}function i(){const k=F(),g=e();return!g||k.length===0?-1:k.findIndex(C=>C._id===g)}function d(){l("down")}function c(){l("up")}return Ve(()=>{function k(g){const C=document.activeElement;C?.tagName==="INPUT"||C?.tagName==="TEXTAREA"||C instanceof HTMLElement&&C.isContentEditable||(g.key==="j"||g.key==="J"?(g.preventDefault(),l("down")):(g.key==="k"||g.key==="K")&&(g.preventDefault(),l("up")))}return window.addEventListener("keydown",k),()=>{window.removeEventListener("keydown",k)}}),{navigateItems:l,getCurrentItemIndex:i,handleNextItem:d,handlePreviousItem:c}}const jr="inboxWidth",Br=400,Yn=175;function Qn(){const F=pt({inboxWidth:Br});Ve(()=>{const l=parseInt(localStorage.getItem(jr)||String(Br));F.inboxWidth=l});function e(l){F.inboxWidth=l,localStorage.setItem(jr,l.toString())}function o(){e(Yn)}return{get inboxWidth(){return F.inboxWidth},handleInboxWidthChange:e,handleClose:o}}var Jn=u('<div class="text-center py-readable-quote"><p class="text-error mb-4"> </p> <button type="button" class="px-4 py-2 bg-accent-primary text-white rounded-md hover:bg-accent-hover transition-colors">Reload Page</button></div>'),Xn=u('<p class="text-error text-sm mt-2"> </p>'),Zn=u('<p class="text-success text-sm mt-2">Sync completed successfully!</p>'),$n=u('<div class="text-center py-readable-quote"><p class="text-secondary mb-4">No items in inbox.</p> <button type="button" class="px-4 py-2 bg-accent-primary text-white rounded-md hover:bg-accent-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors"> </button> <!> <!></div>'),ei=u('<div class="flex flex-col gap-inbox-list"></div>'),ti=u('<div class="bg-surface h-full flex flex-col overflow-hidden border-r border-base"><!> <div class="flex-1 overflow-y-auto"><div class="p-inbox-container"><!></div></div></div>'),ri=u('<div class="p-inbox-container text-center py-12"><div class="text-6xl mb-4"></div> <p class="text-secondary">Select an item to view details</p></div>'),oi=u('<!> <div class="flex-1 bg-elevated overflow-y-auto"><!></div>',1),si=u('<div class="flex-1 bg-elevated overflow-y-auto h-full w-full"><!></div>'),ai=u('<div class="text-center py-readable-quote"><p class="text-error mb-4"> </p> <button type="button" class="px-4 py-2 bg-accent-primary text-white rounded-md hover:bg-accent-hover transition-colors">Reload Page</button></div>'),ni=u('<p class="text-error text-sm mt-2"> </p>'),ii=u('<p class="text-success text-sm mt-2">Sync completed successfully!</p>'),li=u('<div class="text-center py-readable-quote"><p class="text-secondary mb-4">No items in inbox.</p> <button type="button" class="px-4 py-2 bg-accent-primary text-white rounded-md hover:bg-accent-hover disabled:opacity-50 disabled:cursor-not-allowed transition-colors"> </button> <!> <!></div>'),di=u('<div class="flex flex-col gap-inbox-list"></div>'),ci=u('<div class="flex-1 bg-surface h-full flex flex-col overflow-hidden"><!> <div class="flex-1 overflow-y-auto"><div class="p-inbox-container"><!></div></div></div>'),ui=u('<div class="h-full flex overflow-hidden"><!></div>');function Di(F,e){Te(e,!0);const o=io(),l={getInboxItemWithDetails:Dt("inbox:getInboxItemWithDetails"),syncReadwiseHighlights:Dt("syncReadwise:syncReadwiseHighlights"),getSyncProgress:Dt("inbox:getSyncProgress")},i=Wn(),d=zn(o,l),c=Un(()=>i.filteredItems,()=>d.selectedItemId,se=>d.selectItem(se)),k=Qn(),g=_o("sidebar"),C=qn(o,l,void 0,d.clearSelection),B=x(()=>g?.sidebarCollapsed??!1),I=x(()=>g?.isMobile??!1);function P(){console.log("Delete all clicked")}function L(){console.log("Delete all read clicked")}function G(){console.log("Delete all completed clicked")}function H(){console.log("Sort clicked")}var z=ui(),O=a(z);{var X=se=>{var V=oi(),pe=w(V);No(pe,{get initialWidth(){return k.inboxWidth},minWidth:200,maxWidth:600,get onWidthChange(){return k.handleInboxWidthChange},get onClose(){return k.handleClose},children:(M,R)=>{var U=ti(),ie=a(U);{let y=x(()=>g?.onSidebarToggle);Hr(ie,{get currentFilter(){return i.filterType},onFilterChange:_=>i.setFilter(_,d.clearSelection),onDeleteAll:P,onDeleteAllRead:L,onDeleteAllCompleted:G,onSortClick:H,get onSync(){return C.handleSyncClick},get isSyncing(){return C.isSyncing},get sidebarCollapsed(){return t(B)},get onSidebarToggle(){return t(y)},get isMobile(){return t(I)},get inboxCount(){return i.filteredItems.length}})}var ve=n(ie,2),J=a(ve),h=a(J);{var D=y=>{Vr(y,{message:"Loading inbox items..."})},f=y=>{var _=Q(),K=w(_);{var E=q=>{var A=Jn(),b=a(A),T=a(b);s(b);var N=n(b,2);N.__click=()=>window.location.reload(),s(A),oe(ne=>ce(T,`Failed to load inbox items: ${ne??""}`),[()=>i.queryError.toString()]),r(q,A)},re=q=>{var A=Q(),b=w(A);{var T=ne=>{var le=$n(),Ie=n(a(le),2);Ie.__click=function(...Oe){C.handleSyncClick?.apply(this,Oe)};var Pe=a(Ie,!0);s(Ie);var Ae=n(Ie,2);{var Fe=Oe=>{var $e=Xn(),mt=a($e,!0);s($e),oe(()=>ce(mt,C.syncError)),r(Oe,$e)};m(Ae,Oe=>{C.syncError&&Oe(Fe)})}var Ke=n(Ae,2);{var dt=Oe=>{var $e=Zn();r(Oe,$e)};m(Ke,Oe=>{C.syncSuccess&&Oe(dt)})}s(le),oe(()=>{Ie.disabled=C.isSyncing,ce(Pe,C.isSyncing?"Syncing...":"Sync Readwise Highlights")}),r(ne,le)},N=ne=>{var le=ei();We(le,21,()=>i.filteredItems,Qe,(Ie,Pe)=>{{let Ae=x(()=>d.selectedItemId===t(Pe)._id);Lr(Ie,{get item(){return t(Pe)},get selected(){return t(Ae)},onClick:()=>d.selectItem(t(Pe)._id)})}}),s(le),r(ne,le)};m(b,ne=>{i.filteredItems.length===0?ne(T):ne(N,!1)},!0)}r(q,A)};m(K,q=>{i.queryError?q(E):q(re,!1)},!0)}r(y,_)};m(h,y=>{i.isLoading?y(D):y(f,!1)})}s(J),s(ve),s(U),r(M,U)},$$slots:{default:!0}});var te=n(pe,2),ee=a(te);{var ae=M=>{var R=Q(),U=w(R);Ir(U,()=>d.selectedItem._id,ie=>{var ve=Q(),J=w(ve);{var h=f=>{{let y=x(()=>c.getCurrentItemIndex());Mr(f,{get inboxItemId(){return d.selectedItemId},get item(){return d.selectedItem},get onClose(){return d.clearSelection},get currentIndex(){return t(y)},get totalItems(){return i.filteredItems.length},get onNext(){return c.handleNextItem},get onPrevious(){return c.handlePreviousItem}})}},D=f=>{var y=Q(),_=w(y);{var K=re=>{Rr(re,{get item(){return d.selectedItem},get onClose(){return d.clearSelection}})},E=re=>{var q=Q(),A=w(q);{var b=T=>{Er(T,{get item(){return d.selectedItem},get onClose(){return d.clearSelection}})};m(A,T=>{d.selectedItem.type==="manual_text"&&T(b)},!0)}r(re,q)};m(_,re=>{d.selectedItem.type==="photo_note"?re(K):re(E,!1)},!0)}r(f,y)};m(J,f=>{d.selectedItem.type==="readwise_highlight"?f(h):f(D,!1)})}r(ie,ve)}),r(M,R)},fe=M=>{var R=Q(),U=w(R);{var ie=J=>{Fn(J,{get onImport(){return C.handleImport},get onCancel(){return C.handleCancelSync}})},ve=J=>{var h=Q(),D=w(h);{var f=_=>{Vn(_,{get step(){return C.syncProgress.step},get current(){return C.syncProgress.current},get total(){return C.syncProgress.total},get message(){return C.syncProgress.message},get onCancel(){return C.handleCancelSync}})},y=_=>{var K=ri();r(_,K)};m(D,_=>{C.syncProgress?_(f):_(y,!1)},!0)}r(J,h)};m(U,J=>{C.showSyncConfig?J(ie):J(ve,!1)},!0)}r(M,R)};m(ee,M=>{d.selectedItem&&d.selectedItemId?M(ae):M(fe,!1)})}s(te),r(se,V)},Z=se=>{var V=Q(),pe=w(V);{var te=ae=>{var fe=si(),M=a(fe);{var R=U=>{var ie=Q(),ve=w(ie);Ir(ve,()=>d.selectedItem._id,J=>{var h=Q(),D=w(h);{var f=_=>{Mr(_,{get item(){return d.selectedItem},get onClose(){return d.clearSelection}})},y=_=>{var K=Q(),E=w(K);{var re=A=>{Rr(A,{get item(){return d.selectedItem},get onClose(){return d.clearSelection}})},q=A=>{var b=Q(),T=w(b);{var N=ne=>{Er(ne,{get item(){return d.selectedItem},get onClose(){return d.clearSelection}})};m(T,ne=>{d.selectedItem.type==="manual_text"&&ne(N)},!0)}r(A,b)};m(E,A=>{d.selectedItem.type==="photo_note"?A(re):A(q,!1)},!0)}r(_,K)};m(D,_=>{d.selectedItem.type==="readwise_highlight"?_(f):_(y,!1)})}r(J,h)}),r(U,ie)};m(M,U=>{d.selectedItem&&U(R)})}s(fe),r(ae,fe)},ee=ae=>{var fe=ci(),M=a(fe);{let h=x(()=>g?.onSidebarToggle);Hr(M,{get currentFilter(){return i.filterType},onFilterChange:D=>i.setFilter(D,d.clearSelection),onDeleteAll:P,onDeleteAllRead:L,onDeleteAllCompleted:G,onSortClick:H,get onSync(){return C.handleSyncClick},get isSyncing(){return C.isSyncing},get sidebarCollapsed(){return t(B)},get onSidebarToggle(){return t(h)},get isMobile(){return t(I)},get inboxCount(){return i.filteredItems.length}})}var R=n(M,2),U=a(R),ie=a(U);{var ve=h=>{Vr(h,{message:"Loading inbox items..."})},J=h=>{var D=Q(),f=w(D);{var y=K=>{var E=ai(),re=a(E),q=a(re);s(re);var A=n(re,2);A.__click=()=>window.location.reload(),s(E),oe(b=>ce(q,`Failed to load inbox items: ${b??""}`),[()=>i.queryError.toString()]),r(K,E)},_=K=>{var E=Q(),re=w(E);{var q=b=>{var T=li(),N=n(a(T),2);N.__click=function(...Fe){C.handleSyncClick?.apply(this,Fe)};var ne=a(N,!0);s(N);var le=n(N,2);{var Ie=Fe=>{var Ke=ni(),dt=a(Ke,!0);s(Ke),oe(()=>ce(dt,C.syncError)),r(Fe,Ke)};m(le,Fe=>{C.syncError&&Fe(Ie)})}var Pe=n(le,2);{var Ae=Fe=>{var Ke=ii();r(Fe,Ke)};m(Pe,Fe=>{C.syncSuccess&&Fe(Ae)})}s(T),oe(()=>{N.disabled=C.isSyncing,ce(ne,C.isSyncing?"Syncing...":"Sync Readwise Highlights")}),r(b,T)},A=b=>{var T=di();We(T,21,()=>i.filteredItems,Qe,(N,ne)=>{Lr(N,{get item(){return t(ne)},selected:!1,onClick:()=>d.selectItem(t(ne)._id)})}),s(T),r(b,T)};m(re,b=>{i.filteredItems.length===0?b(q):b(A,!1)},!0)}r(K,E)};m(f,K=>{i.queryError?K(y):K(_,!1)},!0)}r(h,D)};m(ie,h=>{i.isLoading?h(ve):h(J,!1)})}s(U),s(R),s(fe),r(ae,fe)};m(pe,ae=>{d.selectedItemId?ae(te):ae(ee,!1)})}r(se,V)};m(O,se=>{t(I)?se(Z,!1):se(X)})}s(z),r(F,z),Ne()}it(["click"]);export{Di as component};
