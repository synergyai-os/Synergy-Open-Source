import{d as W,f as A,a as u,t as T,c as Y}from"../chunks/ClEwQIZJ.js";import{o as Z}from"../chunks/QKLj4cNN.js";import{p as $,T as y,U as ee,c as a,s as n,t as P,a as te,V as t,j as o,r,X as se,f as ae}from"../chunks/kOT-I_MI.js";import{s as f}from"../chunks/LC4C1fji.js";import{i as x}from"../chunks/SF-wfan-.js";import{u as re,m as ie}from"../chunks/CmDhudRb.js";var oe=A('<div class="bg-destructive/10 border border-destructive rounded-lg p-4 mb-6"><p class="text-destructive font-medium">Error</p> <p class="text-sm text-destructive mt-1"> </p></div>'),ne=A('<div class="bg-base border border-border-elevated rounded-lg p-6"><p class="font-medium text-primary mb-3">Response</p> <pre class="text-sm text-secondary whitespace-pre-wrap font-mono bg-base border border-border rounded p-4 overflow-x-auto"> </pre></div>'),de=A('<div class="h-full overflow-y-auto p-inbox-container"><div class="max-w-4xl mx-auto"><h1 class="text-2xl font-bold text-primary mb-2">Readwise API Test</h1> <p class="text-secondary mb-6">Quick test page to validate Readwise API integration. This is a learning/development page.</p> <div class="bg-base border border-border-elevated rounded-lg p-4 mb-6"><div class="flex items-center justify-between"><div><p class="font-medium text-primary mb-1">API Key Status</p> <p class="text-sm text-secondary"><!></p></div></div></div> <div class="bg-base border border-border-elevated rounded-lg p-6 mb-6"><p class="font-medium text-primary mb-4">Test Actions</p> <div class="flex flex-wrap gap-3"><button type="button" class="px-4 py-2 bg-accent-primary text-accent-primary-foreground rounded-md hover:bg-accent-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed"> </button> <button type="button" class="px-4 py-2 bg-accent-primary text-accent-primary-foreground rounded-md hover:bg-accent-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed"> </button> <button type="button" class="px-4 py-2 bg-accent-primary text-accent-primary-foreground rounded-md hover:bg-accent-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed"> </button></div></div> <!> <!> <div class="mt-6 bg-base border border-border-elevated rounded-lg p-6"><p class="font-medium text-primary mb-2">ðŸ“š How to Use</p> <ul class="list-disc list-inside space-y-1 text-sm text-secondary"><li>Click "Test Connection" to verify API key is valid</li> <li>Click "Fetch Highlights" to test fetching your highlights</li> <li>Click "Fetch Books" to test fetching your books</li> <li>This is a quick & dirty test page for development</li></ul></div></div></div>');function ge(K,S){$(S,!0);let d=y(null),i=y(!1),l=y(null);const F=re();let v=y(ee({isLoading:!0,data:null}));Z(async()=>{if(!F){t(v,{isLoading:!1,data:null},!0);return}try{const e=ie("settings:getUserSettings"),s=await F.query(e,{});t(v,{isLoading:!1,data:s?{hasReadwiseKey:s.hasReadwiseKey||!1}:null},!0)}catch{t(v,{isLoading:!1,data:null},!0)}});async function U(){t(i,!0),t(l,null),t(d,null);try{await new Promise(e=>setTimeout(e,1e3)),t(d,`âœ… Readwise API Test Response (placeholder)

This is a placeholder response. Actual Readwise API integration coming soon.

Test: Fetching highlights and books from Readwise...`)}catch(e){t(l,e instanceof Error?e.message:"Failed to test Readwise API",!0)}finally{t(i,!1)}}async function j(){t(i,!0),t(l,null),t(d,null);try{await new Promise(e=>setTimeout(e,1e3)),t(d,`âœ… Readwise Highlights Test (placeholder)

This would fetch your highlights from Readwise.

Test successful!`)}catch(e){t(l,e instanceof Error?e.message:"Failed to fetch highlights",!0)}finally{t(i,!1)}}async function q(){t(i,!0),t(l,null),t(d,null);try{await new Promise(e=>setTimeout(e,1e3)),t(d,`âœ… Readwise Books Test (placeholder)

This would fetch your books from Readwise.

Test successful!`)}catch(e){t(l,e instanceof Error?e.message:"Failed to fetch books",!0)}finally{t(i,!1)}}var w=de(),I=a(w),_=n(a(I),4),C=a(_),L=a(C),H=n(a(L),2),G=a(H);{var M=e=>{var s=T("Loading...");u(e,s)},Q=e=>{var s=Y(),c=ae(s);{var b=p=>{var R=T("âœ… Readwise API key is configured");u(p,R)},O=p=>{var R=T("âš ï¸ Readwise API key not configured. Go to Settings to add your API key.");u(p,R)};x(c,p=>{o(v).data?.hasReadwiseKey?p(b):p(O,!1)},!0)}u(e,s)};x(G,e=>{o(v).isLoading?e(M):e(Q,!1)})}r(H),r(L),r(C),r(_);var k=n(_,2),B=n(a(k),2),m=a(B);m.__click=U;var V=a(m,!0);r(m);var g=n(m,2);g.__click=j;var X=a(g,!0);r(g);var h=n(g,2);h.__click=q;var z=a(h,!0);r(h),r(B),r(k);var E=n(k,2);{var D=e=>{var s=oe(),c=n(a(s),2),b=a(c,!0);r(c),r(s),P(()=>f(b,o(l))),u(e,s)};x(E,e=>{o(l)&&e(D)})}var J=n(E,2);{var N=e=>{var s=ne(),c=n(a(s),2),b=a(c,!0);r(c),r(s),P(()=>f(b,o(d))),u(e,s)};x(J,e=>{o(d)&&e(N)})}se(2),r(I),r(w),P(()=>{m.disabled=o(i),f(V,o(i)?"Testing...":"Test Connection"),g.disabled=o(i),f(X,o(i)?"Fetching...":"Fetch Highlights"),h.disabled=o(i),f(z,o(i)?"Fetching...":"Fetch Books")}),u(K,w),te()}W(["click"]);export{ge as component};
