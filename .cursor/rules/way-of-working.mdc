---
alwaysApply: true
---
# SynergyOS - AI Assistant Guide

**The Open-Source Product OS** - An open-source, modular platform for product discovery, delivery, and team collaboration with AI coaching.

---

## üìö Documentation Hierarchy (Where to Find What)

**Master Docs = Source of Truth** (human-reviewed, minimal, stable)
**All Other Docs = AI-Maintained** (patterns, rules, grow over time)

### Master Documentation (`dev-docs/master-docs/`)

| Doc | When to Reference | Key Content |
|-----|-------------------|-------------|
| `design-system.md` | Building UI, styling, components | Tokens, recipes, visual principles, dark mode |
| `architecture.md` | System design, tech decisions | SvelteKit, Convex, auth, modules, composables |
| `product-vision.md` | Understanding product direction | The Product OS, problems we solve, differentiators |
| `product-strategy.md` | Prioritization, roadmap context | Outcome-driven themes, success signals |
| `target-personas.md` | User needs, feature decisions | Agency Partner, Client, jobs-to-be-done |

### Working Documentation (`dev-docs/2-areas/`)

| Area | Purpose | When to Use |
|------|---------|-------------|
| `patterns/INDEX.md` | **Quick problem lookup** | Debugging, fixing issues, learning from past |
| `patterns/*.md` | Domain-specific solutions | Svelte reactivity, UI patterns, design system |

### Rules (`.cursor/rules/`)

| Rule | Scope | Purpose |
|------|-------|---------|
| `design-tokens-enforcement.mdc` | `.svelte`, `.css`, recipes | **ENFORCES** token usage, no hardcoding |
| `svelte-typescript-patterns.mdc` | `.svelte`, `.ts` | Svelte 5 best practices, composables |
| `working-with-linear.mdc` | Linear operations | Ticket workflow, constants |
| `posthog-integration.mdc` | Analytics | PostHog tracking rules |

### Commands (`.cursor/commands/`)

| Command | When to Use |
|---------|-------------|
| `/start` | Starting a new task, ticket creation |
| `/save` | Capturing learnings, updating patterns |
| `/match-design-system` | Refactoring components to design system |

---

## üéØ Quick Reference by Task

### Building UI Components

1. **Read First**: `dev-docs/master-docs/design-system.md`
2. **Rule Applied**: `design-tokens-enforcement.mdc` (automatic for .svelte files)
3. **Patterns**: `dev-docs/2-areas/patterns/design-system-patterns.md`
4. **Workflow**: `/match-design-system` command

**Key Principles**:
- ‚úÖ Use recipe system (CVA) for variants
- ‚úÖ Use semantic tokens (`bg-surface`, `gap-button`)
- ‚ùå Never hardcode values (`px-4`, `bg-gray-500`)

### Fixing Bugs / Debugging

1. **Start Here**: `dev-docs/2-areas/patterns/INDEX.md`
2. **Search by symptom** in patterns/
3. **Apply fix** from canonical pattern

### Understanding Product Direction

1. **Vision**: `dev-docs/master-docs/product-vision.md`
2. **Strategy**: `dev-docs/master-docs/product-strategy.md`
3. **Users**: `dev-docs/master-docs/target-personas.md`

### Architecture / System Design

1. **Read**: `dev-docs/master-docs/architecture.md`
2. **Module boundaries**, **composables**, **auth flow**

### Capturing Knowledge (`/save`)

1. **Search patterns first** (mandatory deduplication)
2. **Enhance existing** or **consolidate duplicates**
3. **Add Keywords field** for discoverability
4. **One canonical pattern per concept**

---

## üõ†Ô∏è Tech Stack Quick Reference

- **Frontend**: SvelteKit 5 + TypeScript + Svelte 5 Runes
- **UI**: Bits UI (headless) + Tailwind CSS 4 + Semantic Design Tokens
- **Backend**: Convex (real-time database & serverless)
- **Mobile**: Capacitor 7 (iOS)
- **Auth**: WorkOS AuthKit

---

## ‚ö° Key Rules (Always Apply)

### üö® NEVER Create or Edit CSS Utility Files

```
src/styles/utilities/*.css  ‚Üê AUTO-GENERATED - NEVER EDIT OR CREATE
```

**If you need a new utility:**
1. Add token to `design-tokens-semantic.json`
2. Run `npm run tokens:build`
3. Utility is auto-generated

### Design Tokens (MANDATORY)

```svelte
<!-- ‚úÖ CORRECT: Token-based utilities -->
<div class="bg-surface text-primary px-button gap-button rounded-button">

<!-- ‚ùå WRONG: Hardcoded values -->
<div class="bg-gray-100 text-gray-900 px-4 gap-2 rounded-lg">
```

### Svelte 5 Patterns

```svelte
<script lang="ts">
  // ‚úÖ Props with $props()
  let { variant = 'default', className = '' } = $props();
  
  // ‚úÖ Derived with array syntax
  const classes = $derived([recipe({ variant }), className]);
</script>
```

### Pattern Documentation

When saving patterns:
1. **Search 3+ variations** before adding
2. **Merge duplicates** into canonical pattern
3. **Include Keywords** field for grep discoverability
4. **One pattern per concept** - pattern count should stay stable or decrease

---

## üìã Before Starting Any Task

1. **Identify discipline**: UI? Architecture? Product? Bug fix?
2. **Reference master doc** (if exists for discipline)
3. **Check patterns** for existing solutions
4. **Use Context7** for library-specific docs (Svelte, Convex, Bits UI)

---

**Last Updated**: 2025-01-27
