@import 'tailwindcss';

/* Screen reader only utility - for accessibility */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border-width: 0;
}

/* Design Tokens - Custom theme values */
@theme {
	/* ============================================
	   BASE SPACING SCALE - 4px base unit
	   Source: design-system.json line 96-107
	   ============================================ */

	/* These are the ONLY hardcoded spacing values */
	/* All semantic tokens (below) can reference these for consistency */
	--spacing-0: 0; /* 0px */
	--spacing-1: 0.25rem; /* 4px = xs */
	--spacing-2: 0.5rem; /* 8px = sm */
	--spacing-3: 0.75rem; /* 12px */
	--spacing-4: 1rem; /* 16px = md */
	--spacing-5: 1.25rem; /* 20px */
	--spacing-6: 1.5rem; /* 24px = lg */
	--spacing-chart-container: 1.5rem; /* 24px - mt-6 equivalent - margin-top for chart containers */
	--spacing-chart-height: 5rem; /* 80px - h-20 equivalent - fixed height for chart containers */
	--spacing-chart-bar-gap: 0.25rem; /* 4px - gap-1 equivalent - gap between chart bars */
	--spacing-chart-item-gap: 0.375rem; /* 6px - gap-1.5 equivalent - gap between chart legend items */
	--spacing-8: 2rem; /* 32px = xl */
	--spacing-10: 2.5rem; /* 40px */
	--spacing-12: 3rem; /* 48px = 2xl */

	/* Error Page Spacing Tokens */
	--spacing-error-page-y: 3rem; /* 48px - py-12 equivalent - vertical padding for error pages */
	--spacing-error-page-gap: 1.5rem; /* 24px - space-y-6 equivalent - gap between error page sections */
	--spacing-card-compact: 0.75rem; /* 12px - p-3 equivalent - compact card padding */
	--spacing-16: 4rem; /* 64px = 3xl */
	--spacing-20: 5rem; /* 80px */
	--spacing-24: 6rem; /* 96px = 4xl */
	--spacing-28: 7rem; /* 112px */
	--spacing-32: 8rem; /* 128px = 5xl */

	/* Custom text sizes */
	--text-label: 0.625rem; /* 10px - for badges, labels, small text */
	/* Usage: class="text-label" */

	/* Typography - Readability Tokens */
	/* Optimized for ADHD/focus-challenged users and general readability */
	--line-height-readable: 1.75; /* Optimal line-height for comfortable reading (prevents visual crowding) */
	--letter-spacing-readable: 0; /* Normal letter spacing (tracking-normal) - not too tight */
	--max-width-readable: 42rem; /* 672px - Optimal reading width (65-75 characters per line) */
	/* Usage: leading-readable, tracking-readable, max-w-readable */

	/* Readability Spacing Tokens */
	--spacing-readable-quote-y: 2rem; /* 32px - py-8 equivalent - Vertical padding for quote/highlight containers */
	/* Usage: py-readable-quote */

	/* Semantic Spacing Tokens - Based on 4px base unit (0.25rem) */
	/* Scale: 1 = 4px, 2 = 8px, 3 = 12px, 4 = 16px, 5 = 20px, 6 = 24px */
	--spacing-nav-container-x: 0.5rem; /* 8px - px-2 equivalent */
	--spacing-nav-container-y: 0.5rem; /* 8px - py-2 equivalent */
	--spacing-nav-item-x: 0.5rem; /* 8px - px-2 equivalent */
	--spacing-nav-item-y: 0.375rem; /* 6px - py-1.5 equivalent */
	--spacing-menu-item-x: 0.625rem; /* 10px - px-2.5 equivalent */
	--spacing-menu-item-y: 0.375rem; /* 6px - py-1.5 equivalent */
	--spacing-section-x: 0.5rem; /* 8px - px-2 equivalent */
	--spacing-section-y: 0.25rem; /* 4px - py-1 equivalent */
	--spacing-badge-x: 0.375rem; /* 6px - px-1.5 equivalent */
	--spacing-badge-y: 0.125rem; /* 2px - py-0.5 equivalent */
	--spacing-header-x: 0.75rem; /* 12px - px-3 equivalent */
	--spacing-header-y: 0.625rem; /* 10px - py-2.5 equivalent */
	--spacing-icon-gap: 0.5rem; /* 8px - gap-2 equivalent */
	--spacing-icon-gap-wide: 0.625rem; /* 10px - gap-2.5 equivalent */
	--spacing-indent: 1.5rem; /* 24px - pl-6 equivalent for nested/indented items */

	/* System-Level Spacing Tokens - Base tokens used across entire app */
	--spacing-system-header-y: 0.75rem; /* 12px - py-3 equivalent - vertical padding for header/footer borders */
	--spacing-system-content-y: var(
		--spacing-system-header-y
	); /* 12px - references system header - vertical padding for content areas between borders */
	--spacing-system-header-height: 4rem; /* 64px - FIXED total height for all headers - ensures border alignment regardless of content height */

	/* Inbox Spacing Tokens */
	--spacing-inbox-container: 1rem; /* 16px - p-4 equivalent */
	--spacing-inbox-card-x: 0.75rem; /* 12px - px-3 equivalent */
	--spacing-inbox-card-y: 0.75rem; /* 12px - py-3 equivalent */
	--spacing-inbox-card-y-compact: 0.5rem; /* 8px - py-2 equivalent - compact card padding */
	--spacing-inbox-list-gap: 0.5rem; /* 8px - gap-2 equivalent */
	--spacing-inbox-icon-gap: 0.5rem; /* 8px - gap-2 equivalent */
	--spacing-inbox-title-bottom: 1rem; /* 16px - mb-4 equivalent */
	--spacing-inbox-header-x: 1rem; /* 16px - px-4 equivalent */
	--spacing-inbox-header-y: calc(
		var(--spacing-system-header-y) + 0.25rem
	); /* 16px - system header + 4px to match SidebarHeader total height */

	/* Settings Spacing Tokens */
	--spacing-settings-section-gap: 1.5rem; /* 24px - gap-6 equivalent - gap between section cards */
	--spacing-settings-row-gap: 1rem; /* 16px - gap-4 equivalent - vertical gap between setting rows */
	--spacing-settings-row-padding-x: 1rem; /* 16px - px-4 equivalent - horizontal padding for setting rows */
	--spacing-settings-row-padding-y: 1rem; /* 16px - py-4 equivalent - vertical padding for setting rows */

	/* Modal & Form Spacing Tokens */
	--spacing-modal-padding: 1.5rem; /* 24px - p-6 equivalent - padding for modal content */
	--spacing-form-field-gap: 0.5rem; /* 8px - gap-2 equivalent - gap between label and input */
	--spacing-form-section-gap: 1rem; /* 16px - gap-4 equivalent - gap between form sections */
	--spacing-input-x: 0.75rem; /* 12px - px-3 equivalent - horizontal padding for inputs */
	--spacing-input-y: 0.625rem; /* 10px - py-2.5 equivalent - vertical padding for inputs */
	/* Button Component Tokens - Consolidated (Nov 2025) */
	/* Updated to match design-system.json specification (8px radius, 12px√ó24px padding) */
	--spacing-button-group: 0.5rem; /* 8px - gap-2 equivalent - gap between buttons in action group */
	--spacing-button-x: var(
		--spacing-6
	); /* 24px - FIXED: Was 48px (3rem bug), now correct per design-system.json line 154 */
	--spacing-button-y: 0.75rem; /* 12px - py-button-y equivalent - vertical padding for buttons */
	--border-radius-button: 0.5rem; /* 8px - rounded-button equivalent - button border radius */
	--font-size-button: 0.875rem; /* 14px - text-button equivalent - button font size */
	--font-weight-button: 600; /* Button font weight */
	--spacing-button-icon: 0.75rem; /* 12px - p-button-icon equivalent - square padding for icon-only buttons (matches py-button-y for height alignment) */
	--size-button-height: 2.75rem; /* 44px - min-h-button equivalent - minimum button height (accessibility requirement) */

	/* Backward Compatibility - DEPRECATED - Remove by Dec 2025 */
	--spacing-button-x-legacy: 1rem; /* @deprecated Old value: 16px - Update to use --spacing-button-x (24px) */
	--spacing-button-y-legacy: 0.625rem; /* @deprecated Old value: 10px - Update to use --spacing-button-y (12px) */
	--border-radius-button-legacy: 0.375rem; /* @deprecated Old value: 6px - Update to use --border-radius-button (8px) */

	--spacing-content-padding: 1.5rem; /* 24px - p-6 equivalent - general content padding */
	--spacing-content-section: 1rem; /* 16px - gap-4 equivalent - gap between content sections */

	/* Control Panel Spacing Tokens */
	--spacing-control-panel-padding: 0.75rem; /* 12px - padding for panel container */
	--spacing-control-group-gap: 0.5rem; /* 8px - gap between control groups */
	--spacing-control-item-gap: 0.25rem; /* 4px - gap between buttons in group */
	--spacing-control-button-padding: 0.5rem; /* 8px - square button padding */
	--spacing-control-divider: 0.5rem; /* 8px - margin around dividers */

	/* PIN Input Size Tokens */
	--size-pin-cell: 4rem; /* 64px - square size for PIN input cells */
	--size-pin-cell-text: 2rem; /* 32px - text size inside PIN cells */
	--shadow-pin-glow: 0 0 0 3px var(--color-accent-primary) / 0.15; /* Glow effect for focused PIN cells */

	/* Marketing Page Spacing Tokens */
	/* Use these for all marketing/content pages (landing pages, blog posts, documentation) */
	--spacing-marketing-section-y: 7rem; /* 112px - Section vertical padding (top and bottom) */
	--spacing-marketing-section-gap: 5rem; /* 80px - Gap between major sections (when stacked) */
	--spacing-marketing-container-x: 1.5rem; /* 24px - Page horizontal padding (mobile/desktop) */
	--spacing-marketing-title-to-lead: 1.5rem; /* 24px - H2 to lead paragraph spacing */
	--spacing-marketing-lead-to-content: 3rem; /* 48px - Lead paragraph to content spacing */
	--spacing-marketing-card-padding: 2.5rem; /* 40px - Card internal padding */
	--spacing-marketing-card-gap: 2rem; /* 32px - Gap between cards in grid */
	--spacing-marketing-element-gap: 1.5rem; /* 24px - Gap between related elements (badges, buttons) */
	--spacing-marketing-text-gap: 1rem; /* 16px - Gap between text elements (title to description) */
	--spacing-marketing-hero-y: 5rem; /* 80px - Hero section vertical padding (top) */
	--spacing-marketing-hero-bottom: 8rem; /* 128px - Hero section vertical padding (bottom - extended) */
	--spacing-marketing-cta-gap: 1rem; /* 16px - Gap between CTA buttons */
	--spacing-marketing-badge-gap: 0.75rem; /* 12px - Gap between trust badges */
	--spacing-marketing-list-gap: 0.875rem; /* 14px - Gap between list items (bullet points, checkmarks) */

	/* Card Component Tokens */
	--border-radius-card: 0.875rem; /* 14px - rounded-card equivalent - card border radius (12-16px range) */
	--shadow-card: 0 2px 8px rgb(0 0 0 / 0.08), 0 1px 2px rgb(0 0 0 / 0.04); /* Card shadow */
	--shadow-card-hover:
		0 4px 16px rgb(0 0 0 / 0.12), 0 2px 4px rgb(0 0 0 / 0.06); /* Card hover shadow */
	--spacing-card-padding-x: 1.25rem; /* 20px - px-card equivalent - card horizontal padding */
	--spacing-card-padding-y: 1.25rem; /* 20px - py-card equivalent - card vertical padding */

	/* Badge Component Tokens */
	--border-radius-badge: 0.25rem; /* 4px - rounded-badge equivalent - badge border radius */
	--font-size-badge: 0.75rem; /* 12px - text-badge equivalent - badge font size */
	--font-weight-badge: 500; /* Badge font weight */
	--min-width-badge: var(
		--size-icon-md
	); /* 1.25rem - min-w-badge equivalent - minimum width for keyboard shortcut badges */

	/* Chip Component Tokens */
	/* Interactive removable filter pills - separate from Badge (static status indicators) */
	/* Compact design matching Linear's minimal filter pills */
	--spacing-chip-x: var(--spacing-2); /* 8px - references base scale (SYOS-403) */
	--spacing-chip-y: 0.125rem; /* 2px - INTENTIONAL EXCEPTION: Not multiple of 4px, optimal for compact design */
	--spacing-chip-gap: var(--spacing-1); /* 4px - references base scale (SYOS-403) */
	--spacing-chip-close-padding: 0.125rem; /* 2px - INTENTIONAL EXCEPTION: Not multiple of 4px, optimal for compact close button */
	--border-radius-chip: 9999px; /* full - rounded-chip equivalent - pill shape for chips */
	--font-size-chip: 0.75rem; /* 12px - text-chip equivalent - compact font size (text-xs) */
	--font-weight-chip: 400; /* Chip font weight (lighter, less prominent) */

	/* Input Component Tokens */
	--border-radius-input: 0.125rem; /* 2px - rounded-sm equivalent - input border radius (subtle rounding) */

	/* Dialog Component Tokens */
	--max-width-dialog-default: 32rem; /* 512px - default dialog width */
	--max-width-dialog-wide: 56rem; /* 896px - wide dialog width (matches QuickCreateModal) */
	--border-radius-dialog: var(
		--border-radius-card
	); /* 14px - dialog border radius (same as cards) */
	--border-radius-dialog-fullscreen: 0; /* 0px - fullscreen dialog border radius (no rounding) */
	--min-width-dropdown: 11.25rem; /* 180px - min-w-dropdown equivalent - minimum width for dropdown menus */

	/* Accordion Component Tokens */
	--spacing-accordion-padding-x: 1rem; /* 16px - px-accordion equivalent - accordion horizontal padding */
	--spacing-accordion-padding-y: 0.75rem; /* 12px - py-accordion equivalent - accordion vertical padding */
	--spacing-accordion-gap: 0.5rem; /* 8px - gap-accordion equivalent - gap between accordion items */

	/* Container Spacing Tokens - Responsive */
	--spacing-container-x: 1rem; /* 16px mobile - px-container equivalent */
	--spacing-container-y: 1rem; /* 16px mobile - py-container equivalent */
	--max-width-container: 72rem; /* 1152px - max-w-container equivalent - max-w-6xl */

	/* Typography Scale Tokens */
	--font-size-h1: 2.25rem; /* 36px - text-h1 equivalent */
	--font-size-h2: 1.75rem; /* 28px - text-h2 equivalent */
	--font-size-h3: 1.25rem; /* 20px - text-h3 equivalent */
	--font-size-body: 1rem; /* 16px - text-body equivalent - base text size */
	--font-size-small: 0.875rem; /* 14px - text-small equivalent - small text (text-sm) */
	--font-size-error-status: 7.5rem; /* 120px - text-[120px] equivalent - large error status code display */
	--font-weight-h1: 700; /* Bold - Heading 1 font weight */
	--font-weight-h2: 600; /* Semibold - Heading 2 font weight */
	--font-weight-h3: 600; /* Semibold - Heading 3 font weight */

	/* Flashcard Typography Tokens - Large display text for flashcard content */
	--font-size-flashcard-question: 1.5rem; /* 24px - text-2xl equivalent - flashcard question text (mobile) */
	--font-size-flashcard-question-lg: 1.875rem; /* 30px - text-3xl equivalent - flashcard question text (desktop) */
	--font-size-flashcard-answer: 1.25rem; /* 20px - text-xl equivalent - flashcard answer text (mobile) */
	--font-size-flashcard-answer-lg: 1.5rem; /* 24px - text-2xl equivalent - flashcard answer text (desktop) */

	/* Icon Size Tokens */
	--size-icon-xs: 0.75rem; /* 12px - icon-xs equivalent - h-3 w-3 - for compact chips/close buttons */
	--size-icon-sm: 1rem; /* 16px - icon-sm equivalent - h-4 w-4 */
	--size-icon-md: 1.25rem; /* 20px - icon-md equivalent - h-5 w-5 */
	--size-icon-lg: 1.5rem; /* 24px - icon-lg equivalent - h-6 w-6 */
	--size-icon-xl: 2rem; /* 32px - icon-xl equivalent - h-8 w-8 */
	--size-quote-decoration: 5rem; /* 80px - size-quote-decoration equivalent - decorative quote mark size (h-20 w-20) */
	--size-keyboard-key: 3rem; /* 48px - size-keyboard-key equivalent - keyboard key container size (h-12 w-12) */

	/* Avatar Component Tokens (from design-system.json) */
	--size-avatar-sm: 2rem; /* 32px - h-8 w-8 equivalent */
	--size-avatar-md: 2.5rem; /* 40px - h-10 w-10 equivalent */
	--size-avatar-lg: 3rem; /* 48px - h-12 w-12 equivalent */
	--border-radius-avatar: 9999px; /* rounded-full - avatar border radius (perfect circle) */

	/* Tabs Component Tokens (from design-system.json) */
	--size-tab-height: 2.5rem; /* 40px - tab container height */
	--spacing-tab-padding-x: 0.75rem; /* 12px - tab item horizontal padding (px-3) */
	--spacing-tab-padding-y: 0.375rem; /* 6px - tab item vertical padding (py-1.5) */
	--border-radius-tab-container: 0.5rem; /* 8px - tab container border radius (rounded-md) */
	--border-radius-tab-item: 0.125rem; /* 2px - tab item border radius (rounded-sm) */

	/* Transition Tokens */
	--transition-default: all 0.2s ease; /* Standard transition for interactive elements */
	--transition-slow: all 0.3s ease-in-out; /* Slower transition for complex animations */
	--transition-fast: all 0.15s ease; /* Quick transition for hover states */
	--transition-colors:
		color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease; /* Color-only transitions */

	/* Unified Brand Color Tokens - Used throughout the app */
	/* These change automatically based on .dark class on <html> */
	--color-text-primary: oklch(20.8% 0.042 265.755); /* gray-900 light, white dark */
	--color-text-secondary: oklch(44.6% 0.043 257.281); /* gray-600 light, gray-300 dark */
	--color-text-tertiary: oklch(55.4% 0.046 257.417); /* gray-500 - same in both modes */
	--color-bg-base: oklch(100% 0 0); /* white light, gray-900 dark */
	--color-bg-surface: oklch(98.8% 0.002 264.531); /* gray-50 light, gray-800 dark */
	--color-bg-elevated: oklch(100% 0 0); /* white - cards, elevated surfaces */
	--color-border-base: oklch(92.8% 0.006 264.531); /* gray-200 light, gray-800 dark */
	--color-border-elevated: oklch(86.9% 0.022 252.894); /* gray-300 light, gray-700 dark */
	--color-accent-primary: oklch(55.4% 0.218 251.813); /* blue-600 - for selected states */
	--color-accent-hover: oklch(49.2% 0.218 251.813); /* blue-700 - hover state */
	--color-bg-hover: oklch(96.7% 0.003 264.542 / 0.5); /* gray-100/50 light, gray-800/50 dark */
	--color-bg-hover-solid: oklch(96.7% 0.003 264.542); /* gray-100 light, gray-800 dark */
	--color-bg-selected: oklch(55.4% 0.218 251.813); /* blue-600 - selected state */
	--color-toggle-off: oklch(86.9% 0.022 252.894); /* gray-300 light, gray-700 dark */
	--color-tag-bg: oklch(96.7% 0.003 264.542); /* gray-100 light, gray-700 dark */
	--color-tag-text: oklch(44.6% 0.043 257.281); /* gray-600 light, gray-300 dark */

	/* Error/Destructive Color Tokens */
	--color-error-bg: oklch(97% 0.013 25); /* red-50 light, red-900/20 dark */
	--color-error-border: oklch(64.8% 0.294 27.325); /* red-500 - error state border */
	--color-error-text: oklch(50% 0.227 27.325); /* red-700 - error text */
	--color-error-text-secondary: oklch(41.2% 0.2 27.325); /* red-800 - secondary error text */
	--color-error-hover: oklch(25% 0.05 27.325 / 0.2); /* red-900/20 - error hover background */
	--color-destructive-button: oklch(
		64.8% 0.294 27.325
	); /* red-600 - destructive button background */
	--color-destructive-button-hover: oklch(
		50% 0.227 27.325
	); /* red-700 - destructive button hover */

	/* Success Color Tokens */
	--color-success-text: oklch(40% 0.15 150); /* green-700 - success text */
	--color-success-bg: oklch(95% 0.05 150); /* green-50 - success background */

	/* Warning Color Tokens */
	--color-warning-text: oklch(70% 0.15 60); /* yellow-500 - warning text */
	--color-warning-text-high: oklch(60% 0.15 30); /* orange-500 - high warning text */

	/* Semantic Color Tokens - Sidebar Colors */
	/* These change automatically based on .dark class on <html> */
	--color-sidebar-bg: oklch(20% 0.002 247.839); /* gray-900 dark */
	--color-sidebar-border: oklch(27.9% 0.041 260.031); /* gray-800 dark */
	--color-sidebar-text-primary: oklch(98.5% 0.002 247.839); /* white/light */
	--color-sidebar-text-secondary: oklch(70.4% 0.04 256.788); /* gray-300 dark */
	--color-sidebar-text-tertiary: oklch(55.4% 0.046 257.417); /* gray-500 dark */
	--color-sidebar-hover: oklch(27.9% 0.041 260.031 / 0.5); /* gray-800/50 dark */
	--color-sidebar-hover-solid: oklch(27.9% 0.041 260.031); /* gray-800 dark */
	--color-sidebar-badge-bg: oklch(37.2% 0.044 257.287); /* gray-700 dark */
	--color-sidebar-badge-text: oklch(70.4% 0.04 256.788); /* gray-300 dark */
	--color-sidebar-active: oklch(27.9% 0.041 260.031); /* gray-800 dark - active state */

	/* Control Panel Color Tokens */
	--color-control-bg: var(--color-bg-elevated); /* Control panel background */
	--color-control-border: var(--color-border-base); /* Control panel border */
	--color-control-button-hover: var(--color-bg-hover-solid); /* Button hover */
	--color-control-button-active: var(--color-bg-selected); /* Active button */
	--color-control-divider: var(--color-border-base); /* Divider color */

	/* Code Block Color Tokens - Syntax Highlighting */
	--color-code-bg: var(--color-sidebar-bg); /* Code block background */
	--color-code-text: var(--color-sidebar-text-primary); /* Default text */
	--color-code-keyword: oklch(69% 0.17 10); /* Keywords (const, import, etc.) - warm red */
	--color-code-string: oklch(75% 0.12 220); /* Strings - blue */
	--color-code-number: oklch(70% 0.14 220); /* Numbers - lighter blue */
	--color-code-comment: var(--color-text-tertiary); /* Comments - muted */
	--color-code-function: oklch(75% 0.15 290); /* Functions - purple */
	--color-code-variable: oklch(70% 0.14 220); /* Variables - blue */
	--color-code-tag: oklch(70% 0.16 150); /* Tags - green */
	--color-code-badge-bg: var(--color-sidebar-badge-bg); /* Language badge bg */
	--color-code-badge-text: var(--color-sidebar-badge-text); /* Language badge text */

	/* Panel Stack Navigation Tokens - Hierarchical panel navigation */
	--spacing-panel-breadcrumb-width: 3rem; /* 48px - width of vertical breadcrumb bar */
	--spacing-panel-breadcrumb-padding: 0.75rem; /* 12px - padding inside breadcrumb */
	--spacing-sidebar-hover-zone: 0.5rem; /* 8px - width of sidebar hover zone when collapsed */
	--width-settings-sidebar: 17.875rem; /* 286px - fixed width for settings sidebar */
	--spacing-section-label-gap: 0.375rem; /* 6px - mb-1.5 equivalent - gap below section labels */
	--spacing-nav-item-y-compact: 0.125rem; /* 2px - space-y-0.5 equivalent - compact vertical spacing between nav items */
	--z-index-sidebar: 50; /* Sidebar z-index */
	--z-index-panel-backdrop-min: 51; /* Minimum z-index for backdrop (above sidebar z-50) */
	--z-index-panel-base: 60; /* Base z-index for first panel layer (increased to 60) */
	--z-index-panel-increment: 10; /* Increment per panel layer (60, 70, 80...) */
	--color-panel-breadcrumb-bg: var(--color-bg-surface); /* Breadcrumb bar background */
	--color-panel-breadcrumb-text: var(--color-text-tertiary); /* Vertical text color */
	--color-panel-breadcrumb-hover: var(--color-bg-hover-solid); /* Hover state */

	/* Meeting Component Tokens (from design-system.json) */
	--spacing-meeting-date-badge-width: 5rem; /* 80px - w-20 equivalent - date badge width in meeting cards */
	--spacing-meeting-card-gap: 0.5rem; /* 8px - gap-2 equivalent - gap between meeting card elements */
	--spacing-meeting-avatar-gap: 0.25rem; /* 4px - gap-1 equivalent - gap between avatar chips */
	--spacing-meeting-section-gap: 2rem; /* 32px - gap-8 equivalent - gap between meeting sections */
	--size-meeting-avatar-sm: 1.5rem; /* 24px - h-6 w-6 equivalent - small avatar in meetings */
	--size-meeting-avatar-md: 1.75rem; /* 28px - h-7 w-7 equivalent - medium avatar in meetings */
	--spacing-meeting-dropdown-width: 16rem; /* 256px - w-64 equivalent - dropdown menu width */
	--max-width-meeting-today-card: 18.75rem; /* 300px - max-w-[300px] equivalent - today meeting card max width */

	/* Flashcard Rating Color Tokens - FSRS spaced repetition buttons (from design-system.json) */
	--color-rating-again: oklch(64.8% 0.294 27.325); /* red-600 - Again button */
	--color-rating-again-hover: oklch(50% 0.227 27.325); /* red-700 - Again hover */
	--color-rating-hard: oklch(75% 0.15 60); /* orange-600 - Hard button */
	--color-rating-hard-hover: oklch(65% 0.14 60); /* orange-700 - Hard hover */
	--color-rating-good: oklch(55.4% 0.218 251.813); /* blue-600 - Good button */
	--color-rating-good-hover: oklch(49.2% 0.218 251.813); /* blue-700 - Good hover */
	--color-rating-easy: oklch(60% 0.16 150); /* green-600 - Easy button */
	--color-rating-easy-hover: oklch(50% 0.15 150); /* green-700 - Easy hover */
}

/* Light mode overrides for unified brand colors */
html:not(.dark) {
	--color-text-primary: oklch(20.8% 0.042 265.755); /* gray-900 */
	--color-text-secondary: oklch(44.6% 0.043 257.281); /* gray-600 */
	--color-bg-base: oklch(100% 0 0); /* white */
	--color-bg-surface: oklch(98.8% 0.002 264.531); /* gray-50 */
	--color-bg-elevated: oklch(100% 0 0); /* white */
	--color-border-base: oklch(92.8% 0.006 264.531); /* gray-200 */
	--color-border-elevated: oklch(86.9% 0.022 252.894); /* gray-300 */
	--color-bg-hover: oklch(96.7% 0.003 264.542 / 0.5); /* gray-100/50 */
	--color-bg-hover-solid: oklch(96.7% 0.003 264.542); /* gray-100 */
	--color-toggle-off: oklch(86.9% 0.022 252.894); /* gray-300 */
	--color-tag-bg: oklch(96.7% 0.003 264.542); /* gray-100 */
	--color-tag-text: oklch(44.6% 0.043 257.281); /* gray-600 */

	/* Light mode error colors */
	--color-error-bg: oklch(97% 0.013 25); /* red-50 */
	--color-error-border: oklch(64.8% 0.294 27.325); /* red-500 */
	--color-error-text: oklch(50% 0.227 27.325); /* red-700 */
	--color-error-text-secondary: oklch(41.2% 0.2 27.325); /* red-800 */

	/* Light mode code syntax colors */
	--color-code-bg: oklch(98.8% 0.002 264.531); /* gray-50 - light background */
	--color-code-text: oklch(20.8% 0.042 265.755); /* gray-900 - dark text */
	--color-code-keyword: oklch(40% 0.17 10); /* Darker red for keywords */
	--color-code-string: oklch(45% 0.14 220); /* Darker blue for strings */
	--color-code-number: oklch(45% 0.14 220); /* Darker blue for numbers */
	--color-code-function: oklch(45% 0.15 290); /* Darker purple for functions */
	--color-code-variable: oklch(45% 0.14 220); /* Darker blue for variables */
	--color-code-tag: oklch(40% 0.16 150); /* Darker green for tags */
	--color-code-badge-bg: oklch(96.7% 0.003 264.542); /* gray-100 */
	--color-code-badge-text: oklch(44.6% 0.043 257.281); /* gray-600 */
}

/* Dark mode overrides for unified brand colors */
html.dark {
	--color-text-primary: oklch(98.5% 0.002 247.839); /* white */
	--color-text-secondary: oklch(70.4% 0.04 256.788); /* gray-300 */
	--color-bg-base: oklch(20% 0.002 247.839); /* gray-900 */
	--color-bg-surface: oklch(27.9% 0.041 260.031); /* gray-800 */
	--color-bg-elevated: oklch(31.4% 0.044 257.287); /* gray-750/slightly lighter */
	--color-border-base: oklch(27.9% 0.041 260.031); /* gray-800 */
	--color-border-elevated: oklch(37.2% 0.044 257.287); /* gray-700 */
	--color-bg-hover: oklch(27.9% 0.041 260.031 / 0.5); /* gray-800/50 */
	--color-bg-hover-solid: oklch(27.9% 0.041 260.031); /* gray-800 */
	--color-toggle-off: oklch(37.2% 0.044 257.287); /* gray-700 */
	--color-tag-bg: oklch(37.2% 0.044 257.287); /* gray-700 */
	--color-tag-text: oklch(70.4% 0.04 256.788); /* gray-300 */

	/* Dark mode error colors */
	--color-error-bg: oklch(25% 0.05 27.325 / 0.3); /* red-900/30 */
	--color-error-border: oklch(64.8% 0.294 27.325); /* red-500 */
	--color-error-text: oklch(87.2% 0.204 27.271); /* red-300 */
	--color-error-text-secondary: oklch(87.2% 0.204 27.271); /* red-300 */
}

/* Light mode overrides for sidebar colors */
html:not(.dark) {
	--color-sidebar-bg: oklch(100% 0 0); /* white */
	--color-sidebar-border: oklch(92.8% 0.006 264.531); /* gray-200 light */
	--color-sidebar-text-primary: oklch(20.8% 0.042 265.755); /* gray-900 light */
	--color-sidebar-text-secondary: oklch(44.6% 0.043 257.281); /* gray-600 light */
	--color-sidebar-text-tertiary: oklch(55.4% 0.046 257.417); /* gray-500 light */
	--color-sidebar-hover: oklch(96.7% 0.003 264.542 / 0.5); /* gray-100/50 light */
	--color-sidebar-hover-solid: oklch(96.7% 0.003 264.542); /* gray-100 light */
	--color-sidebar-badge-bg: oklch(86.9% 0.022 252.894); /* gray-300 light */
	--color-sidebar-badge-text: oklch(44.6% 0.043 257.281); /* gray-600 light */
	--color-sidebar-active: oklch(96.7% 0.003 264.542); /* gray-100 light - active state */
}

/* Responsive Dialog - Mobile (<640px) - Fullscreen */
@media (max-width: 640px) {
	:root {
		--max-width-dialog-default: 100vw; /* Fullscreen on mobile */
		--max-width-dialog-wide: 100vw; /* Fullscreen on mobile */
		--border-radius-dialog: 0; /* No border radius for fullscreen */
	}
}

/* Responsive Container Spacing - Tablet */
@media (min-width: 768px) {
	:root {
		--spacing-container-x: 1.5rem; /* 24px tablet */
		--spacing-container-y: 1.5rem; /* 24px tablet */
	}
}

/* Responsive Container Spacing - Desktop */
@media (min-width: 1024px) {
	:root {
		--spacing-container-x: 2rem; /* 32px desktop */
		--spacing-container-y: 2rem; /* 32px desktop */
	}
}

/* Semantic Spacing Utilities - Custom utility classes using design tokens */
@utility px-nav-container {
	padding-inline: var(--spacing-nav-container-x);
}
@utility py-nav-container {
	padding-block: var(--spacing-nav-container-y);
}
@utility mt-nav-container {
	margin-top: var(--spacing-nav-container-y);
}
@utility pt-nav-container {
	padding-top: var(--spacing-nav-container-y);
}
@utility px-nav-item {
	padding-inline: var(--spacing-nav-item-x);
}
@utility py-nav-item {
	padding-block: var(--spacing-nav-item-y);
}
@utility px-menu-item {
	padding-inline: var(--spacing-menu-item-x);
}
@utility py-menu-item {
	padding-block: var(--spacing-menu-item-y);
}
@utility px-section {
	padding-inline: var(--spacing-section-x);
}
@utility py-section {
	padding-block: var(--spacing-section-y);
}
@utility px-badge {
	padding-inline: var(--spacing-badge-x);
}
@utility py-badge {
	padding-block: var(--spacing-badge-y);
}
@utility px-header {
	padding-inline: var(--spacing-header-x);
}
@utility py-header {
	padding-block: var(--spacing-header-y);
}
@utility gap-icon {
	gap: var(--spacing-icon-gap);
}
@utility gap-icon-wide {
	gap: var(--spacing-icon-gap-wide);
}
@utility pl-indent {
	padding-left: var(--spacing-indent);
}

/* Inbox Spacing Utilities */
@utility p-inbox-container {
	padding: var(--spacing-inbox-container);
}
@utility px-inbox-container {
	padding-inline: var(--spacing-inbox-container);
}
@utility py-inbox-container {
	padding-block: var(--spacing-inbox-container);
}
@utility px-inbox-card {
	padding-inline: var(--spacing-inbox-card-x);
}
@utility py-inbox-card {
	padding-block: var(--spacing-inbox-card-y);
}
@utility py-inbox-card-half {
	padding-block: calc(var(--spacing-inbox-card-y) * 0.5);
}
@utility py-inbox-card-compact {
	padding-block: var(--spacing-inbox-card-y-compact);
}
@utility gap-inbox-list {
	gap: var(--spacing-inbox-list-gap);
}
@utility gap-inbox-icon {
	gap: var(--spacing-inbox-icon-gap);
}
@utility mb-inbox-title {
	margin-bottom: var(--spacing-inbox-title-bottom);
}
@utility px-inbox-header {
	padding-inline: var(--spacing-inbox-header-x);
}
@utility py-inbox-header {
	padding-block: var(--spacing-inbox-header-y);
}

/* Meeting Spacing Utilities */
@utility mb-meeting-section {
	margin-bottom: var(--spacing-meeting-section-gap);
}
@utility py-meeting-section {
	padding-block: var(--spacing-meeting-section-gap);
}
@utility gap-meeting-card {
	gap: var(--spacing-meeting-card-gap);
}
@utility px-meeting-card {
	padding-inline: var(--spacing-card-padding-x);
}
@utility py-meeting-card {
	padding-block: var(--spacing-card-padding-y);
}
@utility pt-meeting-card {
	padding-top: var(--spacing-card-padding-y);
}
@utility mt-meeting-card {
	margin-top: var(--spacing-card-padding-y);
}
@utility mb-meeting-card {
	margin-bottom: var(--spacing-card-padding-y);
}
@utility gap-meeting-avatar {
	gap: var(--spacing-meeting-avatar-gap);
}
@utility mt-meeting-avatar-gap {
	margin-top: var(--spacing-meeting-avatar-gap);
}
@utility py-meeting-avatar-gap {
	padding-block: var(--spacing-meeting-avatar-gap);
}
@utility w-meeting-date-badge {
	width: var(--spacing-meeting-date-badge-width);
}
@utility w-meeting-dropdown {
	width: var(--spacing-meeting-dropdown-width);
}
@utility size-meeting-avatar-sm {
	width: var(--size-meeting-avatar-sm);
	height: var(--size-meeting-avatar-sm);
}
@utility size-meeting-avatar-md {
	width: var(--size-meeting-avatar-md);
	height: var(--size-meeting-avatar-md);
}
@utility p-meeting-card {
	padding: var(--spacing-card-padding-x) var(--spacing-card-padding-y);
}

/* Space-Y Utilities - Apply vertical spacing to children (except last) */
.space-y-form-section {
	--tw-space-y-reverse: 0;
}
.space-y-form-section > :not(:last-child) {
	margin-block-start: calc(var(--spacing-form-section-gap) * calc(1 - var(--tw-space-y-reverse)));
	margin-block-end: calc(var(--spacing-form-section-gap) * var(--tw-space-y-reverse));
}
.space-y-meeting-card {
	--tw-space-y-reverse: 0;
}
.space-y-meeting-card > :not(:last-child) {
	margin-block-start: calc(var(--spacing-meeting-card-gap) * calc(1 - var(--tw-space-y-reverse)));
	margin-block-end: calc(var(--spacing-meeting-card-gap) * var(--tw-space-y-reverse));
}
.space-y-meeting-avatar-gap {
	--tw-space-y-reverse: 0;
}
.space-y-meeting-avatar-gap > :not(:last-child) {
	margin-block-start: calc(var(--spacing-meeting-avatar-gap) * calc(1 - var(--tw-space-y-reverse)));
	margin-block-end: calc(var(--spacing-meeting-avatar-gap) * var(--tw-space-y-reverse));
}
.space-y-section-y {
	--tw-space-y-reverse: 0;
}
.space-y-section-y > :not(:last-child) {
	margin-block-start: calc(var(--spacing-section-y) * calc(1 - var(--tw-space-y-reverse)));
	margin-block-end: calc(var(--spacing-section-y) * var(--tw-space-y-reverse));
}
.space-y-error-page {
	--tw-space-y-reverse: 0;
}
.space-y-error-page > :not(:last-child) {
	margin-block-start: calc(var(--spacing-error-page-gap) * calc(1 - var(--tw-space-y-reverse)));
	margin-block-end: calc(var(--spacing-error-page-gap) * var(--tw-space-y-reverse));
}
.space-y-form-field-gap {
	--tw-space-y-reverse: 0;
}
.space-y-form-field-gap > :not(:last-child) {
	margin-block-start: calc(var(--spacing-form-field-gap) * calc(1 - var(--tw-space-y-reverse)));
	margin-block-end: calc(var(--spacing-form-field-gap) * var(--tw-space-y-reverse));
}

/* Modal & Form Spacing Utilities */
@utility p-modal {
	padding: var(--spacing-modal-padding);
}
@utility gap-form-field {
	gap: var(--spacing-form-field-gap);
}
@utility gap-form-section {
	gap: var(--spacing-form-section-gap);
}
@utility px-form-section {
	padding-inline: var(--spacing-form-section-gap);
}
@utility py-form-section {
	padding-block: var(--spacing-form-section-gap);
}
@utility mb-form-section {
	margin-bottom: var(--spacing-form-section-gap);
}
@utility mt-form-section {
	margin-top: var(--spacing-form-section-gap);
}
@utility pl-form-section-gap {
	padding-left: var(--spacing-form-section-gap);
}
@utility mb-form-field-gap {
	margin-bottom: var(--spacing-form-field-gap);
}
@utility mt-form-field-gap {
	margin-top: var(--spacing-form-field-gap);
}
@utility mt-chart-container {
	margin-top: var(--spacing-chart-container);
}
@utility h-chart-container {
	height: var(--spacing-chart-height);
}
@utility gap-chart-bar {
	gap: var(--spacing-chart-bar-gap);
}
@utility gap-chart-item {
	gap: var(--spacing-chart-item-gap);
}
@utility gap-0 {
	gap: 0;
}
@utility mt-section-y {
	margin-top: var(--spacing-section-y);
}
@utility mt-badge-y {
	margin-top: var(--spacing-badge-y);
}
@utility p-form-section {
	padding: var(--spacing-form-section-gap);
}
@utility px-input-x {
	padding-inline: var(--spacing-input-x);
}
@utility py-input-y {
	padding-block: var(--spacing-input-y);
}
@utility px-button-x {
	padding-inline: var(--spacing-button-x);
}
@utility py-button-y {
	padding-block: var(--spacing-button-y);
}
@utility p-button-icon {
	padding: var(--spacing-button-icon);
}
@utility gap-button-group {
	gap: var(--spacing-button-group);
}
@utility p-content-padding {
	padding: var(--spacing-content-padding);
}
@utility pt-content-padding {
	padding-top: var(--spacing-content-padding);
}
@utility pb-content-padding {
	padding-bottom: var(--spacing-content-padding);
}
@utility mb-content-padding {
	margin-bottom: var(--spacing-content-padding);
}
@utility mt-content-padding {
	margin-top: var(--spacing-content-padding);
}
@utility gap-content-section {
	gap: var(--spacing-content-section);
}
@utility mt-content-section {
	margin-top: var(--spacing-content-section);
}
@utility mb-content-section {
	margin-bottom: var(--spacing-content-section);
}

/* System-Level Spacing Utilities */
@utility py-system-header {
	padding-block: var(--spacing-system-header-y);
}
@utility h-system-header {
	height: var(--spacing-system-header-height);
}
@utility py-system-content {
	padding-block: var(--spacing-system-content-y);
}

/* Readability Typography Utilities */
@utility leading-readable {
	line-height: var(--line-height-readable);
}
@utility tracking-readable {
	letter-spacing: var(--letter-spacing-readable);
}
@utility max-w-readable {
	max-width: var(--max-width-readable);
}

/* Readability Spacing Utilities */
@utility py-readable-quote {
	padding-block: var(--spacing-readable-quote-y);
}

/* Settings Spacing Utilities */
@utility gap-settings-section {
	gap: var(--spacing-settings-section-gap);
}
@utility mt-settings-section {
	margin-top: var(--spacing-settings-section-gap);
}
@utility gap-settings-row {
	gap: var(--spacing-settings-row-gap);
}
@utility px-settings-row {
	padding-inline: var(--spacing-settings-row-padding-x);
}
@utility py-settings-row {
	padding-block: var(--spacing-settings-row-padding-y);
}
@utility pb-settings-row {
	padding-bottom: var(--spacing-settings-row-padding-y);
}
@utility pt-settings-section {
	padding-top: var(--spacing-settings-section-gap);
}

/* Control Panel Utilities */
@utility p-control-panel-padding {
	padding: var(--spacing-control-panel-padding);
}
@utility gap-control-group {
	gap: var(--spacing-control-group-gap);
}
@utility gap-control-item-gap {
	gap: var(--spacing-control-item-gap);
}
@utility p-control-button-padding {
	padding: var(--spacing-control-button-padding);
}
@utility mx-control-divider {
	margin-inline: var(--spacing-control-divider);
}
@utility bg-control {
	background-color: var(--color-control-bg);
}
@utility border-control-border {
	border-color: var(--color-control-border);
}
@utility bg-control-button-hover {
	background-color: var(--color-control-button-hover);
}
@utility bg-control-button-active {
	background-color: var(--color-control-button-active);
}
@utility bg-control-divider {
	background-color: var(--color-control-divider);
}

/* Scrollable Container Utilities - Prevents Double Overflow */
/* Pattern: Padding on outer, overflow on inner - prevents scrollbar misalignment */
/* See: design-tokens.md > Scrollable Container Pattern */
@utility scrollable-outer {
	padding: var(--spacing-control-panel-padding);
	/* NO overflow, NO max-height - let inner element handle scroll */
}

@utility scrollable-inner {
	max-height: calc(100vh - 200px);
	overflow-y: auto;
	padding-right: 0.25rem; /* Small gap from right edge */
	/* Scrollbar renders HERE - inside padding boundary */
}

/* Unified Brand Color Utilities - Used throughout the app */
@utility text-primary {
	color: var(--color-text-primary);
}
@utility text-secondary {
	color: var(--color-text-secondary);
}
@utility text-tertiary {
	color: var(--color-text-tertiary);
}
@utility bg-base {
	background-color: var(--color-bg-base);
}
@utility bg-surface {
	background-color: var(--color-bg-surface);
}
@utility bg-elevated {
	background-color: var(--color-bg-elevated);
}
@utility bg-toggle-off {
	background-color: var(--color-toggle-off);
}
@utility border-base {
	border-color: var(--color-border-base);
}
@utility border-elevated {
	border-color: var(--color-border-elevated);
}
@utility border-accent-primary {
	border-color: var(--color-accent-primary);
}
@utility bg-accent-primary {
	background-color: var(--color-accent-primary);
}
@utility bg-accent-hover {
	background-color: var(--color-accent-hover);
}
@utility bg-hover {
	background-color: var(--color-bg-hover);
}
@utility bg-hover-solid {
	background-color: var(--color-bg-hover-solid);
}
@utility bg-selected {
	background-color: var(--color-bg-selected);
}
@utility border-selected {
	border-color: var(--color-accent-primary);
}
@utility bg-tag {
	background-color: var(--color-tag-bg);
}
@utility text-tag {
	color: var(--color-tag-text);
}

/* Error/Destructive Color Utilities */
@utility bg-error {
	background-color: var(--color-error-bg);
}
@utility border-error {
	border-color: var(--color-error-border);
}
@utility text-error {
	color: var(--color-error-text);
}
@utility text-error-secondary {
	color: var(--color-error-text-secondary);
}
@utility bg-error-hover {
	background-color: var(--color-error-hover);
}
@utility text-success {
	color: var(--color-success-text);
}
@utility bg-success {
	background-color: var(--color-success-bg);
}
@utility border-success {
	border-color: var(--color-success-text);
}
@utility text-warning {
	color: var(--color-warning-text);
}
@utility text-warning-high {
	color: var(--color-warning-text-high);
}
@utility rounded-none {
	border-radius: 0;
}

/* Semantic Color Utilities - Sidebar Colors */
@utility bg-sidebar {
	background-color: var(--color-sidebar-bg);
}
@utility text-sidebar-primary {
	color: var(--color-sidebar-text-primary);
}
@utility text-sidebar-secondary {
	color: var(--color-sidebar-text-secondary);
}
@utility text-sidebar-tertiary {
	color: var(--color-sidebar-text-tertiary);
}
@utility border-sidebar {
	border-color: var(--color-sidebar-border);
}
@utility bg-sidebar-hover {
	background-color: var(--color-sidebar-hover);
}
@utility bg-sidebar-hover-solid {
	background-color: var(--color-sidebar-hover-solid);
}
@utility bg-sidebar-active {
	background-color: var(--color-sidebar-active);
}
@utility bg-sidebar-badge {
	background-color: var(--color-sidebar-badge-bg);
}
@utility text-sidebar-badge {
	color: var(--color-sidebar-badge-text);
}

/* Marketing Page Spacing Utilities */
/* Use these for all marketing/content pages (landing pages, blog posts, documentation) */
@utility py-marketing-section {
	padding-block: var(--spacing-marketing-section-y);
}
@utility gap-marketing-section {
	gap: var(--spacing-marketing-section-gap);
}
@utility px-marketing-container {
	padding-inline: var(--spacing-marketing-container-x);
}
@utility mb-marketing-title-to-lead {
	margin-bottom: var(--spacing-marketing-title-to-lead);
}
@utility mt-marketing-content {
	margin-top: var(--spacing-marketing-lead-to-content);
}
@utility mb-marketing-content {
	margin-bottom: var(--spacing-marketing-lead-to-content);
}
@utility p-marketing-card {
	padding: var(--spacing-marketing-card-padding);
}
@utility gap-marketing-card {
	gap: var(--spacing-marketing-card-gap);
}
@utility gap-marketing-element {
	gap: var(--spacing-marketing-element-gap);
}
@utility gap-marketing-text {
	gap: var(--spacing-marketing-text-gap);
}
@utility mb-marketing-text {
	margin-bottom: var(--spacing-marketing-text-gap);
}
@utility py-marketing-hero {
	padding-block: var(--spacing-marketing-hero-y);
}
@utility pb-marketing-hero {
	padding-bottom: var(--spacing-marketing-hero-bottom);
}
@utility gap-marketing-cta {
	gap: var(--spacing-marketing-cta-gap);
}
@utility gap-marketing-badge {
	gap: var(--spacing-marketing-badge-gap);
}
@utility gap-marketing-list {
	gap: var(--spacing-marketing-list-gap);
}

/* Form & Input Color Utilities */
@utility bg-input {
	background-color: var(--color-bg-elevated);
}
@utility text-label-primary {
	color: var(--color-text-primary);
}

/* Flashcard Rating Color Utilities - FSRS spaced repetition buttons */
@utility bg-rating-again {
	background-color: var(--color-rating-again);
}
@utility bg-rating-again-hover {
	background-color: var(--color-rating-again-hover);
}
@utility bg-rating-hard {
	background-color: var(--color-rating-hard);
}
@utility bg-rating-hard-hover {
	background-color: var(--color-rating-hard-hover);
}
@utility bg-rating-good {
	background-color: var(--color-rating-good);
}
@utility bg-rating-good-hover {
	background-color: var(--color-rating-good-hover);
}
@utility bg-rating-easy {
	background-color: var(--color-rating-easy);
}
@utility bg-rating-easy-hover {
	background-color: var(--color-rating-easy-hover);
}

/* Panel Stack Navigation Utilities - Hierarchical panel navigation */
@utility panel-stack-base {
	/* Base panel positioning - MUST be used on all stacking panels */
	position: fixed;
	top: 0;
	right: 0; /* Always flush to right edge */
	height: 100vh;
	width: 100%;
	max-width: 100vw; /* Prevent overflow on small screens */
	background: var(--color-bg-elevated);
	border-left: 1px solid var(--color-border-base);
	/* DO NOT set transform here - Tailwind classes (translate-x-0/translate-x-full) handle it */
	transition: transform 300ms ease-in-out;
	z-index: var(--z-index-panel-base); /* Base z-60, ensures above sidebar z-50 */
	/* Overflow handled by inner flex layout, not here (prevents nested scroll areas) */
}

@utility panel-stack-offset {
	/* Marker class for panels with breadcrumbs - width set via inline styles */
	/* This ensures pointer-events work correctly on offset panels */
	pointer-events: auto;
}

@utility panel-breadcrumb-bar {
	/* Vertical bar showing previous layer name */
	position: absolute;
	left: 0;
	top: 0;
	bottom: 0;
	width: var(--spacing-panel-breadcrumb-width);
	background: var(--color-panel-breadcrumb-bg);
	border-right: 1px solid var(--color-border-base);
	display: flex;
	align-items: center;
	justify-content: center;
	cursor: pointer;
	transition: background-color 150ms ease;
}

@utility panel-breadcrumb-bar-hover {
	background: var(--color-panel-breadcrumb-hover);
}

@utility panel-breadcrumb-text {
	/* Vertical text styling for breadcrumb */
	writing-mode: vertical-rl;
	transform: rotate(180deg);
	color: var(--color-panel-breadcrumb-text);
	font-size: 0.75rem; /* 12px */
	font-weight: 500;
	text-transform: uppercase;
	letter-spacing: 0.05em;
	user-select: none;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
	max-height: calc(100vh - 2rem);
	padding: var(--spacing-panel-breadcrumb-padding);
}

@utility panel-content-with-breadcrumb {
	/* Content container offset when breadcrumb bar is present */
	/* Adds left padding equal to breadcrumb width to prevent overlap */
	padding-left: var(--spacing-panel-breadcrumb-width);
}

/* Card Component Utilities */
@utility rounded-card {
	border-radius: var(--border-radius-card);
}
@utility rounded-avatar {
	border-radius: var(--border-radius-avatar);
}
@utility shadow-card {
	box-shadow: var(--shadow-card);
}
@utility shadow-card-hover {
	box-shadow: var(--shadow-card-hover);
}
@utility px-card {
	padding-inline: var(--spacing-card-padding-x);
}
@utility py-card {
	padding-block: var(--spacing-card-padding-y);
}
@utility p-card-compact {
	padding: var(--spacing-card-compact);
}
@utility p-0 {
	padding: var(--spacing-0);
}
@utility py-error-page {
	padding-block: var(--spacing-error-page-y);
}

/* Dialog Component Utilities */
@utility max-w-dialog-default {
	max-width: var(--max-width-dialog-default);
}
@utility max-w-dialog-wide {
	max-width: var(--max-width-dialog-wide);
}
@utility rounded-dialog {
	border-radius: var(--border-radius-dialog);
}
@utility rounded-dialog-fullscreen {
	border-radius: var(--border-radius-dialog-fullscreen);
}
@utility min-w-dropdown {
	min-width: var(--min-width-dropdown);
}
@utility min-w-dropdown {
	min-width: var(--min-width-dropdown);
}

/* Dialog Close Button Utility - Standardized styling for icon close buttons */
@utility dialog-close-button {
	/* Sizing - ensure proper touch targets */
	padding: var(--spacing-button-icon); /* 0.75rem (12px) - matches icon-only buttons */
	min-height: var(--size-button-height); /* 2.75rem (44px) - accessibility minimum */
	min-width: var(--size-button-height); /* 2.75rem (44px) - square button */

	/* Layout */
	display: inline-flex;
	align-items: center;
	justify-content: center;

	/* Styling */
	border-radius: var(--border-radius-button); /* 0.5rem (8px) */
	background-color: transparent;
	color: var(--color-text-secondary);

	/* Transitions */
	transition: var(--transition-colors);

	/* States */
	&:hover {
		background-color: var(--color-bg-hover-solid);
		color: var(--color-text-primary);
	}

	/* Focus visible - only show on keyboard navigation, not mouse clicks */
	&:focus-visible {
		outline: 2px solid var(--color-accent-primary);
		outline-offset: 2px;
	}

	/* Remove default focus ring for mouse clicks */
	&:focus:not(:focus-visible) {
		outline: none;
	}

	&:disabled {
		opacity: 0.5;
		cursor: not-allowed;
	}
}

/* Accordion Component Utilities */
@utility px-accordion {
	padding-inline: var(--spacing-accordion-padding-x);
}
@utility py-accordion {
	padding-block: var(--spacing-accordion-padding-y);
}
@utility gap-accordion {
	gap: var(--spacing-accordion-gap);
}

/* Button Component Utilities */
@utility text-button {
	font-size: var(--font-size-button);
	font-weight: var(--font-weight-button);
}
@utility min-h-button {
	min-height: var(--size-button-height);
}

/* Badge Component Utilities */
@utility rounded-badge {
	border-radius: var(--border-radius-badge);
}
@utility text-badge {
	font-size: var(--font-size-badge);
	font-weight: var(--font-weight-badge);
}
@utility min-w-badge {
	min-width: var(--min-width-badge);
}

/* Chip Component Utilities */
@utility px-chip {
	padding-inline: var(--spacing-chip-x);
}
@utility py-chip {
	padding-block: var(--spacing-chip-y);
}
@utility gap-chip {
	gap: var(--spacing-chip-gap);
}
@utility p-chip-close {
	padding: var(--spacing-chip-close-padding);
}
@utility -mr-chip-close {
	margin-right: calc(var(--spacing-chip-close-padding) * -1);
}
@utility rounded-chip {
	border-radius: var(--border-radius-chip);
}
@utility text-chip {
	font-size: var(--font-size-chip);
	font-weight: var(--font-weight-chip);
}

/* Container Spacing Utilities */
@utility px-container {
	padding-inline: var(--spacing-container-x);
}
@utility py-container {
	padding-block: var(--spacing-container-y);
}
@utility max-w-container {
	max-width: var(--max-width-container);
}

/* Typography Scale Utilities */
@utility text-h1 {
	font-size: var(--font-size-h1);
	font-weight: var(--font-weight-h1);
}
@utility text-h2 {
	font-size: var(--font-size-h2);
	font-weight: var(--font-weight-h2);
}
@utility text-h3 {
	font-size: var(--font-size-h3);
	font-weight: var(--font-weight-h3);
}
@utility text-body {
	font-size: var(--font-size-body);
}
@utility text-small {
	font-size: var(--font-size-small);
}
@utility text-label {
	font-size: var(--text-label);
}
@utility text-error-status {
	font-size: var(--font-size-error-status);
}

/* Flashcard Typography Utilities - Large display text */
@utility text-flashcard-question {
	font-size: var(--font-size-flashcard-question);
}
@utility text-flashcard-question-lg {
	font-size: var(--font-size-flashcard-question-lg);
}
@utility text-flashcard-answer {
	font-size: var(--font-size-flashcard-answer);
}
@utility text-flashcard-answer-lg {
	font-size: var(--font-size-flashcard-answer-lg);
}

/* Input Border Radius Utility */
@utility rounded-input {
	border-radius: var(--border-radius-input);
}

/* Destructive Button Utilities */
@utility bg-destructive {
	background-color: var(--color-destructive-button);
}
@utility bg-destructive-hover {
	background-color: var(--color-destructive-button-hover);
}

/* Icon Size Utilities */
@utility icon-xs {
	width: var(--size-icon-xs);
	height: var(--size-icon-xs);
}
@utility icon-sm {
	width: var(--size-icon-sm);
	height: var(--size-icon-sm);
}
@utility icon-md {
	width: var(--size-icon-md);
	height: var(--size-icon-md);
}
@utility icon-lg {
	width: var(--size-icon-lg);
	height: var(--size-icon-lg);
}
@utility icon-xl {
	width: var(--size-icon-xl);
	height: var(--size-icon-xl);
}
@utility size-quote-decoration {
	width: var(--size-quote-decoration);
	height: var(--size-quote-decoration);
}
@utility size-keyboard-key {
	width: var(--size-keyboard-key);
	height: var(--size-keyboard-key);
}
@utility w-sidebar-detail {
	width: var(--width-sidebar-detail);
}
@utility w-sidebar-hover-zone {
	width: var(--spacing-sidebar-hover-zone);
}
@utility w-settings-sidebar {
	width: var(--width-settings-sidebar);
}
@utility mb-section-label {
	margin-bottom: var(--spacing-section-label-gap);
}
@utility space-y-nav-item-compact {
	gap: var(--spacing-nav-item-y-compact);
}
@utility z-sidebar {
	z-index: var(--z-index-sidebar);
}

/* Avatar Size Utilities */
@utility size-avatar-sm {
	width: var(--size-avatar-sm);
	height: var(--size-avatar-sm);
}
@utility size-avatar-md {
	width: var(--size-avatar-md);
	height: var(--size-avatar-md);
}
@utility size-avatar-lg {
	width: var(--size-avatar-lg);
	height: var(--size-avatar-lg);
}

/* Tabs Component Utilities */
@utility size-tab {
	height: var(--size-tab-height);
}
@utility px-tab {
	padding-inline: var(--spacing-tab-padding-x);
}
@utility py-tab {
	padding-block: var(--spacing-tab-padding-y);
}
@utility rounded-tab-container {
	border-radius: var(--border-radius-tab-container);
}
@utility rounded-tab-item {
	border-radius: var(--border-radius-tab-item);
}

/* Transition Utilities */
@utility transition-default {
	transition: var(--transition-default);
}
@utility transition-slow {
	transition: var(--transition-slow);
}
@utility transition-fast {
	transition: var(--transition-fast);
}
@utility transition-colors-token {
	transition: var(--transition-colors);
}

/* Border Radius Utilities */
@utility rounded-input {
	border-radius: 0.375rem; /* 6px */
}
@utility rounded-button {
	border-radius: var(--border-radius-button); /* 8px - uses token for consistency */
}
@utility rounded-modal {
	border-radius: 0.5rem; /* 8px */
}

/* Shadow Utilities */
@utility shadow-pin-glow {
	box-shadow: var(--shadow-pin-glow);
}

/* PIN Input Utilities */
@utility text-pin-cell {
	font-size: var(--size-pin-cell-text);
}

@utility leading-pin-cell {
	line-height: var(--size-pin-cell);
}

/* Mobile optimizations */
html {
	-webkit-text-size-adjust: 100%;
	-webkit-tap-highlight-color: transparent;
	background: var(--color-bg-base);
	color: var(--color-text-primary);
}

body {
	margin: 0;
	padding: 0;
	/* Safe area insets for iOS notch and home indicator */
	padding-top: env(safe-area-inset-top);
	padding-bottom: env(safe-area-inset-bottom);
	background: var(--color-bg-base);
	color: var(--color-text-primary);
	padding-left: env(safe-area-inset-left);
	padding-right: env(safe-area-inset-right);
}

/* Prevent zoom on input focus (iOS) */
input,
textarea,
select {
	font-size: 16px;
}

/* Better touch targets for mobile */
button,
a {
	touch-action: manipulation;
}

/* Storybook Preview Constraints - Ensure components fit in viewport */
/* Target Storybook's preview wrapper containers */
:global([data-test-id='storybook-preview-wrapper']) {
	max-width: 100% !important;
	max-height: calc(100vh - 200px) !important;
	overflow: auto !important;
	display: flex !important;
	justify-content: center !important;
	align-items: flex-start !important;
	padding: 1rem !important;
}

/* Constrain story content to fit viewport */
:global([data-test-id='storybook-preview-wrapper'] > *) {
	max-width: 100% !important;
	max-height: calc(100vh - 250px) !important;
}
