import{d as O,f as g,a as p,t as Y,c as Z}from"../chunks/ClEwQIZJ.js";import{o as $}from"../chunks/QKLj4cNN.js";import{p as ee,T as b,U as ae,s as d,t as P,j as s,a as te,V as n,c as t,r,W as re,X as j,f as se}from"../chunks/kOT-I_MI.js";import{s as k}from"../chunks/LC4C1fji.js";import{i as C}from"../chunks/SF-wfan-.js";import{b as de}from"../chunks/BHj6_6we.js";import{u as ne,m as z}from"../chunks/CmDhudRb.js";var ie=g('<span class="text-green-600 dark:text-green-400">‚úÖ Claude API key is configured</span>'),oe=g('<span class="text-orange-600 dark:text-orange-400">‚ö†Ô∏è Claude API key not configured.</span> <a href="/settings" class="text-accent-primary hover:underline ml-1">Go to Settings</a>',1),le=g('<div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 mb-6"><p class="text-sm font-medium text-red-900 dark:text-red-200 mb-1">Error</p> <p class="text-sm text-red-700 dark:text-red-300"> </p></div>'),ce=g('<div class="bg-elevated border border-border-elevated rounded-md overflow-hidden mb-6"><div class="bg-surface border-b border-border px-6 py-4"><p class="text-sm font-medium text-primary">Generated Flashcard</p></div> <div class="p-6 space-y-6"><div><p class="text-xs font-medium text-tertiary uppercase tracking-wider mb-2">Question</p> <div class="bg-base border border-border rounded-md p-4"><p class="text-base text-primary leading-relaxed"> </p></div></div> <div><p class="text-xs font-medium text-tertiary uppercase tracking-wider mb-2">Answer</p> <div class="bg-base border border-border rounded-md p-4"><p class="text-base text-primary leading-relaxed whitespace-pre-wrap"> </p></div></div></div></div>'),pe=g('<div class="h-full overflow-y-auto bg-base"><div class="max-w-4xl mx-auto p-inbox-container"><div class="mb-6"><h1 class="text-2xl font-bold text-primary mb-2">Claude Flashcard Generator</h1> <p class="text-sm font-normal text-secondary">Test Claude API integration by generating flashcards from your text input</p></div> <div class="bg-elevated border border-border-elevated rounded-md p-4 mb-6"><div class="flex items-center justify-between"><div><p class="text-sm font-medium text-primary mb-1">API Key Status</p> <p class="text-sm text-secondary"><!></p></div></div></div> <div class="bg-elevated border border-border-elevated rounded-md p-6 mb-6"><label for="test-input" class="block text-sm font-medium text-primary mb-2">Input Text</label> <p class="text-xs text-tertiary mb-3">Enter any text you want to convert into a flashcard question and answer</p> <textarea id="test-input" placeholder="Example: The Build-Measure-Learn cycle is a fundamental concept in lean startup methodology..." class="w-full px-3 py-2 bg-base border border-border rounded-md text-primary placeholder-secondary focus:outline-none focus:ring-2 focus:ring-accent-primary focus:border-transparent resize-none transition-all" rows="6"></textarea> <button type="button" class="mt-4 px-4 py-2 bg-accent-primary text-white rounded-md hover:bg-accent-primary-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed font-medium text-sm"> </button></div> <!> <!> <div class="bg-surface border border-border-elevated rounded-md p-6"><p class="text-sm font-medium text-primary mb-3">üìö How to Use</p> <ul class="space-y-2 text-sm text-secondary"><li class="flex items-start gap-2"><span class="text-tertiary mt-1">‚Ä¢</span> <span>Enter any text (notes, article excerpts, book highlights, etc.) in the input field</span></li> <li class="flex items-start gap-2"><span class="text-tertiary mt-1">‚Ä¢</span> <span>Click "Generate Flashcard" to send the text to Claude API</span></li> <li class="flex items-start gap-2"><span class="text-tertiary mt-1">‚Ä¢</span> <span>Claude will create a question and answer format optimized for learning and retention</span></li> <li class="flex items-start gap-2"><span class="text-tertiary mt-1">‚Ä¢</span> <span>The generated flashcard will appear below once processing is complete</span></li></ul></div></div></div>');function ye(M,B){ee(B,!0);let u=b(""),v=b(null),x=b(!1),m=b(null);const y=ne();let o=b(ae({isLoading:!0,data:null}));$(async()=>{if(!y){n(o,{isLoading:!1,data:null},!0);return}try{const e=z("settings:getUserSettings"),a=await y.query(e,{});n(o,{isLoading:!1,data:a?{hasClaudeKey:a.hasClaudeKey||!1}:null},!0)}catch{n(o,{isLoading:!1,data:null},!0)}});async function H(){if(!s(u).trim()){n(m,"Please enter some text to generate a flashcard from");return}if(!s(o).data?.hasClaudeKey){n(m,"Claude API key is not configured. Please add your API key in Settings first.");return}n(x,!0),n(m,null),n(v,null);try{if(!y)throw new Error("Convex client not available");const e=z("generateFlashcard:generateFlashcard"),a=await y.action(e,{text:s(u)});if(a.success&&a.flashcard)n(v,a.flashcard,!0);else throw new Error("Failed to generate flashcard")}catch(e){n(m,e instanceof Error?e.message:"Failed to generate flashcard",!0)}finally{n(x,!1)}}var F=pe(),E=t(F),A=d(t(E),2),G=t(A),L=t(G),K=d(t(L),2),Q=t(K);{var R=e=>{var a=Y("Loading...");p(e,a)},V=e=>{var a=Z(),l=se(a);{var c=i=>{var f=ie();p(i,f)},w=i=>{var f=oe();j(2),p(i,f)};C(l,i=>{s(o).data?.hasClaudeKey?i(c):i(w,!1)},!0)}p(e,a)};C(Q,e=>{s(o).isLoading?e(R):e(V,!1)})}r(K),r(L),r(G),r(A);var I=d(A,2),h=d(t(I),4);re(h);var _=d(h,2);_.__click=H;var W=t(_,!0);r(_),r(I);var S=d(I,2);{var X=e=>{var a=le(),l=d(t(a),2),c=t(l,!0);r(l),r(a),P(()=>k(c,s(m))),p(e,a)};C(S,e=>{s(m)&&e(X)})}var D=d(S,2);{var J=e=>{var a=ce(),l=d(t(a),2),c=t(l),w=d(t(c),2),i=t(w),f=t(i,!0);r(i),r(w),r(c);var T=d(c,2),q=d(t(T),2),U=t(q),N=t(U,!0);r(U),r(q),r(T),r(l),r(a),P(()=>{k(f,s(v).question),k(N,s(v).answer)}),p(e,a)};C(D,e=>{s(v)&&e(J)})}j(2),r(E),r(F),P(e=>{h.disabled=s(x),_.disabled=e,k(W,s(x)?"Generating...":"Generate Flashcard")},[()=>s(x)||!s(u).trim()||!s(o).data?.hasClaudeKey]),de(h,()=>s(u),e=>n(u,e)),p(M,F),te()}O(["click"]);export{ye as component};
